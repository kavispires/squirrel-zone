{"version":3,"sources":["serviceWorker.js","images/logo.svg","components/global/Header.jsx","services/firebase.js","utils/constants.js","states/useDistributorState.js","utils/distributor/enum.js","utils/distributor/utilities.js","utils/distributor/part.js","utils/distributor/line.js","utils/distributor/section.js","utils/distributor/song.js","services/store.js","states/useGlobalState.js","states/useLoadingState.js","utils/index.js","api/deserializers.js","api/serializers.js","api/index.js","components/global/LoadingContainer.jsx","components/modals/LoadMemberModal.jsx","components/admin/EditMember.jsx","components/modals/LoadGroupModal.jsx","components/admin/EditGroup.jsx","components/Admin.jsx","components/svg/Grid.jsx","utils/properties/index.js","utils/properties/fur.js","utils/properties/snout.js","utils/properties/nose.js","utils/properties/eyes.js","utils/properties/defaults.js","components/svg/BaseBody.jsx","components/svg/index.js","components/svg/BaseHead.jsx","components/svg/BaseTail.jsx","states/useCharacterState.js","components/Character.jsx","components/options/FurColorSelector.jsx","components/options/SnoutColorSelector.jsx","components/options/NoseColorSelector.jsx","components/options/EyeColorSelector.jsx","components/CharacterOptions.jsx","components/Creator.jsx","states/functions.js","components/modals/LoadSongModal.jsx","components/distributor/YoutubeVideo.jsx","components/log/LogAssignees.jsx","components/log/LogPart.jsx","components/log/LogLine.jsx","components/log/LogSection.jsx","components/log/Log.jsx","components/Avatar.jsx","components/Member.jsx","components/Distribute.jsx","components/distributor/StepperProgress.jsx","components/distributor/LoadSong.jsx","components/distributor/LyricsAndSections.jsx","components/distributor/OptionsSection.jsx","components/distributor/OptionsLine.jsx","components/distributor/OptionsPart.jsx","components/distributor/ModalOptions.jsx","components/distributor/KeyCapture.jsx","utils/useKeypress.js","components/distributor/Controls.jsx","components/distributor/TimestampsBank.jsx","components/distributor/TimeAndSync.jsx","utils/distribution/chartEntry.js","utils/distribution/distributedPart.js","utils/distribution/lineEntry.js","utils/distribution/lyricEntry.js","utils/distribution/memberEntry.js","utils/distribution/previewer.js","components/distributor/LineDistribution.jsx","components/distributor/Preview.jsx","components/distributor/SongMetadata.jsx","components/distributor/SaveSong.jsx","components/Distributor.jsx","components/Groups.jsx","components/Home.jsx","api/auth.js","components/Login.jsx","components/Distribution.jsx","components/global/Loading.jsx","components/global/Notification.jsx","components/App.jsx","index.js"],"names":["Boolean","window","location","hostname","match","Header","isAuthenticated","className","src","logo","alt","to","exact","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","db","database","DATA_TYPE","DATA_TYPE_COLLECTION","KEYS","KEY_ASSIGNEE","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","POSITIONS","LEADER","MAIN_VOCALIST","LEAD_VOCALIST","VOCALIST","SUB_VOCALIST","MAIN_RAPPER","LEAD_RAPPER","RAPPER","MAIN_DANCER","LEAD_DANCER","DANCER","VISUAL","CENTER","POSITIONS_WEIGHT","ROMAN_NUMBER","0","10","11","12","13","14","15","DEFAULT_MEMBERS","id","type","key","name","color","positions","MUSIC_SCALE","map","chord","flat","DISTRIBUTION_NAME","ORIGINAL","COVER","SPECIAL","WHAT_IF","REDO","createGlobalState","step","videoId","isRecording","song","sections","lines","parts","activeInstance","selection","unassignedTimestamps","assignee","selectedTimestamps","isPlaying","isFullyLoaded","currentLine","currentSection","timestamp","useGlobalState","setGlobalState","getGlobalState","NULL","ASSIGNEE","ASSIGNEE_LABEL","SKILL","AD_LIB","CHOIR","DANCE","RAP","VOCAL","SKILL_LEVEL","SKILL_TYPE","BELT","SFX","SHOUT","REGULAR","RUN","WHISPER","CHANTING","SHOUTING","GROUP","LIPSYNC","POSING","SOLO","SLOW","FAST","SPOKEN","HIGH","LOW","SECTION","BREAK","BRIDGE","CHORUS","DANCE_BREAK","DROP","HOOK","INSTRUMENTAL_SOLO","INTRO","OUTRO","POST_CHORUS","PRE_CHORUS","UNKNOWN","VERSE","generateUniqueId","cache","generate","length","Math","random","toString","substr","generateTempId","lastId","convertStoMS","seconds","round","serializeKey","deserializeKey","split","getDefault","context","data","propertyName","defaultValue","getNullDefault","undefined","getEnumDefault","enumObj","getRelationshipsDefault","instance","reduce","ids","entry","push","nullifyDefault","defaultValues","getDuplicatedData","dict","list","isKey","entries","result","item","Object","forEach","value","cleanupObject","obj","keys","filter","k","a","Part","this","_id","_type","endTime","startTime","text","lineId","deserialize","console","log","setDistributorGlobalState","state","_save","line","getDistributorGlobalState","Error","addPart","removePart","trim","criteria","duration","complete","i","floor","completion","isComplete","isDismissible","sectionId","freeze","Line","skill","skillType","skillLevel","placeholder","partsIds","_isSorted","sortedParts","sort","b","part","values","acc","cur","section","addLine","removeLine","partId","lindId","library","linesIds","index","findIndex","firstPart","lastPart","join","attributesCompletion","relationshipsCompletion","relationshipsTotal","p","isAdLib","isChoir","isDance","isRap","Section","kind","number","songId","sortedLines","addSection","removeSection","sectionsIds","firstLine","lastLine","l","Song","title","version","createdAt","Date","now","updatedAt","isSingle","idealGroupSize","moment","tempo","genre","scale","style","albumId","sortedSections","sectionsNumbers","included","sectionsLibrary","linesLibrary","partsLibrary","serialize","format","lastSection","allPartsIds","s","partsCount","Store","_records","_collections","_loaded","_loadedInstance","API","fetchDistributionData","fetchMember","fetchSong","fetchSongData","asObject","extra","collectionSorting","filterKey","fetchDistributions","_updateCollection","fetchGroups","fetchMembers","fetchSongs","isAdditive","incomingData","recordKey","record","DEFAULT_SORTING","x","y","songTitle","debutYear","age","store","notification","message","description","isLoading","activeGroup","activeGroupSongs","activeMembers","loadedLineDistribution","lineDistribution","stats","reducerTypeMapping","createStore","action","newState","payload","some","v","warn","isAlbumLoading","isDistributionLoading","isDistributionDataLoading","isGroupLoading","isMemberLoading","isMemberDataLoading","isSongLoading","isSongDataLoading","dispatch","wasPrinted","printProps","props","e","hex","f","rate","bemClass","args","baseClass","c","getBemModifier","condition","modifier","bemClassConditionalModifier","getFrameFromTimestamp","framerate","getTimestampFromFrame","frame","buildMockDistribution","groupId","deepCopy","JSON","parse","stringify","cleanupStats","deserializer","distribution","assignedParts","group","member","songData","includedData","cleanData","serializer","distributionData","disbandmentYear","membersIds","hexColor","startsWith","colorName","codename","tagline","isContestant","errorNotification","error","successNotification","fetchAlbums","setLoading","collectionName","ref","child","once","snapshot","childSnapshot","setRecord","val","distributionId","typeName","saveDistribution","deserializedData","distributionDataCollectionName","set","saveGroup","memberId","saveMember","saveSong","dataCollectionName","deserializedSong","deserializedSongData","LoadingContainer","children","waitFor","noResults","forceLoading","size","useLoadingState","BorderOutlined","MemberModal","isModalVisible","setIsModalVisible","onBeforeLoad","setLoadedData","onAfterLoad","useState","setData","selectedId","setSelectedId","useEffect","getCollection","loadMembers","onLoadMember","useCallback","getRecord","fetchData","rowSelection","onChange","_","selectedRows","visible","onOk","okText","onCancel","okButtonProps","disabled","columns","dataIndex","render","dataSource","LoadMemberModal","buttonLabel","onClick","EditMember","loadedData","Form","useForm","form","setFieldsValue","onFinish","resetFields","requiredRule","required","layout","autoComplete","preserve","Item","label","rules","min","valuePropName","mode","allowClear","width","position","Option","htmlType","GroupModal","loadGroups","onLoadSong","loadGroup","LoadGroupModal","EditGroup","membersOptions","setMembersOptions","TabPane","Tabs","Admin","setTab","Content","defaultActiveKey","tab","Grid","PROPS","FUR","AA","dna","AB","AC","AD","BA","BB","BC","BD","CA","CB","CC","CD","DA","DB","DC","DD","HEAD","SNOUT","NOSE","EYES","DEFAULTS","BaseBody","svg","xmlns","overflow","viewBox","d","transform","cx","cy","r","Base","Head","furColor","snoutColor","noseColor","eyeColor","furColorClass","st2FurClass","snoutColorClass","snoutClass","noseColorClass","noseClass","eyeColorClass","pupilClass","rx","ry","Body","furClass","st1FurClass","Tail","borderFurClass","fillFurClass","initialState","Character","useCharacterState","FURS","FurColorSelector","setFurColor","target","htmlFor","Group","swatch","Button","checked","SNOUTS","SnoutColorSelector","setSnoutColor","NOSES","NoseColorSelector","setNoseColor","EyeColorSelector","setEyeColor","CharacterOptions","Panel","header","Creator","loadSongState","newSong","newSections","newLines","newParts","newInstance","loadActiveMembers","includeDefault","members","SongModal","CheckOutlined","LoadSongModal","YoutubeVideo","playerRef","height","onStateChange","useDistributorState","setIsRecording","setIsPlaying","videoOptions","playerVars","autoplay","containerClassName","opts","onReady","onPlay","onPause","onEnd","onPlaybackRateChange","LogAssignees","ApiOutlined","distributionAssignees","assignedMembers","backgroundColor","LogPart","Compact","seekAndPlay","onCheckboxChange","setSelectedTimestamps","setUnassignedTimestamps","checkedIndex","setCheckedIndex","indexOf","assigneeClass","attachTimestamp","selectedTimestampsCopy","firstTimestamp","shift","updateTimestamp","onPlayPart","icon","CheckCircleOutlined","NotificationFilled","shape","Distribute","assignMembers","Edit","onShowModal","LogLine","onLineSelection","every","DoubleRightOutlined","isLineChecked","includes","checkedClass","MessageFilled","PlusOutlined","newPart","onAddNewPart","ColumnWidthOutlined","LogSection","onListSelection","onPlaySection","PlayCircleOutlined","OrderedListOutlined","isSectionChecked","onAddNewLine","newLine","DatabaseFilled","Log","defaultCompactSetting","locked","setActiveInstance","setSelection","isCompact","setIsCompact","handleEditAll","batchDeserializeInstancesSameData","equalParts","partKeys","defaultChecked","Avatar","urlPrefix","border","toLowerCase","fallback","Member","showName","showPosition","progress","count","showProgressNumber","borderColor","DistributeWidget","distributionCompletion","resetDistribution","setLineDistribution","setStats","selectedMember","setSelectedMember","isAbsoluteProgress","setAbsoluteProgress","progressType","setProgressType","useRef","total","totalAll","totalAllNone","max","maxAll","maxAllNone","newStats","memberKeysObj","partDuration","membersKeys","memberKey","relativeProgress","relativeProgressAll","relativeProgressAllNone","absoluteProgress","absoluteProgressAll","absoluteProgressAllNone","toggleMember","memberStats","MemberSelection","percent","current","internalPlayer","seekTo","playVideo","isSelected","history","useHistory","setActiveMembers","setLoadedDistribution","distributionName","setDistributionName","loadContent","response","distValue","distText","Step","Steps","StepperProgress","currentStep","progressDot","Number","LoadSong","setSong","setStep","setVideoId","onAddVideoId","event","addonBefore","onPressEnter","Paragraph","Typography","LyricsAndSections","setLines","setParts","setSections","isBuiltOnce","setIsBuiltOnce","textarea","setTextarea","onTextareaChange","buildSections","filteredTextarea","tempSections","tempSection","newSectionId","newSection","rebuildSections","confirm","TextArea","danger","OptionsSection","onValuesChange","initialValues","linesTotal","help","DeleteOutlined","OptionsLine","setSkill","onSkillChange","partsTotal","skillTypes","ASSIGNEE_OPTIONS","OptionsPart","onCancelModal","tempAssignee","setTempAssignee","formClass","deletePart","disconnectLine","options","optionType","ModalOptions","tempData","setTempData","onSaveModal","onFormChange","playing","temp","keyPressing","handleActionDown","getCurrentTime","newTimestamp","handleActionUp","copy","KeyCapture","Keyboard","onKeyDown","addEventListener","removeEventListener","onKeyup","useKeyUp","MouseButtons","onCaptureButtonDown","onCaptureButtonUp","onMouseDown","onMouseUp","Controls","pauseVideo","toggleRecording","currentTarget","blur","TimestampsBank","isPointAndClickOn","setIsPointClickOn","isOnlyPartsSelection","setIsOnlyPartsSelection","isTimestampDeleteOn","setIsTimestampDeleteOn","onToggleTimestampSelection","selectedClass","sts","ts","arr","unassignedTimestampsArray","onToggleSequentialPointAndClick","deleteAllUnassignedTimestamps","onToggleTimestampDelete","onTimestampClick","onPerformLinearSync","partKey","selectedIndex","activeClass","DeleteFilled","ClockCircleOutlined","block","TimeAndSync","ChartEntry","on","percentage","DistributedPart","assignees","Array","isArray","LineEntry","LyricEntry","Set","names","colors","MemberEntry","ALL_NONE_MEMBERS","Previewer","allParts","_songTitle","_allParts","_distribution","_framerate","_members","_buildMembers","_distributedParts","_buildDistributionParts","_max","_calculateMax","_priorityPosition","_buildMemberPriorityPosition","_membersCountCache","_membersChartData","_buildMembersLineBarChartData","distributedPart","distributedAssignees","totalDuration","winningDuration","winnerKey","memberEntry","force","_bars","dPart","startIndex","endIndex","assigneeKey","chartEntry","ceil","sortedEntry","toFixed","newLastEntry","_lyrics","lineEntries","add","lyricsEntries","sortedLineEntries","latestEntry","cleanup","RankingBars","currentRank","RankEntry","rank","onClass","LyricsScroller","currentTime","lyrics","lyricsRef","latestIndex","setLatestIndex","trunc","scrollIntoView","behavior","lyric","paddingClass","el","Lyric","LineDistribution","bars","intervalId","setIntervalId","setCurrentTime","setCurrentRank","frameIndex","setInterval","clearInterval","Preview","sampleGroupJson","sampleGroup","previewMembers","setPreviewMembers","previewBars","setPreviewBars","previewLyrics","setPreviewLyrics","preview","SongMetadata","formatter","showSearch","SaveSong","success","setSuccess","onSave","Collapse","Distributor","accordion","activeKey","setActiveGroup","setActiveGroupSongs","setLoadedLineDistribution","setIsFullyLoaded","groupMembers","setGroupMembers","activateDistribution","isEdit","groupDistributionsResponse","dist","route","EditOutlined","tab1","FileAddOutlined","GroupDistributions","groupDistributions","setGroupDistributions","groupedDistributions","setGroupedDistributions","grouped","groupKey","groupedSections","sectionTitle","distributions","UNCATEGORIZED","GroupDistributionSnippet","YoutubeOutlined","gDist","showHeader","tableLayout","memberData","Groups","groups","setGroups","setMembers","groupsRefs","offsetTop","Home","signIn","email","password","signInWithEmailAndPassword","labelCol","span","wrapperCol","tailLayout","offset","Login","setError","setEmail","setPassword","onHandleSubmit","showIcon","Distribution","Loading","Notification","setNotification","onClose","placement","openNotification","PrivateRoute","Component","component","authenticated","rest","pathname","from","PublicRoute","fromPath","App","setIsLoading","setIsAuthenticated","onAuthStateChanged","user","path","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.fbe39860.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export default __webpack_public_path__ + \"static/media/logo.f1d0cca3.svg\";","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\n// Design Resources\nimport { Layout } from 'antd';\n\nimport logo from '../../images/logo.svg';\n\nfunction Header({ isAuthenticated }) {\n  return (\n    <Layout.Header className=\"header\">\n      <img src={logo} className=\"header__logo\" alt=\"Squirrel Zone Logo\" />\n      {isAuthenticated && (\n        <nav className=\"header__nav\">\n          <ul>\n            <li>\n              <NavLink to=\"/\" exact>\n                Home\n              </NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/history\">History</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/groups\">Groups</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/creator\">Creator</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/distributor\">Distributor</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/admin\">Admin</NavLink>\n            </li>\n          </ul>\n        </nav>\n      )}\n    </Layout.Header>\n  );\n}\n\nexport default Header;\n","import firebase from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_API_ID,\n};\n\nfirebase.initializeApp(firebaseConfig);\n// firebase.analytics();\n\nexport const auth = firebase.auth;\nexport const db = firebase.database();\n","export const DATA_TYPE = {\n  ALBUM: 'album',\n  DISTRIBUTION: 'distribution',\n  DISTRIBUTION_DATA: 'distribution-data',\n  GROUP: 'group',\n  MEMBER: 'member',\n  MEMBER_DATA: 'member-data',\n  SONG: 'song',\n  SONG_DATA: 'song-data',\n};\n\nexport const DATA_TYPE_COLLECTION = {\n  [DATA_TYPE.ALBUM]: 'albums',\n  [DATA_TYPE.DISTRIBUTION]: 'distributions',\n  [DATA_TYPE.DISTRIBUTION_DATA]: 'distributions-data',\n  [DATA_TYPE.GROUP]: 'groups',\n  [DATA_TYPE.MEMBER]: 'members',\n  [DATA_TYPE.MEMBER_DATA]: 'members-data',\n  [DATA_TYPE.SONG]: 'songs',\n  [DATA_TYPE.SONG_DATA]: 'songs-data',\n};\n\nexport const KEYS = [' ', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\n\nexport const KEY_ASSIGNEE = {\n  ' ': 'S',\n  1: 'A',\n  2: 'B',\n  3: 'C',\n  4: 'D',\n  5: 'E',\n  6: 'F',\n  7: 'G',\n  8: 'H',\n  9: 'I',\n  A: 'A',\n  B: 'B',\n  C: 'C',\n  D: 'D',\n  E: 'E',\n  F: '',\n  G: 'G',\n  H: 'H',\n  I: 'I',\n};\n\nexport const POSITIONS = {\n  LEADER: 'LEADER',\n  MAIN_VOCALIST: 'MAIN_VOCALIST',\n  LEAD_VOCALIST: 'LEAD_VOCALIST',\n  VOCALIST: 'VOCALIST',\n  SUB_VOCALIST: 'SUB_VOCALIST',\n  MAIN_RAPPER: 'MAIN_RAPPER',\n  LEAD_RAPPER: 'LEAD_RAPPER',\n  RAPPER: 'RAPPER',\n  MAIN_DANCER: 'MAIN_DANCER',\n  LEAD_DANCER: 'LEAD_DANCER',\n  DANCER: 'DANCER',\n  VISUAL: 'VISUAL',\n  CENTER: 'CENTER',\n};\n\nexport const POSITIONS_WEIGHT = {\n  MAIN_VOCALIST: 0,\n  MAIN_RAPPER: 1,\n  MAIN_DANCER: 2,\n  VISUAL: 3,\n  CENTER: 4,\n  LEADER: 5,\n  LEAD_VOCALIST: 6,\n  LEAD_RAPPER: 7,\n  LEAD_DANCER: 8,\n  VOCALIST: 9,\n  RAPPER: 10,\n  DANCER: 11,\n  SUB_VOCALIST: 12,\n};\n\nexport const ROMAN_NUMBER = {\n  0: '?',\n  1: 'I',\n  2: 'II',\n  3: 'III',\n  4: 'IV',\n  5: 'V',\n  6: 'VI',\n  7: 'VII',\n  8: 'VIII',\n  9: 'IX',\n  10: 'X',\n  11: 'XI',\n  12: 'XII',\n  13: 'XIII',\n  14: 'XIV',\n  15: 'XV',\n};\n\nexport const SEPARATOR = '::';\n\nexport const DEFAULT_MEMBERS = {\n  'member::ALL': {\n    id: 'ALL',\n    type: 'member',\n    key: 'member::ALL',\n    name: 'All',\n    color: '#4c5c68',\n    positions: ['ALL'],\n  },\n  'member::NONE': {\n    id: 'NONE',\n    type: 'member',\n    key: 'member::NONE',\n    name: 'None',\n    color: '#899ba9',\n    positions: ['NONE'],\n  },\n};\n\nfunction buildScaleOptions() {\n  const chords = [\n    'C',\n    'C#',\n    'Db',\n    'D',\n    'D#',\n    'Eb',\n    'E',\n    'F',\n    'F#',\n    'Gb',\n    'G',\n    'G#',\n    'Ab',\n    'A',\n    'A#',\n    'Bb',\n    'B',\n  ];\n  return chords.map((chord) => [`${chord} Major`, `${chord} Minor`]).flat();\n}\n\nexport const MUSIC_SCALE = buildScaleOptions();\n\nexport const DISTRIBUTION_NAME = {\n  ORIGINAL: 'ORIGINAL',\n  COVER: 'COVER',\n  SPECIAL: 'SPECIAL',\n  WHAT_IF: 'WHAT/IF',\n  REDO: 'REDO',\n};\n","import { createGlobalState } from 'react-hooks-global-state';\n\nconst initialState = {\n  step: '0',\n  videoId: null,\n  isRecording: false,\n  song: null,\n  sections: {},\n  lines: {},\n  parts: {},\n  activeInstance: null,\n  selection: [],\n  unassignedTimestamps: {},\n  assignee: 'A',\n\n  selectedTimestamps: [],\n  isPlaying: false,\n\n  isFullyLoaded: false,\n\n  currentLine: null,\n  currentSection: null,\n  timestamp: 0,\n};\n\nconst { useGlobalState, setGlobalState, getGlobalState } = createGlobalState(initialState);\n\nexport { setGlobalState as setDistributorGlobalState, getGlobalState as getDistributorGlobalState };\n\nexport default useGlobalState;\n","export const NULL = 'NULL';\n\nexport const ASSIGNEE = {\n  A: 'A',\n  B: 'B',\n  C: 'C',\n  D: 'D',\n  E: 'E',\n  F: 'F',\n  G: 'G',\n  H: 'H',\n  I: 'I',\n};\n\nexport const ASSIGNEE_LABEL = {\n  A: 'VOCALS 1',\n  B: 'VOCALS 2',\n  C: 'RAP 1',\n  D: 'RAP 2',\n  E: 'AD-LID 1',\n  F: 'AD-LIB 2',\n  G: 'ALL',\n  H: 'NONE',\n  I: 'CENTER',\n};\n\nexport const SKILL = {\n  AD_LIB: 'AD_LIB',\n  CHOIR: 'CHOIR',\n  DANCE: 'DANCE',\n  RAP: 'RAP',\n  VOCAL: 'VOCAL',\n};\n\nexport const SKILL_LEVEL = {\n  1: 1,\n  2: 2,\n  3: 3,\n};\n\nexport const SKILL_TYPE = {\n  [SKILL.AD_LIB]: {\n    BELT: 'BELT',\n    SFX: 'SFX',\n    SHOUT: 'SHOUT',\n    RAP: 'RAP',\n    REGULAR: 'REGULAR',\n    RUN: 'RUN',\n    WHISPER: 'WHISPER',\n  },\n  [SKILL.CHOIR]: {\n    CHANTING: 'CHANTING',\n    REGULAR: 'REGULAR',\n    SHOUTING: 'SHOUTING',\n  },\n  [SKILL.DANCE]: {\n    GROUP: 'GROUP',\n    LIPSYNC: 'LIPSYNC',\n    POSING: 'POSING',\n    SOLO: 'SOLO',\n  },\n  [SKILL.RAP]: {\n    SLOW: 'SLOW',\n    REGULAR: 'REGULAR',\n    FAST: 'FAST',\n    SPOKEN: 'SPOKEN',\n  },\n  [SKILL.VOCAL]: {\n    HIGH: 'HIGH',\n    LOW: 'LOW',\n    REGULAR: 'REGULAR',\n  },\n};\n\nexport const SECTION = {\n  BREAK: 'BREAK',\n  BRIDGE: 'BRIDGE',\n  CHORUS: 'CHORUS',\n  DANCE_BREAK: 'DANCE_BREAK',\n  DROP: 'DROP',\n  HOOK: 'HOOK',\n  INSTRUMENTAL_SOLO: 'INSTRUMENTAL_SOLO',\n  INTRO: 'INTRO',\n  OUTRO: 'OUTRO',\n  POST_CHORUS: 'POST_CHORUS',\n  PRE_CHORUS: 'PRE_CHORUS',\n  RAP: 'RAP',\n  SPECIAL: 'SPECIAL',\n  UNKNOWN: 'UNKNOWN',\n  VERSE: 'VERSE',\n};\n","import { SEPARATOR } from '../constants';\n\nexport const generateUniqueId = (function () {\n  const cache = {};\n\n  function generate(length = 5) {\n    const id = '_' + Math.random().toString(36).substr(2, length);\n    if (cache[id]) {\n      return generate(length);\n    }\n\n    cache[id] = true;\n    return id;\n  }\n\n  return generate;\n})();\n\nexport const generateTempId = (function () {\n  let lastId = 100;\n\n  function generate() {\n    const id = lastId + 1;\n    lastId = id;\n    return id;\n  }\n\n  return generate;\n})();\n\nexport const convertStoMS = (seconds) => {\n  return Math.round(seconds * 1000);\n};\n\nexport const serializeKey = (type, id) => `${type}${SEPARATOR}${id}`;\n\nexport const deserializeKey = (key) => key.split(SEPARATOR);\n\n/**\n * Get value with default fallback.\n * @param {*} context\n * @param {object} data\n * @param {string} propertyName\n * @param {*} [defaultValue]\n */\nexport const getDefault = (context, data, propertyName, defaultValue = null) => {\n  return data[propertyName] ?? context[propertyName] ?? defaultValue;\n};\n\n/**\n * Get value with default fallback only if the value is undefined.\n * @param {*} context\n * @param {object} data\n * @param {string} propertyName\n * @param {*} [defaultValue]\n */\nexport const getNullDefault = (context, data, propertyName, defaultValue = null) => {\n  return data[propertyName] === undefined ? context[propertyName] ?? defaultValue : data[propertyName];\n};\n\n/**\n * Get enum value with default fallback.\n * @param {*} context\n * @param {object} data\n * @param {string} propertyName\n * @param {object} enumObj\n * @param {string} defaultValue\n */\nexport const getEnumDefault = (context, data, propertyName, enumObj, defaultValue) => {\n  return data[propertyName] ? enumObj[data[propertyName]] : context[propertyName] ?? defaultValue;\n};\n\n/**\n * Get relationships ids from list of instances or strings.\n * @param {*} context\n * @param {object} data\n * @param {string} propertyName\n * @param {Class} instance\n */\nexport const getRelationshipsDefault = (context, data, propertyName, instance) => {\n  return (data[propertyName] ?? context[propertyName] ?? []).reduce((ids, entry) => {\n    if (entry instanceof instance) {\n      ids.push(entry.id);\n    } else if (typeof entry === 'string') {\n      ids.push(entry);\n    }\n    return ids;\n  }, []);\n};\n\n/**\n * Fallback to null if value of property is the same as the default value\n * @param {*} data\n * @param {*} propertyName\n * @param {*} defaultValues\n */\nexport const nullifyDefault = (data, propertyName, defaultValues) => {\n  return data[propertyName] === defaultValues[propertyName] ? null : data[propertyName];\n};\n\n/**\n * Compare the entries of given list of ids/keys and return all equal values.\n * @param {*} dict\n * @param {*} list\n * @param {boolean} [isKey]\n */\nexport const getDuplicatedData = (dict, list, isKey = false) => {\n  const entries = list.map((entry) => {\n    const id = isKey ? deserializeKey(entry)[1] : entry;\n    return dict[id].data;\n  });\n\n  return entries.reduce((result, item) => {\n    Object.entries(item).forEach(([key, value]) => {\n      if (result[key] !== value) {\n        delete result[key];\n      }\n    });\n\n    return result;\n  }, entries[0]);\n};\n\n/**\n * Call deserialize in every instance in the ids list with given data\n * @param {object} library - the library with given instances (parts, lines, sections)\n * @param {string[]} ids - the list of keys or ids\n * @param {object} data - the data that needs to be deserialized\n * @param {boolean} isKey - flag indicating if the items in ids are keys\n */\nexport const batchDeserializeInstancesSameData = (library, ids, data, isKey = false) => {\n  ids.forEach((entry) => {\n    const id = isKey ? deserializeKey(entry)[1] : entry;\n    return library[id].deserialize(data);\n  });\n};\n\n/**\n * Removes any object key that is undefined or null\n * @param {object} obj\n * @returns {object}\n */\nexport const cleanupObject = (obj) => {\n  return Object.keys(obj)\n    .filter((k) => obj[k] != null && obj[k] !== undefined)\n    .reduce((a, k) => ({ ...a, [k]: obj[k] }), {});\n};\n\n/**\n * Check if two arrays are similar (have the same elements, even if in different order)\n * Note: it won't work with arrays with non primitive elements\n * @param {array} a\n * @param {array} b\n * @return {boolean}\n */\nexport const areArraysSimilar = (a, b) => JSON.stringify(a.sort()) === JSON.stringify(b.sort());\n","// Global State\nimport { getDistributorGlobalState, setDistributorGlobalState } from '../../states/useDistributorState';\n// Engine and utilities\nimport { ASSIGNEE } from './enum';\nimport {\n  cleanupObject,\n  generateUniqueId,\n  getDefault,\n  getEnumDefault,\n  getNullDefault,\n  nullifyDefault,\n  serializeKey,\n} from './utilities';\n\n/**\n * Class representing a Part - the smallest part of the lyrics, it composes a line.\n */\nexport class Part {\n  /**\n   * Create a Part.\n   * @constructor\n   * @param {object} data - An object with the necessary data to be loaded in this instance\n   */\n  constructor(data) {\n    this._id = data?.id || generateUniqueId();\n    this._type = 'part';\n\n    // Attributes\n    this.assignee = ASSIGNEE.A;\n    this.endTime = null;\n    this.startTime = null;\n    this.text = null;\n\n    // Relationships\n    this.lineId = null;\n\n    if (data) {\n      this.deserialize(data);\n    }\n  }\n\n  /**\n   * Save part to the React Global State.\n   */\n  _save() {\n    console.log('%cSaving part...', 'color:yellow');\n    setDistributorGlobalState('parts', (state) => {\n      return { ...state, [this.id]: this };\n    });\n  }\n\n  /**\n   * Get id.\n   * @type {string}\n   */\n  get id() {\n    return this._id;\n  }\n\n  /**\n   * Get type.\n   * @type {string}\n   */\n  get type() {\n    return this._type;\n  }\n\n  /**\n   * Get key.\n   * @type {string}\n   */\n  get key() {\n    return serializeKey(this.type, this.id);\n  }\n\n  /**\n   * Dictionary of default values for this instance.\n   */\n  get defaultValues() {\n    return {\n      assignee: ASSIGNEE.A,\n    };\n  }\n\n  /**\n   * Get duration.\n   * @type {number}\n   */\n  get duration() {\n    return (this.endTime || 0) - (this.startTime || 0);\n  }\n\n  /**\n   * Percentage (0-100) of completion of this instance.\n   * @type {number}\n   */\n  get completion() {\n    const criteria = [\n      this.duration > 0, // If has start and end time positive difference\n      Boolean(this.text), // Has text\n      Boolean(this.lineId), // Has its parent line\n    ];\n    const complete = criteria.filter((i) => i);\n    return Math.floor((100 * complete.length) / criteria.length);\n  }\n\n  /**\n   * Flag indicating if the part has all required values.\n   * @type {boolean}\n   */\n  get isComplete() {\n    return Math.floor(this.completion === 100);\n  }\n\n  /**\n   * Get the complete data set.\n   * @type {object}\n   */\n  get data() {\n    const library = getDistributorGlobalState('lines') ?? {};\n    const line = library[this.lineId] ?? null;\n\n    const data = {\n      id: this._id,\n      type: this.type,\n      // Getters\n      isComplete: this.isComplete,\n      duration: this.duration,\n      // Attributes\n      assignee: this.assignee,\n      endTime: this.endTime,\n      startTime: this.startTime,\n      text: this.text,\n      // Relationships\n      lineId: this.lineId,\n      // Extra data\n      isDismissible: line.isDismissible,\n      sectionId: line.sectionId,\n    };\n\n    Object.freeze(data);\n    return data;\n  }\n\n  /**\n   * Updates time information and assignee.\n   * @param {*} timestamp\n   * @returns {string} the instance id\n   */\n  updateTimestamp({ startTime, endTime, assignee }) {\n    if (assignee) {\n      this.assignee = assignee;\n    }\n    this.startTime = startTime;\n    this.endTime = endTime;\n\n    // TODO: Since we have access to partId from the timestamp, should we disconnect?\n\n    this._save();\n\n    return this.id;\n  }\n\n  /**\n   * Connects parent relationship adding line-part one-to-many relationship end-to-end.\n   * @method\n   * @param {string} lineId\n   */\n  connectLine(lineId) {\n    const library = getDistributorGlobalState('lines') ?? {};\n    const line = library[lineId] ?? null;\n\n    if (!line) throw Error(`Line ${lineId} does not exist in the state`);\n\n    line.addPart(this);\n    this.deserialize({ lineId });\n\n    return this;\n  }\n\n  /**\n   * Disconnects parent relationship removing line-part one-to-many relationship end-to-end.\n   * @method\n   * @param {string} lineId\n   */\n  disconnectLine(lineId) {\n    const library = getDistributorGlobalState('lines') ?? {};\n    const line = library[lineId] ?? null;\n\n    if (line) {\n      line.removePart(this.id);\n    }\n    this.deserialize({ lineId: null });\n\n    return this;\n  }\n\n  /**\n   * De-serializes data and injects to this part instance.\n   * @method\n   * @param {object|null} data\n   */\n  deserialize(data) {\n    this._id = data.id || this._id || generateUniqueId();\n    // Attributes\n    this.assignee = getEnumDefault(this, data, 'assignee', ASSIGNEE, this.defaultValues.assignee);\n    this.endTime = getDefault(this, data, 'endTime', null);\n    this.startTime = getDefault(this, data, 'startTime', null);\n    this.text = getDefault(this, data, 'text', null);\n    if (this.text) {\n      this.text = this.text.trim();\n    }\n    // Relationships\n    this.lineId = getNullDefault(this, data, 'lineId', null);\n\n    this._save();\n    return this;\n  }\n\n  /**\n   * Serializes the part instance's relevant data.\n   * @method\n   * @returns {object}\n   */\n  serialize() {\n    return cleanupObject({\n      id: this.id,\n      type: this.type,\n      // Attributes\n      assignee: nullifyDefault(this, 'assignee', this.defaultValues),\n      endTime: this.endTime,\n      startTime: this.startTime,\n      text: this.text ? this.text.trim() : this.text,\n      // Relationships\n      lineId: this.lineId,\n    });\n  }\n}\n\nexport default Part;\n","// Global State\nimport { getDistributorGlobalState, setDistributorGlobalState } from '../../states/useDistributorState';\n// Engine and utilities\nimport Part from './part';\nimport { SKILL, SKILL_LEVEL, SKILL_TYPE } from './enum';\nimport {\n  generateUniqueId,\n  getDefault,\n  getRelationshipsDefault,\n  getEnumDefault,\n  serializeKey,\n  getNullDefault,\n  nullifyDefault,\n  cleanupObject,\n} from './utilities';\n\n/**\n * Class representing a Line - a collection of parts that will compose a section/verse.\n */\nexport class Line {\n  /**\n   * Create a Line.\n   * @constructor\n   * @param {object} data - An object with the necessary data to be loaded in this instance\n   */\n  constructor(data) {\n    this._id = data?.id || generateUniqueId();\n    this._type = 'line';\n\n    // Attributes\n    this.isDismissible = false; // yeahs and yous that don't need to be displayed\n    this.skill = SKILL.VOCAL;\n    this.skillType = SKILL_TYPE.VOCAL.REGULAR;\n    this.skillLevel = SKILL_LEVEL['1'];\n    this.placeholder = 'oh yeah';\n\n    // Relationships\n    this.partsIds = [];\n    this.sectionId = null;\n\n    // Internal\n    this._isSorted = false;\n\n    if (data) {\n      this.deserialize(data);\n    }\n  }\n\n  /**\n   * Save line to the React Global State.\n   */\n  _save() {\n    console.log('%cSaving line...', 'color:orange');\n    setDistributorGlobalState('lines', (state) => {\n      return { ...state, [this.id]: this };\n    });\n  }\n\n  /**\n   * Get id.\n   * @type {string}\n   */\n  get id() {\n    return this._id;\n  }\n\n  /**\n   * Get type.\n   * @type {string}\n   */\n  get type() {\n    return this._type;\n  }\n\n  /**\n   * Get key.\n   * @type {string}\n   */\n  get key() {\n    return serializeKey(this.type, this.id);\n  }\n\n  /**\n   * Dictionary of default values for this instance.\n   */\n  get defaultValues() {\n    return {\n      isDismissible: false,\n      skill: SKILL.VOCAL,\n      skillType: SKILL_TYPE.VOCAL.REGULAR,\n      skillLevel: SKILL_LEVEL['1'],\n    };\n  }\n\n  /**\n   * List of parts.\n   * @type {Part[]}\n   */\n  get parts() {\n    const library = getDistributorGlobalState('parts') ?? {};\n    const parts = this.partsIds.map((partId) => library[partId]);\n    if (!this._isSorted) {\n      return this.sort(parts);\n    }\n    return parts;\n  }\n\n  /**\n   * Get parent section instance.\n   * @type {Song|null}\n   */\n  get section() {\n    const sections = getDistributorGlobalState('sections') ?? {};\n    return sections[this.id] ?? null;\n  }\n\n  /**\n   * Get the line before this instance in the section\n   * @type {Line|null}\n   */\n  get previousLine() {\n    const { lines = {} } = this.section ?? {};\n    const { linesIds = {} } = this.section ?? {};\n    const index = linesIds.findIndex((id) => id === this.id);\n    if (index < 1) return null;\n\n    return lines[index - 1];\n  }\n\n  /**\n   * Get the line after this instance in the section\n   * @type {Line|null}\n   */\n  get nextSection() {\n    const { lines = {} } = this.section ?? {};\n    const { linesIds = {} } = this.section ?? {};\n    const index = linesIds.findIndex((id) => id === this.id);\n    if (index === -1 || index >= linesIds.length) return null;\n\n    return lines[index + 1];\n  }\n\n  /**\n   * Get start time.\n   * @type {number}\n   */\n  get startTime() {\n    const firstPart = this.parts[0];\n\n    return firstPart?.startTime ?? 0;\n  }\n\n  /**\n   * Get end time.\n   * @type {number}\n   */\n  get endTime() {\n    const lastPart = this.parts.length > 0 ? this.parts[this.parts.length - 1] : null;\n\n    return lastPart?.endTime ?? 0;\n  }\n\n  /**\n   * Get duration.\n   * @type {number}\n   */\n  get duration() {\n    return this.endTime - this.startTime;\n  }\n\n  /**\n   * Flag indicating if the line is an ad lib.\n   * @type {boolean}\n   */\n  get isAdLib() {\n    return this.skill === SKILL.AD_LIB;\n  }\n\n  /**\n   * Flag indicating if the line is a rap.\n   * @type {boolean}\n   */\n  get isRap() {\n    return this.skill === SKILL.RAP;\n  }\n\n  /**\n   * Flag indicating if the line is a dance line.\n   * @type {boolean}\n   */\n  get isDance() {\n    return this.skill === SKILL.DANCE;\n  }\n\n  /**\n   * Flag indicating if the line is a choir line.\n   * @type {boolean}\n   */\n  get isChoir() {\n    return this.skill === SKILL.CHOIR;\n  }\n\n  /**\n   * Get aggregated text from each part.\n   * @type {string}\n   */\n  get text() {\n    if (!this.partsIds?.length) {\n      return `[${this.placeholder}]`;\n    }\n\n    return this.parts\n      .map((part) => {\n        if (part && part instanceof Part) {\n          return part.text;\n        }\n        return '';\n      })\n      .join(' ');\n  }\n\n  /**\n   * Percentage (0-100) of completion of this instance.\n   * @type {number}\n   */\n  get completion() {\n    const criteria = [\n      Boolean(this.sectionId), // has parent section\n      Boolean(this.partsIds.length), // has at last one child part\n    ];\n    const complete = criteria.filter((i) => i);\n    const attributesCompletion = (100 * complete.length) / criteria.length;\n\n    return Math.floor((attributesCompletion + this.relationshipsCompletion) / 2);\n  }\n\n  /**\n   * Percentage (0-100) of completion of the child relationships of this instance.\n   */\n  get relationshipsCompletion() {\n    const relationshipsTotal = this.partsIds.length;\n    const relationshipsCompleted = this.parts.filter((p) => p.isComplete);\n\n    return (100 * relationshipsCompleted.length) / relationshipsTotal;\n  }\n\n  /**\n   * Flag indicating if the line has all required values.\n   * @type {boolean}\n   */\n  get isComplete() {\n    return this.completion === 100;\n  }\n\n  /**\n   * Get the complete data set.\n   * @type {object}\n   */\n  get data() {\n    return {\n      id: this.id,\n      type: this.type,\n      // Getters\n      duration: this.duration,\n      endTime: this.endTime,\n      isAdLib: this.isAdLib,\n      isChoir: this.isChoir,\n      isComplete: this.isComplete,\n      isDance: this.isDance,\n      isRap: this.isRap,\n      startTime: this.startTime,\n      text: this.text,\n      placeholder: this.placeholder,\n      // Attributes\n      isDismissible: this.isDismissible,\n      skill: this.skill,\n      skillType: this.skillType,\n      skillLevel: this.skillLevel,\n      // Relationships\n      partsIds: this.partsIds,\n      sectionId: this.sectionId,\n    };\n  }\n\n  /**\n   * Sorts parts according to their starting time.\n   * @method\n   * @param {Part[]} parts\n   * @returns {object[]}\n   */\n  sort(parts = this.parts) {\n    const sortedParts = parts.sort((a, b) => (a.startTime >= b.startTime ? 1 : -1));\n\n    this.partsIds = sortedParts.map((entry) => entry.id);\n    this._isSorted = true;\n    this._save();\n    return sortedParts;\n  }\n\n  /**\n   * Adds a part to the partsIds.\n   * @method\n   * @param {Part|string} part\n   */\n  addPart(part) {\n    const id = part?.id ? part.id : part;\n    const dict = Object.values(this.partsIds).reduce((acc, cur) => {\n      acc[cur] = true;\n      return acc;\n    }, {});\n\n    dict[id] = true;\n\n    this.partsIds = Object.keys(dict);\n    this.sort();\n\n    this._save();\n\n    return this;\n  }\n\n  /**\n   * Removes a part from the partsIds object.\n   * @method\n   * @param {string} id\n   */\n  removePart(id) {\n    const dict = Object.values(this.partsIds).reduce((acc, cur) => {\n      acc[cur] = true;\n      return acc;\n    }, {});\n\n    delete dict[id];\n\n    this.partsIds = Object.keys(dict);\n\n    this._save();\n    return this;\n  }\n\n  /**\n   * Connects parent relationship adding section-line one-to-many relationship end-to-end.\n   * @method\n   * @param {string} sectionId\n   */\n  connectSection(sectionId) {\n    const library = getDistributorGlobalState('sections') ?? {};\n    const section = library[sectionId] ?? null;\n\n    if (!section) throw Error(`Section ${sectionId} does not exist in the state`);\n\n    section.addLine(this);\n    this.deserialize({ sectionId });\n\n    return this;\n  }\n\n  /**\n   * Disconnects parent relationship removing section-line one-to-many relationship end-to-end.\n   * @method\n   * @param {string} sectionId\n   */\n  disconnectSection(sectionId) {\n    const library = getDistributorGlobalState('sections') ?? {};\n    const section = library[sectionId] ?? null;\n\n    if (section) {\n      section.removeLine(this.id);\n    }\n    this.deserialize({ sectionId: null });\n\n    return this;\n  }\n\n  /**\n   * Connects child relationship adding line-part one-to-many relationship end-to-end.\n   * @method\n   * @param {string} partId\n   */\n  connectLine(partId) {\n    const library = getDistributorGlobalState('parts') ?? {};\n    const part = library[partId] ?? null;\n\n    if (!part) throw Error(`Part ${partId} does not exist in the state`);\n\n    part.deserialize({ lineId: this.id });\n    this.addPart(partId);\n\n    return this;\n  }\n\n  /**\n   * Disconnects child relationship removing line-part one-to-many relationship end-to-end.\n   * @method\n   * @param {string} partId\n   */\n  disconnectLine(partId) {\n    const library = getDistributorGlobalState('parts') ?? {};\n    const part = library[partId] ?? null;\n\n    if (part) {\n      part.deserialize({ lindId: null });\n    }\n    this.removePart(part);\n\n    return this;\n  }\n\n  /**\n   * De-serializes data and injects to this line instance.\n   * @method\n   * @param {object|null} data\n   */\n  deserialize(data) {\n    this._id = data.id || this._id || generateUniqueId();\n    // Attributes\n    this.isDismissible = getDefault(this, data, 'isDismissible', false);\n    this.skill = getEnumDefault(this, data, 'skill', SKILL, this.defaultValues.skill);\n    this.skillType = getDefault(this, data, 'skillType', this.defaultValues.skillType);\n    this.skillLevel = getEnumDefault(this, data, 'skillLevel', SKILL_LEVEL, this.defaultValues.skillType);\n    this.placeholder = getDefault(this, data, 'placeholder', 'oh yeah');\n    // Relationships\n    this.sectionId = getNullDefault(this, data, 'sectionId', null);\n    this.partsIds = getRelationshipsDefault(this, data, 'partsIds', Part);\n\n    this._save();\n    return this;\n  }\n\n  /**\n   * Serializes the line instance's relevant data.\n   * @method\n   * @returns {object}\n   */\n  serialize() {\n    return cleanupObject({\n      id: this.id,\n      type: this.type,\n      // Attributes\n      isDismissible: nullifyDefault(this, 'isDismissible', this.defaultValues),\n      skill: nullifyDefault(this, 'skill', this.defaultValues),\n      skillType: nullifyDefault(this, 'skillType', this.defaultValues),\n      skillLevel: nullifyDefault(this, 'skillLevel', this.defaultValues),\n      // Relationships\n      partsIds: this.partsIds,\n      sectionId: this.sectionId,\n    });\n  }\n}\n\nexport default Line;\n","// Global State\nimport { getDistributorGlobalState, setDistributorGlobalState } from '../../states/useDistributorState';\n// Engine and utilities\nimport Line from './line';\nimport { NULL, SECTION } from './enum';\nimport {\n  generateUniqueId,\n  getDefault,\n  getRelationshipsDefault,\n  getEnumDefault,\n  serializeKey,\n  getNullDefault,\n  nullifyDefault,\n  cleanupObject,\n} from './utilities';\nimport { ROMAN_NUMBER } from '../constants';\n\n/**\n * Class representing a Section - a collection of lines that will compose a song.\n */\nexport class Section {\n  /**\n   * Create a Section.\n   * @constructor\n   * @param {object} data - An object with the necessary data to be loaded in this instance\n   */\n  constructor(data) {\n    this._id = data?.id || generateUniqueId();\n    this._type = 'section';\n\n    // Attributes\n    this.kind = NULL;\n    this.number = 1;\n\n    // Relationships\n    this.linesIds = [];\n    this.songId = null;\n\n    // Internal\n    this._isSorted = false;\n\n    if (data) {\n      this.deserialize(data);\n    }\n  }\n\n  /**\n   * Save section to the React Global State.\n   */\n  _save() {\n    console.log('%cSaving section...', 'color:red');\n    setDistributorGlobalState('sections', (state) => {\n      return { ...state, [this.id]: this };\n    });\n  }\n\n  /**\n   * Get id.\n   * @type {string}\n   */\n  get id() {\n    return this._id;\n  }\n\n  /**\n   * Get type.\n   * @type {string}\n   */\n  get type() {\n    return this._type;\n  }\n\n  /**\n   * Get key.\n   * @type {string}\n   */\n  get key() {\n    return serializeKey(this.type, this.id);\n  }\n\n  /**\n   * Dictionary of default values for this instance.\n   */\n  get defaultValues() {\n    return {\n      kind: NULL,\n      number: 1,\n    };\n  }\n\n  /**\n   * List of lines.\n   * @type {Line[]}\n   */\n  get lines() {\n    const library = getDistributorGlobalState('lines') ?? {};\n    const lines = this.linesIds.map((lineId) => library[lineId]);\n    if (!this._isSorted) {\n      return this.sort(lines);\n    }\n    return lines;\n  }\n\n  /**\n   * List of parts ids according to this section lines\n   */\n  get partsIds() {\n    return this.lines.map((line) => line.partsIds).flat();\n  }\n\n  /**\n   * Get parent song instance\n   * @type {Song|null}\n   */\n  get song() {\n    const song = getDistributorGlobalState('song') ?? {};\n    return song.id === this.songId ? song : null;\n  }\n\n  /**\n   * Get the section before this instance in the song\n   * @type {Section|null}\n   */\n  get previousSection() {\n    const { sections = {} } = this.song ?? {};\n    const { sectionsIds = {} } = this.song ?? {};\n    const index = sectionsIds.findIndex((id) => id === this.id);\n    if (index < 1) return null;\n\n    return sections[index - 1];\n  }\n\n  /**\n   * Get the section after this instance in the song\n   * @type {Section|null}\n   */\n  get nextSection() {\n    const { sections = {} } = this.song ?? {};\n    const { sectionsIds = {} } = this.song ?? {};\n    const index = sectionsIds.findIndex((id) => id === this.id);\n    if (index === -1 || index >= sectionsIds.length) return null;\n\n    return sections[index + 1];\n  }\n\n  /**\n   * Builds name of the section\n   * @type {string}\n   */\n  get name() {\n    return `${this.kind} ${ROMAN_NUMBER[this.number]}`;\n  }\n\n  /**\n   * Get start time.\n   * @type {number}\n   */\n  get startTime() {\n    const firstLine = this.lines[0];\n    return firstLine?.startTime ?? 0;\n  }\n\n  /**\n   * Get end time.\n   * @type {number}\n   */\n  get endTime() {\n    const lastLine = this.lines.length > 0 ? this.lines[this.lines.length - 1] : null;\n    return lastLine?.endTime ?? 0;\n  }\n\n  /**\n   * Get duration.\n   * @type {number}\n   */\n  get duration() {\n    return (this.endTime || 0) - (this.startTime || 0);\n  }\n\n  /**\n   * Get aggregated text from each line.\n   * @type {string}\n   */\n  get text() {\n    if (!this.linesIds?.length) {\n      return `[${this.placeholder}]`;\n    }\n\n    return this.lines\n      .map((line) => {\n        if (line && line instanceof Line) {\n          if (line.isAdLib) {\n            return `(${line.text})`;\n          }\n\n          return line.text;\n        }\n        return '';\n      })\n      .join('\\n');\n  }\n\n  /**\n   * Percentage (0-100) of completion of this instance.\n   * @type {number}\n   */\n  get completion() {\n    const criteria = [\n      Boolean(this.songId), // has parent song\n      Boolean(this.linesIds.length), // has at last one child line\n      Boolean(SECTION?.[this.kind]), // has a section\n    ];\n    const complete = criteria.filter((i) => i);\n    const attributesCompletion = (100 * complete.length) / criteria.length;\n\n    return Math.floor((attributesCompletion + this.relationshipsCompletion) / 2);\n  }\n\n  /**\n   * Percentage (0-100) of completion of the child relationships of this instance.\n   */\n  get relationshipsCompletion() {\n    const relationshipsTotal = this.linesIds.length;\n    const relationshipsCompleted = this.lines.filter((l) => l.isComplete);\n\n    return (100 * relationshipsCompleted.length) / relationshipsTotal;\n  }\n\n  /**\n   * Flag indicating if the section has all required values.\n   * @type {boolean}\n   */\n  get isComplete() {\n    return this.completion === 100;\n  }\n\n  /**\n   * Get the complete data set.\n   * @type {object}\n   */\n  get data() {\n    return {\n      id: this._id,\n      // Getters\n      name: this.name,\n      startTime: this.startTime,\n      endTime: this.endTime,\n      duration: this.duration,\n      text: this.text,\n      // Attributes\n      kind: this.kind,\n      number: this.number,\n      // Relationships\n      linesIds: this.linesIds,\n      songId: this.songId,\n    };\n  }\n\n  /**\n   * Sorts lines according to their starting time.\n   * @method\n   * @param {Line[]} lines\n   * @returns {object[]}\n   */\n  sort(lines = this.lines) {\n    const sortedLines = lines.sort((a, b) => (a.startTime >= b.startTime ? 1 : -1));\n\n    this.linesIds = sortedLines.map((entry) => entry.id);\n    this._isSorted = true;\n    return sortedLines;\n  }\n\n  /**\n   * Adds a line to the linesIds.\n   * @method\n   * @param {Line} line\n   */\n  addLine(line) {\n    const id = line?.id ? line.id : line;\n    const dict = Object.values(this.linesIds).reduce((acc, cur) => {\n      acc[cur] = true;\n      return acc;\n    }, {});\n\n    dict[id] = true;\n\n    this.linesIds = Object.keys(dict);\n    this.sort();\n\n    this._save();\n\n    return this;\n  }\n\n  /**\n   * Removes a line from the linesIds.\n   * @method\n   * @param {string} id\n   */\n  removeLine(id) {\n    const dict = Object.values(this.linesIds).reduce((acc, cur) => {\n      acc[cur] = true;\n      return acc;\n    }, {});\n\n    delete dict[id];\n\n    this.linesIds = Object.keys(dict);\n\n    this._save();\n    return this;\n  }\n\n  /**\n   * Connects parent relationship adding song-section one-to-many relationship end-to-end.\n   * @method\n   * @param {string} songId\n   */\n  connectSong(songId) {\n    const library = getDistributorGlobalState('song') ?? {};\n    const song = library.id === songId ? library : null;\n\n    if (!song) throw Error(`Song ${songId} does not exist in the state`);\n\n    song.addSection(this);\n    this.deserialize({ songId });\n\n    return this;\n  }\n\n  /**\n   * Disconnects parent relationship removing song-section one-to-many relationship end-to-end.\n   * @method\n   * @param {string} songId\n   */\n  disconnectSong(songId) {\n    const library = getDistributorGlobalState('song') ?? {};\n    const song = library.id === songId ? library : null;\n\n    if (song) {\n      song.removeSection(this.id);\n    }\n    this.deserialize({ songId: null });\n\n    return this;\n  }\n\n  /**\n   * Connects child relationship adding section-line one-to-many relationship end-to-end.\n   * @method\n   * @param {string} lineId\n   */\n  connectLine(lineId) {\n    const library = getDistributorGlobalState('lines') ?? {};\n    const line = library[lineId] ?? null;\n\n    if (!line) throw Error(`Section ${lineId} does not exist in the state`);\n\n    line.deserialize({ sectionId: this.id });\n    this.addLine(lineId);\n\n    return this;\n  }\n\n  /**\n   * Disconnects child relationship removing section-line one-to-many relationship end-to-end.\n   * @method\n   * @param {string} lineId\n   */\n  disconnectLine(lineId) {\n    const library = getDistributorGlobalState('lines') ?? {};\n    const line = library[lineId] ?? null;\n\n    if (line) {\n      line.deserialize({ sectionId: null });\n    }\n    this.removeLine(lineId);\n\n    return this;\n  }\n\n  /**\n   * De-serializes data and injects to this section instance.\n   * @method\n   * @param {object|null} data\n   */\n  deserialize(data) {\n    this._id = data.id ?? this._id ?? generateUniqueId();\n    // Attributes\n    this.kind = getEnumDefault(this, data, 'kind', SECTION, SECTION.VERSE);\n    this.number = getDefault(this, data, 'number', this.defaultValues.number);\n    this.placeholder = getDefault(this, data, 'placeholder', '');\n    // Relationships\n    this.songId = getNullDefault(this, data, 'songId', null);\n    this.linesIds = getRelationshipsDefault(this, data, 'linesIds', Line);\n\n    this._save();\n    return this;\n  }\n\n  /**\n   * Serializes the section instance's relevant data.\n   * @method\n   * @returns {object}\n   */\n  serialize() {\n    return cleanupObject({\n      id: this.id,\n      type: this.type,\n      // Attributes\n      kind: nullifyDefault(this, 'kind', this.defaultValues),\n      number: nullifyDefault(this, 'number', this.defaultValues),\n      // Relationships\n      linesIds: this.linesIds,\n      songId: this.songId,\n    });\n  }\n}\n\nexport default Section;\n","// Global State\nimport { getDistributorGlobalState, setDistributorGlobalState } from '../../states/useDistributorState';\n// Engine and utilities\nimport Section from './section';\nimport {\n  generateUniqueId,\n  getDefault,\n  getNullDefault,\n  getRelationshipsDefault,\n  nullifyDefault,\n  serializeKey,\n} from './utilities';\nimport moment from 'moment';\n\n/**\n * Class representing a Song - a collection of sections.\n */\nexport class Song {\n  /**\n   * Create a Song.\n   * @constructor\n   * @param {object} data - An object with the necessary data to be loaded in this instance\n   */\n  constructor(data) {\n    this._id = data.id || 0; // Set to 0 so firebase can know to create a new key for it\n    this._type = 'song';\n    // Attributes\n    this.videoId = '';\n    this.title = '';\n    this.version = '';\n    this.createdAt = data.createdAt || Date.now();\n    this.updatedAt = null;\n\n    this.isSingle = false;\n    this.idealGroupSize = 5;\n    this.duration = moment(0, 'mm:ss');\n    this.tempo = 0;\n    this.genre = '';\n    this.scale = 'UNKNOWN';\n    this.style = '';\n    // Relationships\n    this.sectionsIds = [];\n    this.albumId = null;\n\n    // Internal\n    this._isSorted = true;\n\n    if (data) {\n      this.deserialize(data);\n    }\n  }\n\n  /**\n   * Save song to the React Global State.\n   */\n  _save() {\n    console.log('%cSaving song...', 'color:purple');\n    this.updatedAt = Date.now();\n    setDistributorGlobalState('song', this);\n  }\n\n  /**\n   * Get id.\n   * @type {string}\n   */\n  get id() {\n    return this._id;\n  }\n\n  /**\n   * Get type.\n   * @type {string}\n   */\n  get type() {\n    return this._type;\n  }\n\n  /**\n   * Get key.\n   * @type {string}\n   */\n  get key() {\n    return serializeKey(this.type, this.id);\n  }\n\n  /**\n   * Dictionary of default values for this instance.\n   */\n  get defaultValues() {\n    return {\n      isSingle: false,\n      idealGroupSize: 5,\n      tempo: 0,\n      scale: 'UNKNOWN',\n    };\n  }\n\n  /**\n   * List of sections.\n   * @type {Part[]}\n   */\n  get sections() {\n    const library = getDistributorGlobalState('sections') ?? {};\n    const sections = this.sectionsIds.map((sectionId) => library[sectionId]);\n    if (!this._isSorted) {\n      return this.sort(sections);\n    }\n    return sections;\n  }\n\n  /**\n   * Get aggregated text from each part.\n   * @type {string}\n   */\n  get text() {\n    return this.sections\n      .map((section) => {\n        if (section && section instanceof Section) {\n          return section.text;\n        }\n        return '';\n      })\n      .join('\\n');\n  }\n\n  /**\n   * Get the id of the first line.\n   * @type {string}\n   */\n  get firstLineId() {\n    return this.sections?.[0]?.lines[0]?.id ?? null;\n  }\n\n  /**\n   * Get the id of the last line.\n   * @type {string}\n   */\n  get lastLineId() {\n    const lastSection = this.sections?.[this.sections.length - 1];\n    return lastSection?.lines[lastSection.lines.length - 1]?.id ?? null;\n  }\n\n  /**\n   * Get a list of all ids of all parts in the song.\n   * @type {string[]}\n   */\n  get allPartsIds() {\n    return this.sections\n      .map((section) => section.lines)\n      .flat()\n      .map((line) => line.partsIds)\n      .flat();\n  }\n\n  /**\n   * Total number of parts on the song.\n   * @type {type}\n   */\n  get partsCount() {\n    return this.allPartsIds.length;\n  }\n\n  /**\n   * Percentage (0-100) of completion of this instance.\n   * @type {number}\n   */\n  get completion() {\n    const criteria = [\n      Boolean(this.videoId), // has a videoId\n      Boolean(this.title), // has a title\n      Boolean(this.duration), // has a duration\n      Boolean(this.tempo), // has a tempo\n      Boolean(this.genre), // has a genre\n      Boolean(this.scale && this.scale !== 'UNKNOWN'), // has a scale\n      Boolean(this.style), // has a style\n      Boolean(this.sectionsIds.length), // has at last one child section\n    ];\n    const complete = criteria.filter((i) => i);\n    const attributesCompletion = (100 * complete.length) / criteria.length;\n\n    return Math.floor((attributesCompletion + this.relationshipsCompletion) / 2);\n  }\n\n  /**\n   * Percentage (0-100) of completion of the child relationships of this instance.\n   */\n  get relationshipsCompletion() {\n    const relationshipsTotal = this.sectionsIds.length;\n    const relationshipsCompleted = this.sections.filter((s) => s.isComplete);\n\n    return (100 * relationshipsCompleted.length) / relationshipsTotal;\n  }\n\n  /**\n   * Flag indicating if the section has all required values.\n   * @type {boolean}\n   */\n  get isComplete() {\n    return this.completion === 100;\n  }\n\n  /**\n   * Get the complete data set.\n   */\n  get data() {\n    return {\n      id: this.id,\n      type: this._type,\n      // Getters\n      text: this.text,\n      partsCount: this.partsCount,\n      // Attributes\n      videoId: this.videoId,\n      title: this.title,\n      version: this.version,\n      createdAt: this.createdAt,\n      updatedAt: this.updatedAt,\n      isSingle: this.isSingle,\n      idealGroupSize: this.idealGroupSize,\n      duration: this.duration,\n      tempo: this.tempo,\n      genre: this.genre,\n      scale: this.scale,\n      style: this.style,\n      // Relationships\n      albumId: this.albumId,\n      sectionsIds: this.sectionsIds,\n    };\n  }\n\n  /**\n   * Sorts sections according to their starting time.\n   * @method\n   * @param {Section[]} sections\n   * @returns {object[]}\n   */\n  sort(sections = this.sections) {\n    const sortedSections = sections.sort((a, b) => (a.startTime > b.startTime ? 1 : -1));\n\n    // Renumber the parts. e.g. VERSE 1, VERSE 2, etc...\n    const sectionsNumbers = {};\n    sortedSections.forEach((section) => {\n      if (sectionsNumbers[section.kind]) {\n        sectionsNumbers[section.kind] += 1;\n        section.deserialize({ number: sectionsNumbers[section.kind] });\n      } else {\n        sectionsNumbers[section.kind] = 1;\n      }\n    });\n\n    this.sectionsIds = sortedSections.map((entry) => entry.id);\n\n    this._isSorted = true;\n    return sortedSections;\n  }\n\n  /**\n   * Adds a section to the sectionsIds.\n   * @method\n   * @param {Section} section\n   */\n  addSection(section) {\n    const id = section?.id ? section.id : section;\n    const dict = Object.values(this.sectionsIds).reduce((acc, cur) => {\n      acc[cur] = true;\n      return acc;\n    }, {});\n\n    dict[id] = true;\n\n    this.sectionsIds = Object.keys(dict);\n    this.sort();\n\n    this._save();\n\n    return this;\n  }\n\n  /**\n   * Removes a section from the sectionsIds.\n   * @method\n   * @param {string} id\n   */\n  removeSection(id) {\n    const dict = Object.values(this.sectionsIds).reduce((acc, cur) => {\n      acc[cur] = true;\n      return acc;\n    }, {});\n\n    delete dict[id];\n\n    this.sectionsIds = Object.keys(dict);\n\n    this._save();\n    return this;\n  }\n\n  /**\n   * Connects child relationship adding song-section one-to-many relationship end-to-end.\n   * @method\n   * @param {string} sectionId\n   */\n  connectSection(sectionId) {\n    const library = getDistributorGlobalState('sections') ?? {};\n    const section = library[sectionId] ?? null;\n\n    if (!section) throw Error(`Section ${sectionId} does not exist in the state`);\n\n    section.deserialize({ songId: this.id });\n    this.addSection(this);\n\n    return this;\n  }\n\n  /**\n   * Removes song-section one-to-many relationship end-to-end.\n   * @method\n   * @param {string} sectionId\n   */\n  disconnectSection(sectionId) {\n    const library = getDistributorGlobalState('sections') ?? {};\n    const section = library[sectionId] ?? null;\n\n    if (section) {\n      section.deserialize({ songId: null });\n    }\n    this.removeSection(sectionId);\n\n    return this;\n  }\n\n  /**\n   * De-serializes data and injects to this song instance.\n   * @method\n   * @param {object|null} data\n   */\n  deserialize(data) {\n    this._id = data.id ?? this._id ?? generateUniqueId();\n    // Attributes\n    this.videoId = getDefault(this, data, 'videoId', '');\n    this.title = getDefault(this, data, 'title', '');\n    this.version = getDefault(this, data, 'version', '');\n    this.createdAt = getDefault(this, data, 'createdAt', Date.now());\n    this.updatedAt = getDefault(this, data, 'updatedAt', Date.now());\n    this.isSingle = getDefault(this, data, 'isSingle', false);\n    this.idealGroupSize = getDefault(this, data, 'idealGroupSize', 5);\n    const duration = getDefault(this, data, 'duration', 0);\n    if (duration) {\n      this.duration = moment(duration, 'mm:ss');\n    }\n    this.tempo = getDefault(this, data, 'tempo', '');\n    this.genre = getDefault(this, data, 'genre', '');\n    this.scale = getDefault(this, data, 'scale', '');\n    this.style = getDefault(this, data, 'style', '');\n    // Relationships\n    this.albumId = getNullDefault(this, data, 'albumId', null);\n    this.sectionsIds = getRelationshipsDefault(this, data, 'sectionsIds', Section);\n\n    this._save();\n    return this;\n  }\n\n  /**\n   * Serializes the song instance's relevant data.\n   * @method\n   * @returns {object}\n   */\n  serialize() {\n    // Gather included relationships\n    const included = [];\n    const sectionsLibrary = getDistributorGlobalState('sections') ?? {};\n    const linesLibrary = getDistributorGlobalState('lines') ?? {};\n    const partsLibrary = getDistributorGlobalState('parts') ?? {};\n    this.sectionsIds.forEach((sectionId) => {\n      const section = sectionsLibrary[sectionId];\n      // Add section serialized data to included\n      included.push(section.serialize());\n      // Iterate though lines\n      section.linesIds.forEach((lineId) => {\n        const line = linesLibrary[lineId];\n        // Add section serialized data to included\n        included.push(line.serialize());\n        // Iterate though parts\n        line.partsIds.forEach((partId) => {\n          const part = partsLibrary[partId];\n          // Add section serialized data to included\n          included.push(part.serialize());\n        });\n      });\n    });\n\n    return {\n      id: this.id,\n      type: this.type,\n\n      song: {\n        id: this.id,\n        type: this.type,\n        albumId: nullifyDefault(this, 'albumId', this.defaultValues),\n        completion: this.completion,\n        createdAt: nullifyDefault(this, 'createdAt', this.defaultValues),\n        duration: this.duration.format('mm:ss'),\n        genre: nullifyDefault(this, 'genre', this.defaultValues),\n        isComplete: this.isComplete,\n        isSingle: nullifyDefault(this, 'isSingle', this.defaultValues),\n        idealGroupSize: nullifyDefault(this, 'idealGroupSize', this.defaultValues),\n        scale: nullifyDefault(this, 'scale', this.defaultValues),\n        style: nullifyDefault(this, 'style', this.defaultValues),\n        tempo: nullifyDefault(this, 'tempo', this.defaultValues),\n        title: nullifyDefault(this, 'title', this.defaultValues),\n        version: nullifyDefault(this, 'version', this.defaultValues),\n        videoId: nullifyDefault(this, 'videoId', this.defaultValues),\n        updatedAt: Date.now(),\n      },\n      data: {\n        id: this.id,\n        type: 'song-data',\n\n        sectionsIds: this.sectionsIds,\n        included,\n      },\n    };\n  }\n}\n\nexport default Song;\n","import API from '../api';\nimport { DATA_TYPE, DATA_TYPE_COLLECTION } from '../utils/constants';\nimport { serializeKey } from '../utils/distributor';\n\nexport class Store {\n  constructor() {\n    this._records = {};\n    this._collections = {};\n\n    this._loaded = {};\n    this._loadedInstance = {};\n  }\n\n  /**\n   * Retrieves record from the store or fetches the API.\n   * @param {string} type\n   * @param {string} id\n   * @returns {object}\n   */\n  async getRecord(type, id) {\n    if (!type) throw Error('A type is required to access the store');\n\n    if (!id) throw Error('An id is required to access a store record');\n\n    const key = serializeKey(type, id);\n\n    if (this._records[key]) {\n      return this._records[key];\n    }\n\n    switch (type) {\n      case DATA_TYPE.DISTRIBUTION_DATA:\n        await API.fetchDistributionData(id);\n        break;\n      case DATA_TYPE.MEMBER_DATA:\n        await API.fetchMember(id);\n        break;\n      case DATA_TYPE.SONG:\n        await API.fetchSong(id);\n        break;\n      case DATA_TYPE.SONG_DATA:\n        await API.fetchSongData(id);\n        break;\n\n      default:\n        throw Error(`Provided type ${type} is not supported`);\n    }\n\n    this._loaded[key] = Date.now();\n    return this._records[key];\n  }\n\n  /**\n   * Retrieves collection of data from the store or fetches the API\n   * @param {string} type\n   * @param {boolean} [asObject] return result as object\n   * @returns {object[]}\n   */\n  async getCollection(type, asObject = false, extra = null) {\n    if (!type) throw Error('A type is required to access the store');\n\n    if (this._collections[type] && Object.values(this._collections[type]).length && !extra) {\n      if (asObject) {\n        return this._collections[type];\n      }\n      return Object.values(this._collections[type]).sort(collectionSorting[type]);\n    }\n\n    const [filterKey, id] = Object.entries(extra ?? {})?.[0] ?? [];\n\n    if (filterKey && id && this._collections[type] && Object.values(this._collections[type]).length) {\n      const result = Object.values(this._collections[type])\n        .filter((entry) => entry[filterKey] === id)\n        .sort(collectionSorting[type]);\n\n      if (result.length > 0) {\n        return result;\n      }\n    }\n\n    switch (type) {\n      case DATA_TYPE_COLLECTION[DATA_TYPE.DISTRIBUTION]:\n        await API.fetchDistributions(id);\n        this._updateCollection(DATA_TYPE.DISTRIBUTION, true);\n        break;\n      case DATA_TYPE_COLLECTION[DATA_TYPE.GROUP]:\n        await API.fetchGroups();\n        this._updateCollection(DATA_TYPE.GROUP);\n        break;\n      case DATA_TYPE_COLLECTION[DATA_TYPE.MEMBER]:\n        await API.fetchMembers();\n        this._updateCollection(DATA_TYPE.MEMBER);\n        break;\n      case DATA_TYPE_COLLECTION[DATA_TYPE.SONG]:\n        await API.fetchSongs();\n        this._updateCollection(DATA_TYPE.SONG);\n        break;\n\n      default:\n        throw Error(`Provided type ${type} is not supported`);\n    }\n\n    if (asObject) {\n      return this._collections[type];\n    }\n\n    if (filterKey && id) {\n      return Object.values(this._collections[type])\n        .filter((entry) => entry[filterKey] === id)\n        .sort(collectionSorting[type]);\n    }\n\n    return Object.values(this._collections[type]).sort(collectionSorting[type]);\n  }\n\n  /**\n   * Set record\n   * @param {string} type\n   * @param {string} id\n   * @param {object} data\n   */\n  setRecord(data, id) {\n    if (!data.type) throw Error('A type is required to access the store');\n\n    if (!id && !data.id) throw Error('An id is required to access a store record');\n\n    const key = serializeKey(data.type, id ?? data.id);\n    this._records[key] = data;\n\n    // Force collection deletion\n    this._collections[DATA_TYPE_COLLECTION[data.type]] = null;\n\n    return this._records[key];\n  }\n\n  /**\n   * Builds a dictionary with all the\n   * @param {string} type\n   * @param {boolean} [isAdditive] - indicates if the incoming data should just be added to the existing one\n   */\n  _updateCollection(type, isAdditive = false) {\n    const incomingData = Object.entries(this._records).reduce((acc, [recordKey, record]) => {\n      if (record.type === type) {\n        acc[recordKey] = record;\n      }\n      return acc;\n    }, {});\n\n    if (isAdditive) {\n      this._collections[DATA_TYPE_COLLECTION[type]] = {\n        ...this._collections[DATA_TYPE_COLLECTION[type]],\n        ...incomingData,\n      };\n    } else {\n      this._collections[DATA_TYPE_COLLECTION[type]] = incomingData;\n    }\n  }\n}\n\nconst DEFAULT_SORTING = (a, b) => {\n  const x = a.id;\n  const y = b.id;\n  return x < y ? -1 : x > y ? 1 : 0;\n};\n\nconst collectionSorting = {\n  [DATA_TYPE_COLLECTION[DATA_TYPE.ALBUM]]: (a, b) => {\n    const x = a?.title ?? a.id;\n    const y = b?.title ?? b.id;\n    return x < y ? -1 : x > y ? 1 : 0;\n  },\n  [DATA_TYPE_COLLECTION[DATA_TYPE.DISTRIBUTION]]: (a, b) => {\n    const x = a?.songTitle ?? a?.name ?? a.id;\n    const y = b?.songTitle ?? b?.name ?? b.id;\n    return x < y ? -1 : x > y ? 1 : 0;\n  },\n  [DATA_TYPE_COLLECTION[DATA_TYPE.DISTRIBUTION_DATA]]: DEFAULT_SORTING,\n  [DATA_TYPE_COLLECTION[DATA_TYPE.GROUP]]: (a, b) => {\n    const x = a?.debutYear ?? a?.name ?? a.id;\n    const y = b?.debutYear ?? b?.name ?? b.id;\n    return x < y ? -1 : x > y ? 1 : 0;\n  },\n  [DATA_TYPE_COLLECTION[DATA_TYPE.MEMBER]]: (a, b) => {\n    const x = a?.age ?? a?.name ?? a.id;\n    const y = b?.age ?? b?.name ?? b.id;\n    return x < y ? -1 : x > y ? 1 : 0;\n  },\n  [DATA_TYPE_COLLECTION[DATA_TYPE.MEMBER_DATA]]: DEFAULT_SORTING,\n  [DATA_TYPE_COLLECTION[DATA_TYPE.SONG]]: (a, b) => {\n    const x = a?.title ?? a?.version ?? a.id;\n    const y = b?.title ?? b?.version ?? b.id;\n    return x < y ? -1 : x > y ? 1 : 0;\n  },\n  [DATA_TYPE_COLLECTION[DATA_TYPE.SONG_DATA]]: DEFAULT_SORTING,\n};\n\nconst store = new Store();\n\nexport default store;\n","import { createGlobalState } from 'react-hooks-global-state';\n\nconst initialState = {\n  notification: {\n    type: null,\n    message: null,\n    description: null,\n  },\n  isLoading: false,\n  activeGroup: null,\n  activeGroupSongs: {},\n  activeMembers: null,\n  loadedLineDistribution: {},\n  lineDistribution: {},\n  stats: {},\n};\n\nconst { useGlobalState, setGlobalState, getGlobalState } = createGlobalState(initialState);\n\nexport { setGlobalState, getGlobalState };\n\nexport default useGlobalState;\n","import { createStore } from 'react-hooks-global-state';\nimport { DATA_TYPE } from '../utils/constants';\n\nconst reducer = (state, action) => {\n  const newState = { ...state };\n\n  if (reducerTypeMapping[action.type]) {\n    newState[reducerTypeMapping[action.type]] = action.payload;\n  } else {\n    console.warn('Invalid loading type', { action });\n    return state;\n  }\n\n  delete newState.isLoading;\n  newState.isLoading = Object.values(newState).some((v) => v);\n  return newState;\n};\n\nconst initialState = {\n  isLoading: false,\n  isAlbumLoading: false,\n  isDistributionLoading: false,\n  isDistributionDataLoading: false,\n  isGroupLoading: false,\n  isMemberLoading: false,\n  isMemberDataLoading: false,\n  isSongLoading: false,\n  isSongDataLoading: false,\n};\n\nconst reducerTypeMapping = {\n  [DATA_TYPE.ALBUM]: 'isAlbumLoading',\n  [DATA_TYPE.DISTRIBUTION]: 'isDistributionLoading',\n  [DATA_TYPE.DISTRIBUTION_DATA]: 'isDistributionDataLoading',\n  [DATA_TYPE.GROUP]: 'isGroupLoading',\n  [DATA_TYPE.MEMBER]: 'isMemberLoading',\n  [DATA_TYPE.MEMBER_DATA]: 'isMemberDataLoading',\n  [DATA_TYPE.SONG]: 'isSongLoading',\n  [DATA_TYPE.SONG_DATA]: 'isSongDataLoading',\n};\n\nconst { dispatch, useGlobalState } = createStore(reducer, initialState);\n\nexport { dispatch as setLoading, reducerTypeMapping, useGlobalState as useLoadingState };\n\nexport default useGlobalState;\n","import { serializeKey } from './distributor';\n\nconst wasPrinted = {};\nexport function printProps(props, name = 'PROP') {\n  if (wasPrinted[name] !== undefined) return;\n\n  wasPrinted[name] = true;\n\n  console.log(name);\n  console.log('Colors:', props.map((e) => e.hex).join(', ') + ';');\n  console.log(\n    'Rate:',\n    props.reduce((acc, f) => {\n      return acc + f.rate;\n    }, 0)\n  );\n  console.log('Count:', props.length);\n  console.log('==========');\n}\n\n/**\n * Generate classes modifiers with always the base class (first argument) present\n * @param  {...any} args - The first argument is the base class\n * @returns {string}\n */\nexport const bemClass = (...args) => {\n  if (args.length === 0) return Error('Missing required baseClass');\n\n  const baseClass = args[0];\n  return args.filter((c) => c).join(` ${baseClass}--`);\n};\n\n/**\n * Return modifier if condition is met, else empty string\n * @param {boolean|*} condition\n * @param {string} modifier\n * @return {string}\n */\nexport const getBemModifier = (condition, modifier) => {\n  return Boolean(condition) ? modifier : '';\n};\n\n/**\n * Output base class with modifier if condition is positive, otherwise, just base class\n * @param {string} baseClass\n * @param {string} modifier\n * @param {boolean} condition\n * @returns {string}\n */\nexport const bemClassConditionalModifier = (baseClass, modifier, condition) => {\n  return bemClass(baseClass, getBemModifier(condition, modifier));\n};\n\n/**\n * Calculate the duration of a timestamp object.\n * @param {{ endTime: number, startTime: number}} timestamps\n * @returns {number}\n */\nexport const getTimestampDuration = ({ endTime, startTime }) => endTime - startTime;\n\n/**\n * Convert a timestamp into a frame based on the framerate.\n * @param {number} timestamp\n * @param {number} framerate\n * @returns {number}\n */\nexport const getFrameFromTimestamp = (timestamp, framerate) => {\n  return Math.floor(timestamp / (1000 / framerate));\n};\n\n/**\n * Convert a frame int a timestamp based on the framerate\n * @param {number} frame\n * @param {number} framerate\n * @returns {number}\n */\nexport const getTimestampFromFrame = (frame, framerate) => {\n  return frame * (1000 / framerate);\n};\n\n/**\n * Creates an mock distribution with random assignees\n * @param {Part{}} partsIds\n * @return {object}\n */\nexport const buildMockDistribution = (parts) => {\n  const data = Object.values(parts).reduce((acc, part) => {\n    acc[part.id] = { [serializeKey('member', part.assignee)]: true };\n    return acc;\n  }, {});\n\n  return {\n    id: 'sample-distribution-id',\n    type: 'distribution',\n    groupId: 'sample-group-id',\n    songId: 'sample-song-id',\n    data,\n  };\n};\n\n/**\n * Injects a song id into the sections in the included array.\n * This is necessary when the song is about to be created and does not have an id yet.\n * @param {object[]} includedData\n * @param {string} songId\n * @returns {object[]}\n */\nexport const injectSongIdToSections = (includedData, songId) => {\n  return includedData.map((instance) => {\n    if (instance.type === 'section') {\n      instance.songId = songId;\n    }\n    return instance;\n  });\n};\n\n/**\n * Adds # to the beginning of a hex color if it doesn't exist.\n * @param {string} hexColor\n * @returns {strings}\n */\nexport const parseColor = (hexColor) => {\n  return hexColor.startsWith('#') ? hexColor : `#${hexColor}`;\n};\n\n/**\n * Makes a deep copy of given data.\n * @param {*} data\n * @return {*}\n */\nexport const deepCopy = (data) => JSON.parse(JSON.stringify(data));\n\n/**\n * Removes unnecessary data (lines) from stats object\n * @param {object} stats\n */\nexport const cleanupStats = (stats) => {\n  const data = deepCopy(stats);\n  Object.values(data).forEach((entry) => {\n    delete entry.lines;\n  });\n  return data;\n};\n","import { cleanupStats, injectSongIdToSections } from '../utils';\nimport { DATA_TYPE, POSITIONS_WEIGHT } from '../utils/constants';\nimport { cleanupObject } from '../utils/distributor';\n\nconst deserialize = (data, id) => {\n  const cleanData = cleanupObject(data);\n\n  switch (data.type) {\n    case DATA_TYPE.DISTRIBUTION:\n      return deserializer.distribution(data, id);\n    case DATA_TYPE.GROUP:\n      return deserializer.group(cleanData, id);\n    case DATA_TYPE.MEMBER:\n      return deserializer.member(cleanData, id);\n    case DATA_TYPE.SONG:\n      return deserializer.song(cleanData, id);\n    case DATA_TYPE.SONG_DATA:\n      return deserializer.songData(cleanData, id);\n    default:\n      return { ...data, id: id ?? data.id };\n  }\n};\n\nconst deserializer = {\n  distribution: (data, id) => {\n    return {\n      distribution: {\n        id: id ?? data.id,\n        type: 'distribution',\n        name: data.name,\n        songId: data.songId,\n        songTitle: data.songTitle,\n        groupId: data.groupId,\n        stats: JSON.stringify(cleanupStats(data.stats)),\n      },\n      data: {\n        id: id ?? data.id,\n        type: 'distribution-data',\n        groupId: data.groupId,\n        assignedParts: JSON.stringify(data.assignedParts),\n      },\n    };\n  },\n  group: (data, id) => {\n    return {\n      ...data,\n      id: id ?? data.id,\n    };\n  },\n  member: (data, id) => {\n    return {\n      ...data,\n      id: id ?? data.id,\n      positions: data.positions.sort((a, b) =>\n        POSITIONS_WEIGHT[b] > POSITIONS_WEIGHT[a] ? -1 : POSITIONS_WEIGHT[b] < POSITIONS_WEIGHT[a] ? 1 : 0\n      ),\n    };\n  },\n  song: (data, id) => {\n    return {\n      ...data,\n      id: id ?? data.id,\n    };\n  },\n\n  songData: (data, id) => {\n    return {\n      ...data,\n      id: id ?? data.id,\n      sectionsIds: JSON.stringify(data.sectionsIds),\n      // Inject songId to included sections songId\n      included: JSON.stringify(injectSongIdToSections(data.included, id ?? data.id)),\n    };\n  },\n};\n\nexport default deserialize;\n","import { parseColor } from '../utils';\nimport { DATA_TYPE } from '../utils/constants';\nimport { serializeKey } from '../utils/distributor';\n\nconst serialize = (data, id) => {\n  switch (data.type) {\n    case DATA_TYPE.DISTRIBUTION:\n      return serializer.distribution(data, id);\n    case DATA_TYPE.DISTRIBUTION_DATA:\n      return serializer.distributionData(data, id);\n    case DATA_TYPE.GROUP:\n      return serializer.group(data, id);\n    case DATA_TYPE.MEMBER:\n      return serializer.member(data, id);\n    case DATA_TYPE.SONG:\n      return serializer.song(data, id);\n    case DATA_TYPE.SONG_DATA:\n      return serializer.songData(data, id);\n    default:\n      return { ...data, key: serializeKey(data.type, id ?? data.id) };\n  }\n};\n\nconst serializer = {\n  distribution: (data, id) => {\n    return {\n      id: id ?? data.id,\n      type: data.type,\n      key: serializeKey(data.type, id ?? data.id),\n      name: data.name,\n      songId: data.songId,\n      songTitle: data.songTitle,\n      groupId: data.groupId,\n      stats: JSON.parse(data.stats ?? '') || {},\n    };\n  },\n  distributionData: (data, id) => {\n    return {\n      id: id ?? data.id,\n      type: data.type,\n      key: serializeKey(data.type, id ?? data.id),\n      groupId: data.groupId,\n      assignedParts: JSON.parse(data.assignedParts ?? '') || {},\n    };\n  },\n  group: (data, id) => {\n    return {\n      id: id ?? data.id,\n      type: data.type,\n      key: serializeKey(data.type, id ?? data.id),\n      name: data.name,\n      debutYear: data.debutYear ?? 0,\n      disbandmentYear: data.disbandmentYear ?? 0,\n      membersIds: data.membersIds ?? [],\n    };\n  },\n  member: (data, id) => {\n    return {\n      id: id ?? data.id,\n      type: data.type,\n      key: serializeKey(data.type, id ?? data.id),\n      name: data.name,\n      age: data.age,\n      color: data.color ? parseColor(data.color) : '',\n      colorName: data.colorName ?? '',\n      codename: data.codename ?? '',\n      tagline: data.tagline ?? '',\n      isContestant: data.isContestant ?? false,\n      positions: data.positions ?? [],\n    };\n  },\n  song: (data, id) => {\n    return {\n      id: id ?? data.id,\n      type: data.type,\n      key: serializeKey(data.type, id ?? data.id),\n      albumId: data.albumId ?? 'N/A',\n      completion: data.completion,\n      createdAt: data.createdAt,\n      duration: data.duration ?? '00:00',\n      genre: data.genre ?? '',\n      idealGroupSize: data.idealGroupSize ?? 5,\n      isComplete: data.isComplete,\n      isSingle: Boolean(data.isSingle),\n      scale: data.scale ?? 'UNKNOWN',\n      style: data.style ?? '',\n      tempo: data.tempo ?? 0,\n      title: data.title ?? 'Untitled',\n      version: data.version ?? '',\n      videoId: data.videoId,\n      updatedAt: data.updatedAt,\n    };\n  },\n\n  songData: (data, id) => {\n    return {\n      id: id ?? data.id,\n      type: data.type,\n      key: serializeKey(data.type, id ?? data.id),\n      sectionsIds: JSON.parse(data.sectionsIds ?? '') || [],\n      included: JSON.parse(data.included ?? '') || [],\n    };\n  },\n};\n\nexport default serialize;\n","import { db } from '../services/firebase';\n\nimport store from '../services/store';\nimport { setGlobalState } from '../states/useGlobalState';\nimport { setLoading } from '../states/useLoadingState';\nimport { DATA_TYPE, DATA_TYPE_COLLECTION } from '../utils/constants';\nimport deserialize from './deserializers';\nimport serialize from './serializers';\n\n/**\n * Sets a global error notification.\n * @param {string} message\n * @param {*} error\n */\nconst errorNotification = (message, error) => {\n  setGlobalState('notification', {\n    type: 'error',\n    message: message || 'Fail to do something in the API',\n    description: error?.message ?? error ?? 'Unknown error',\n  });\n  console.error(error);\n};\n\n/**\n * Sets a global success notification.\n * @param {string} message\n * @param {*} description\n */\nconst successNotification = (message, description) => {\n  setGlobalState('notification', {\n    type: 'success',\n    message: message || 'Action Successful',\n    description: description || 'It worked',\n  });\n};\n\n// API\n\n/**\n * Query GET `/albums`\n */\nconst fetchAlbums = async () => {\n  setLoading({ type: DATA_TYPE.ALBUM, payload: true });\n\n  const collectionName = DATA_TYPE_COLLECTION[DATA_TYPE.ALBUM];\n\n  try {\n    await db\n      .ref()\n      .child(collectionName)\n      .once('value', function (snapshot) {\n        snapshot.forEach(function (childSnapshot) {\n          const { key } = childSnapshot;\n          store.setRecord(serialize(childSnapshot.val()), key);\n        });\n      });\n  } catch (error) {\n    errorNotification(`Failed to load ${collectionName}`, error);\n  } finally {\n    setLoading({ type: DATA_TYPE.ALBUM, payload: false });\n  }\n};\n\n/**\n * Query `/distributions/<group_id>`\n */\nconst fetchDistributions = async (groupId) => {\n  setLoading({ type: DATA_TYPE.DISTRIBUTION, payload: true });\n\n  const collectionName = DATA_TYPE_COLLECTION[DATA_TYPE.DISTRIBUTION];\n\n  try {\n    if (!groupId) {\n      throw Error('A group ID is required to query distributions');\n    }\n\n    await db\n      .ref()\n      .child(collectionName)\n      .child(groupId)\n      .once('value', function (snapshot) {\n        snapshot.forEach(function (childSnapshot) {\n          const { key } = childSnapshot;\n          store.setRecord(serialize(childSnapshot.val()), key);\n        });\n      });\n  } catch (error) {\n    errorNotification(`Failed to load ${collectionName} for group ${groupId}`, error);\n  } finally {\n    setLoading({ type: DATA_TYPE.DISTRIBUTION, payload: false });\n  }\n};\n\n/**\n * Query GET `/distributions-data/<id>`\n */\nconst fetchDistributionData = async (distributionId) => {\n  setLoading({ type: DATA_TYPE.DISTRIBUTION_DATA, payload: true });\n\n  const typeName = DATA_TYPE.DISTRIBUTION_DATA;\n  const collectionName = DATA_TYPE_COLLECTION[typeName];\n\n  try {\n    if (!distributionId) {\n      throw Error('A distribution ID is required');\n    }\n\n    await db\n      .ref()\n      .child(collectionName)\n      .child(distributionId)\n      .once('value', function (snapshot) {\n        const { key } = snapshot;\n        store.setRecord(serialize(snapshot.val()), key);\n      });\n  } catch (error) {\n    errorNotification(`Failed to load ${typeName} ${distributionId}`, error);\n  } finally {\n    setLoading({ type: DATA_TYPE.DISTRIBUTION_DATA, payload: false });\n  }\n};\n\n/**\n * Query POST `/distribution/<id>`\n */\nconst saveDistribution = async (data) => {\n  setLoading({ type: DATA_TYPE.DISTRIBUTION, payload: true });\n\n  let response;\n\n  const typeName = DATA_TYPE.DISTRIBUTION;\n  const collectionName = DATA_TYPE_COLLECTION[typeName];\n\n  try {\n    // Create new key if it is a new instance\n    const key = data.id || db.ref().child(collectionName).push().key;\n    const deserializedData = deserialize({ ...data, type: typeName }, key);\n\n    const { groupId, songId } = deserializedData.distribution;\n\n    if (!groupId) {\n      throw Error('Distribution must include a group ID');\n    }\n\n    if (!songId) {\n      throw Error('Distribution must include a song ID');\n    }\n\n    const distributionDataCollectionName = DATA_TYPE_COLLECTION[DATA_TYPE.DISTRIBUTION_DATA];\n\n    await db.ref(`/${collectionName}/${groupId}/${key}`).set(deserializedData.distribution);\n    await db.ref(`/${distributionDataCollectionName}/${key}`).set(deserializedData.data);\n\n    store.setRecord(serialize(deserializedData.distribution));\n    store.setRecord(serialize(deserializedData.data));\n\n    successNotification('Distribution saved successfully', `id: ${key}`);\n  } catch (error) {\n    errorNotification(`Failed to save ${typeName}`, error);\n  } finally {\n    setLoading({ type: DATA_TYPE.DISTRIBUTION, payload: false });\n  }\n\n  return response;\n};\n\n/**\n * Query GET `/groups`\n */\nconst fetchGroups = async () => {\n  setLoading({ type: DATA_TYPE.GROUP, payload: true });\n\n  const collectionName = DATA_TYPE_COLLECTION[DATA_TYPE.GROUP];\n\n  try {\n    await db\n      .ref()\n      .child(collectionName)\n      .once('value', function (snapshot) {\n        snapshot.forEach(function (childSnapshot) {\n          const { key } = childSnapshot;\n          store.setRecord(serialize(childSnapshot.val()), key);\n        });\n      });\n  } catch (error) {\n    errorNotification(`Failed to load ${collectionName}`, error);\n  } finally {\n    setLoading({ type: DATA_TYPE.GROUP, payload: false });\n  }\n};\n\n/**\n * Query POST `/groups/<id>`\n */\nconst saveGroup = async (data) => {\n  setLoading({ type: DATA_TYPE.GROUP, payload: true });\n\n  let response;\n\n  const typeName = DATA_TYPE.GROUP;\n  const collectionName = DATA_TYPE_COLLECTION[typeName];\n\n  try {\n    // Create new key if it is a new instance\n    const key = data.id || db.ref().child(collectionName).push().key;\n    const deserializedData = deserialize({ ...data, type: typeName }, key);\n\n    await db.ref(`/${collectionName}/${key}`).set(deserializedData);\n    store.setRecord(serialize(deserializedData));\n\n    successNotification('Group saved successfully', `id: ${key}`);\n  } catch (error) {\n    errorNotification(`Failed to save ${typeName}`, error);\n  } finally {\n    setLoading({ type: DATA_TYPE.GROUP, payload: false });\n  }\n\n  return response;\n};\n\n/**\n * Query GET `/members`\n */\nconst fetchMembers = async () => {\n  setLoading({ type: DATA_TYPE.MEMBER, payload: true });\n\n  const collectionName = DATA_TYPE_COLLECTION[DATA_TYPE.MEMBER];\n\n  try {\n    await db\n      .ref()\n      .child(collectionName)\n      .once('value', function (snapshot) {\n        snapshot.forEach(function (childSnapshot) {\n          const { key } = childSnapshot;\n          store.setRecord(serialize(childSnapshot.val()), key);\n        });\n      });\n  } catch (error) {\n    errorNotification(`Failed to load ${collectionName}`, error);\n  } finally {\n    setLoading({ type: DATA_TYPE.MEMBER, payload: false });\n  }\n};\n\n/**\n * Query GET `/members/<id>`\n */\nconst fetchMember = async (memberId) => {\n  setLoading({ type: DATA_TYPE.MEMBER, payload: true });\n\n  const typeName = DATA_TYPE.MEMBER;\n  const collectionName = DATA_TYPE_COLLECTION[typeName];\n\n  try {\n    if (!memberId) {\n      throw Error('A member ID is required');\n    }\n\n    await db\n      .ref()\n      .child(collectionName)\n      .child(memberId)\n      .once('value', function (snapshot) {\n        const { key } = snapshot;\n        store.setRecord(serialize(snapshot.val()), key);\n      });\n  } catch (error) {\n    errorNotification(`Failed to load ${typeName} ${memberId}`, error);\n  } finally {\n    setLoading({ type: DATA_TYPE.MEMBER, payload: false });\n  }\n};\n\n/**\n * Query POST `/members/<id>`\n */\nconst saveMember = async (data) => {\n  setLoading({ type: DATA_TYPE.MEMBER, payload: true });\n\n  let response;\n\n  const typeName = DATA_TYPE.MEMBER;\n  const collectionName = DATA_TYPE_COLLECTION[typeName];\n\n  try {\n    // Create new key if it is a new instance\n    const key = data.id || db.ref().child(collectionName).push().key;\n    const deserializedData = deserialize({ ...data, type: typeName }, key);\n\n    await db.ref(`/${collectionName}/${key}`).set(deserializedData);\n    store.setRecord(serialize(deserializedData));\n\n    successNotification('Member saved successfully', `id: ${key}`);\n  } catch (error) {\n    errorNotification(`Failed to save ${typeName}`, error);\n  } finally {\n    setLoading({ type: DATA_TYPE.MEMBER, payload: false });\n  }\n\n  return response;\n};\n\n/**\n * Query GET `/songs`\n */\nconst fetchSongs = async () => {\n  setLoading({ type: DATA_TYPE.SONG, payload: true });\n\n  const collectionName = DATA_TYPE_COLLECTION[DATA_TYPE.SONG];\n\n  try {\n    await db\n      .ref()\n      .child(collectionName)\n      .once('value', function (snapshot) {\n        snapshot.forEach(function (childSnapshot) {\n          const { key } = childSnapshot;\n          store.setRecord(serialize(childSnapshot.val()), key);\n        });\n      });\n  } catch (error) {\n    errorNotification(`Failed to load ${collectionName}`, error);\n  } finally {\n    setLoading({ type: DATA_TYPE.SONG, payload: false });\n  }\n};\n\n/**\n * Query GET `/songs/<id>`\n */\nconst fetchSong = async (songId) => {\n  setLoading({ type: DATA_TYPE.SONG, payload: true });\n\n  const typeName = DATA_TYPE.SONG;\n  const collectionName = DATA_TYPE_COLLECTION[typeName];\n\n  try {\n    if (!songId) {\n      throw Error('A song ID is required');\n    }\n\n    await db\n      .ref()\n      .child(collectionName)\n      .child(songId)\n      .once('value', function (snapshot) {\n        const { key } = snapshot;\n        store.setRecord(serialize(snapshot.val()), key);\n      });\n  } catch (error) {\n    errorNotification(`Failed to load ${typeName} ${songId}`, error);\n  } finally {\n    setLoading({ type: DATA_TYPE.SONG, payload: false });\n  }\n};\n\n/**\n * Query GET `/songs-data/<id>`\n */\nconst fetchSongData = async (songId) => {\n  setLoading({ type: DATA_TYPE.SONG_DATA, payload: true });\n\n  const typeName = DATA_TYPE.SONG_DATA;\n  const collectionName = DATA_TYPE_COLLECTION[typeName];\n\n  try {\n    await db\n      .ref()\n      .child(collectionName)\n      .child(songId)\n      .once('value', function (snapshot) {\n        const { key } = snapshot;\n        store.setRecord(serialize(snapshot.val()), key);\n      });\n  } catch (error) {\n    errorNotification(`Failed to load ${typeName} ${songId}`, error);\n  } finally {\n    setLoading({ type: DATA_TYPE.SONG_DATA, payload: false });\n  }\n};\n\n/**\n * Query POST `/songs/<id>`\n */\nconst saveSong = async (data) => {\n  setLoading({ type: DATA_TYPE.SONG, payload: true });\n\n  let response;\n  const typeName = DATA_TYPE.SONG;\n  const collectionName = DATA_TYPE_COLLECTION[typeName];\n  const dataCollectionName = DATA_TYPE_COLLECTION[DATA_TYPE.SONG_DATA];\n\n  try {\n    // Create new key if it is a new instance\n    const key = data.id || db.ref().child('songs').push().key;\n    const deserializedSong = deserialize({ ...data.song }, key);\n    const deserializedSongData = deserialize({ ...data.data }, key);\n\n    await db.ref(`/${collectionName}/${key}`).set(deserializedSong);\n    store.setRecord(serialize(deserializedSong));\n\n    await db.ref(`/${dataCollectionName}/${key}`).set(deserializedSongData);\n    store.setRecord(serialize(deserializedSongData));\n\n    successNotification('Song saved successfully', `id: ${key}`);\n  } catch (error) {\n    errorNotification(`Failed to save ${typeName}`, error);\n  } finally {\n    setLoading({ type: DATA_TYPE.SONG, payload: false });\n  }\n\n  return response;\n};\n\nconst API = {\n  fetchAlbums,\n  fetchDistributions,\n  fetchDistributionData,\n  fetchGroups,\n  fetchMembers,\n  fetchMember,\n  fetchSongs,\n  fetchSong,\n  fetchSongData,\n  saveDistribution,\n  saveGroup,\n  saveMember,\n  saveSong,\n};\n\nexport default API;\n","import React, { Fragment } from 'react';\n\n// Design Resources\nimport { Spin } from 'antd';\nimport { BorderOutlined } from '@ant-design/icons';\n// State\nimport { reducerTypeMapping, useLoadingState } from '../../states/useLoadingState';\n\nfunction LoadingContainer({ children, waitFor, noResults = false, forceLoading = false, size = 'large' }) {\n  const [isLoading] = useLoadingState(reducerTypeMapping?.[waitFor] ?? 'isLoading');\n\n  if (isLoading || forceLoading) {\n    return (\n      <div className=\"loading-container\">\n        <Spin size={size} />\n      </div>\n    );\n  }\n\n  if (noResults) {\n    return (\n      <div className=\"loading-container\">\n        <BorderOutlined />\n        <p className=\"loading-container__message\">No data to display</p>\n      </div>\n    );\n  }\n\n  return <Fragment>{children}</Fragment>;\n}\n\nexport default LoadingContainer;\n","import React, { useState, useCallback, useEffect, Fragment } from 'react';\n\n// Design Resources\nimport { Button, Modal, Spin, Table } from 'antd';\n// State\nimport useLoadingState from '../../states/useLoadingState';\n// Store\nimport store from '../../services/store';\n// Components\nimport LoadingContainer from '../global/LoadingContainer';\n\nfunction LoadMemberModal({\n  setLoadedData,\n  buttonLabel = 'Load Member',\n  onBeforeLoad = () => {},\n  onAfterLoad = () => {},\n}) {\n  const [isMemberLoading] = useLoadingState('isMemberLoading');\n\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  return (\n    <Fragment>\n      <Button type=\"primary\" onClick={() => setIsModalVisible(true)} disabled={isMemberLoading}>\n        {isMemberLoading ? <Spin size=\"small\" /> : buttonLabel}\n      </Button>\n\n      {isModalVisible && (\n        <MemberModal\n          isModalVisible={isModalVisible}\n          setIsModalVisible={setIsModalVisible}\n          onBeforeLoad={onBeforeLoad}\n          setLoadedData={setLoadedData}\n          onAfterLoad={onAfterLoad}\n        />\n      )}\n    </Fragment>\n  );\n}\n\nfunction MemberModal({ isModalVisible, setIsModalVisible, onBeforeLoad, setLoadedData, onAfterLoad }) {\n  const [isMemberLoading] = useLoadingState('isMemberLoading');\n\n  const [data, setData] = useState([]);\n  const [selectedId, setSelectedId] = useState(null);\n\n  useEffect(() => {\n    async function loadMembers() {\n      setData(await store.getCollection('members'));\n    }\n    loadMembers();\n  }, []);\n\n  const onCancelModal = () => {\n    setIsModalVisible(false);\n  };\n\n  const onLoadMember = useCallback(() => {\n    async function fetchData() {\n      onBeforeLoad();\n\n      setLoadedData(await store.getRecord('member', selectedId));\n\n      setSelectedId(null);\n      onAfterLoad();\n      setIsModalVisible(false);\n    }\n\n    fetchData();\n  }, [selectedId, setLoadedData, onBeforeLoad, onAfterLoad, setIsModalVisible]);\n\n  const columns = [\n    {\n      title: 'Name',\n      dataIndex: 'name',\n    },\n\n    {\n      title: 'Age',\n      dataIndex: 'age',\n    },\n    {\n      title: 'Tagline',\n      dataIndex: 'tagline',\n      render: (text) => `\"${text}\"`,\n    },\n  ];\n\n  const rowSelection = {\n    onChange: (_, selectedRows) => {\n      setSelectedId(selectedRows[0].id);\n    },\n  };\n\n  return (\n    <Modal\n      title=\"Members\"\n      visible={isModalVisible}\n      onOk={onLoadMember}\n      okText=\"Load Member\"\n      onCancel={onCancelModal}\n      okButtonProps={{ disabled: isMemberLoading || Boolean(!setSelectedId) }}\n    >\n      <LoadingContainer waitFor=\"member\">\n        <Table\n          rowSelection={{\n            type: 'radio',\n            ...rowSelection,\n          }}\n          columns={columns}\n          dataSource={data ?? []}\n        />\n      </LoadingContainer>\n    </Modal>\n  );\n}\n\nexport default LoadMemberModal;\n","import React, { useState, useEffect } from 'react';\n\n// Design Resources\nimport { Button, InputNumber, Form, Input, Checkbox, Select, Divider } from 'antd';\n// API\nimport API from '../../api';\n// Utilities\nimport { POSITIONS } from '../../utils/constants';\nimport { bemClass } from '../../utils';\n// Components\nimport LoadMemberModal from '../modals/LoadMemberModal';\n\nfunction EditMember() {\n  const [loadedData, setLoadedData] = useState(false);\n  const [form] = Form.useForm();\n\n  useEffect(() => {\n    form.setFieldsValue(loadedData);\n  }, [form, loadedData]);\n\n  const onFinish = async (values) => {\n    try {\n      await API.saveMember(values);\n      form.resetFields();\n    } catch (_) {}\n  };\n\n  const onReset = () => {\n    form.resetFields();\n  };\n\n  const requiredRule = [{ required: true }];\n\n  return (\n    <section className=\"admin__form-container\">\n      <h3>Create/Edit Member</h3>\n      <div className={bemClass('admin-button-container', 'center')}>\n        <LoadMemberModal setLoadedData={setLoadedData} />\n      </div>\n\n      <Divider />\n\n      <Form\n        layout=\"vertical\"\n        form={form}\n        name=\"edit-member\"\n        onFinish={onFinish}\n        className=\"admin-form admin-edit-member-form\"\n        autoComplete=\"off\"\n        preserve={false}\n      >\n        <Form.Item label=\"ID\" name=\"id\" className=\"admin-form__item\">\n          <Input disabled />\n        </Form.Item>\n\n        <Form.Item label=\"Name\" name=\"name\" className=\"admin-form__item\" rules={requiredRule}>\n          <Input />\n        </Form.Item>\n\n        <div className={bemClass('admin-form__items', '2')}>\n          <Form.Item label=\"Color\" name=\"color\" className=\"admin-form__item\" rules={requiredRule}>\n            <Input />\n          </Form.Item>\n          <Form.Item label=\"Color Name\" name=\"colorName\" className=\"admin-form__item\">\n            <Input />\n          </Form.Item>\n        </div>\n\n        <div className={bemClass('admin-form__items', '2')}>\n          <Form.Item label=\"Codename\" name=\"codename\" className=\"admin-form__item\">\n            <Input />\n          </Form.Item>\n          <Form.Item label=\"Tagline\" name=\"tagline\" className=\"admin-form__item\">\n            <Input />\n          </Form.Item>\n        </div>\n\n        <div className={bemClass('admin-form__items', '4')}>\n          <Form.Item label=\"Age\" name=\"age\" className=\"admin-form__item\">\n            <InputNumber min={12} />\n          </Form.Item>\n          <Form.Item\n            label=\"Contestant\"\n            name=\"isContestant\"\n            className=\"admin-form__item\"\n            valuePropName=\"checked\"\n          >\n            <Checkbox />\n          </Form.Item>\n          <Form.Item label=\"Positions\" name=\"positions\" className={bemClass('admin-form__item', 'double')}>\n            <Select\n              mode=\"multiple\"\n              allowClear\n              style={{ width: '100%' }}\n              placeholder=\"Please select a position\"\n            >\n              {Object.values(POSITIONS).map((position) => (\n                <Select.Option key={position}>{position}</Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          <div></div>\n        </div>\n\n        <Form.Item className=\"admin-form__item\">\n          <div className={bemClass('admin-button-container', 'right')}>\n            <Button htmlType=\"button\" onClick={onReset}>\n              Reset\n            </Button>\n            <Button type=\"primary\" htmlType=\"submit\">\n              Save Member\n            </Button>\n          </div>\n        </Form.Item>\n      </Form>\n    </section>\n  );\n}\n\nexport default EditMember;\n","import React, { useState, useCallback, useEffect, Fragment } from 'react';\n\n// Design Resources\nimport { Button, Modal, Spin, Table } from 'antd';\n// State\nimport useLoadingState from '../../states/useLoadingState';\n// Store\nimport store from '../../services/store';\n// Components\nimport LoadingContainer from '../global/LoadingContainer';\n\nfunction LoadGroupModal({\n  setLoadedData,\n  buttonLabel = 'Load Member',\n  onBeforeLoad = () => {},\n  onAfterLoad = () => {},\n}) {\n  const [isMemberLoading] = useLoadingState('isMemberLoading');\n\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  return (\n    <Fragment>\n      <Button type=\"primary\" onClick={() => setIsModalVisible(true)} disabled={isMemberLoading}>\n        {isMemberLoading ? <Spin size=\"small\" /> : buttonLabel}\n      </Button>\n\n      {isModalVisible && (\n        <GroupModal\n          isModalVisible={isModalVisible}\n          setIsModalVisible={setIsModalVisible}\n          onBeforeLoad={onBeforeLoad}\n          setLoadedData={setLoadedData}\n          onAfterLoad={onAfterLoad}\n        />\n      )}\n    </Fragment>\n  );\n}\n\nfunction GroupModal({ isModalVisible, setIsModalVisible, onBeforeLoad, setLoadedData, onAfterLoad }) {\n  const [isGroupLoading] = useLoadingState('isGroupLoading');\n\n  const [data, setData] = useState([]);\n  const [selectedId, setSelectedId] = useState(null);\n\n  useEffect(() => {\n    async function loadGroups() {\n      setData(await store.getCollection('groups'));\n    }\n    loadGroups();\n  }, []);\n\n  const onCancelModal = () => {\n    setIsModalVisible(false);\n  };\n  const onLoadSong = useCallback(() => {\n    async function loadGroup() {\n      onBeforeLoad();\n\n      setLoadedData(await store.getRecord('group', selectedId));\n\n      setSelectedId(null);\n      onAfterLoad();\n      setIsModalVisible(false);\n    }\n    loadGroup();\n  }, [selectedId, setLoadedData, onBeforeLoad, onAfterLoad, setIsModalVisible]);\n\n  const columns = [\n    {\n      title: 'Name',\n      dataIndex: 'name',\n    },\n\n    {\n      title: 'Debut Year',\n      dataIndex: 'debutYear',\n    },\n    {\n      title: 'Group Size',\n      dataIndex: 'membersIds',\n      render: (list) => `${list.length}`,\n    },\n  ];\n\n  const rowSelection = {\n    onChange: (_, selectedRows) => {\n      setSelectedId(selectedRows[0].id);\n    },\n  };\n\n  return (\n    <Modal\n      title=\"Groups\"\n      visible={isModalVisible}\n      onOk={onLoadSong}\n      okText=\"Load Group\"\n      onCancel={onCancelModal}\n      okButtonProps={{ disabled: isGroupLoading || Boolean(!setSelectedId) }}\n    >\n      <LoadingContainer waitFor=\"group\">\n        <Table\n          rowSelection={{\n            type: 'radio',\n            ...rowSelection,\n          }}\n          columns={columns}\n          dataSource={data ?? []}\n        />\n      </LoadingContainer>\n    </Modal>\n  );\n}\n\nexport default LoadGroupModal;\n","import React, { useState, useEffect } from 'react';\n\n// Design Resources\nimport { Button, InputNumber, Form, Input, Select, Divider } from 'antd';\n// API\nimport API from '../../api';\n// Utilities\nimport { bemClass } from '../../utils';\n// Components\nimport LoadGroupModal from '../modals/LoadGroupModal';\n// Store\nimport store from '../../services/store';\n\nfunction EditGroup() {\n  const [loadedData, setLoadedData] = useState(false);\n  const [membersOptions, setMembersOptions] = useState(false);\n  const [form] = Form.useForm();\n\n  useEffect(() => {\n    form.setFieldsValue(loadedData);\n  }, [form, loadedData]);\n\n  useEffect(() => {\n    async function loadMembers() {\n      setMembersOptions(await store.getCollection('members'));\n    }\n    loadMembers();\n  }, []);\n\n  const onFinish = async (values) => {\n    try {\n      await API.saveGroup(values);\n      form.resetFields();\n    } catch (_) {}\n  };\n\n  const onReset = () => {\n    form.resetFields();\n  };\n\n  const requiredRule = [{ required: true }];\n\n  return (\n    <section className=\"admin__form-container\">\n      <h3>Create/Edit Group</h3>\n      <div className={bemClass('admin-button-container', 'center')}>\n        <LoadGroupModal setLoadedData={setLoadedData} />\n      </div>\n\n      <Divider />\n\n      <Form\n        layout=\"vertical\"\n        form={form}\n        name=\"edit-group\"\n        onFinish={onFinish}\n        className=\"admin-form admin-edit-group-form\"\n        autoComplete=\"off\"\n        preserve={false}\n      >\n        <Form.Item label=\"ID\" name=\"id\" className=\"admin-form__item\">\n          <Input disabled />\n        </Form.Item>\n\n        <Form.Item label=\"Name\" name=\"name\" className=\"admin-form__item\" rules={requiredRule}>\n          <Input />\n        </Form.Item>\n\n        <div className={bemClass('admin-form__items', '2')}>\n          <Form.Item label=\"Debut Year\" name=\"debutYear\" className=\"admin-form__item\">\n            <InputNumber min={1950} />\n          </Form.Item>\n          <Form.Item label=\"Disbandment Year\" name=\"disbandmentYear\" className=\"admin-form__item\">\n            <InputNumber min={1950} />\n          </Form.Item>\n        </div>\n\n        <Form.Item label=\"Members\" name=\"membersIds\" className={bemClass('admin-form__item', 'double')}>\n          <Select\n            mode=\"multiple\"\n            allowClear\n            style={{ width: '100%' }}\n            placeholder=\"Please select the members\"\n          >\n            {membersOptions &&\n              membersOptions.map((member) => <Select.Option key={member.id}>{member.name}</Select.Option>)}\n          </Select>\n        </Form.Item>\n\n        <Form.Item className=\"admin-form__item\">\n          <div className={bemClass('admin-button-container', 'right')}>\n            <Button htmlType=\"button\" onClick={onReset}>\n              Reset\n            </Button>\n            <Button type=\"primary\" htmlType=\"submit\">\n              Save Group\n            </Button>\n          </div>\n        </Form.Item>\n      </Form>\n    </section>\n  );\n}\n\nexport default EditGroup;\n","import React, { useState } from 'react';\n\n// Design Resources\nimport { Layout, Tabs } from 'antd';\n\n// Components\nimport EditMember from './admin/EditMember';\nimport EditGroup from './admin/EditGroup';\n\n// Components\nconst { TabPane } = Tabs;\n\nfunction Admin() {\n  const [tab, setTab] = useState('1');\n\n  return (\n    <Layout.Content className=\"container\">\n      <main className=\"main admin\">\n        <h1>Admin</h1>\n        <Tabs defaultActiveKey=\"1\" onChange={setTab}>\n          <TabPane tab=\"Albums\" key=\"1\">\n            TBD\n          </TabPane>\n          <TabPane tab=\"Groups\" key=\"2\">\n            <EditGroup />\n          </TabPane>\n          <TabPane tab=\"Members\" key=\"3\">\n            <EditMember />\n          </TabPane>\n        </Tabs>\n      </main>\n    </Layout.Content>\n  );\n}\n\nexport default Admin;\n","import React from 'react';\n\nexport function Grid() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      overflow=\"visible\"\n      viewBox=\"0 0 1024 1024\"\n      className=\"svg-sprite\"\n    >\n      <g>\n        <g id=\"grid-base\">\n          <path\n            d=\"M3 3h1018v1018H3zM3 957.4h1018M3 893.8h1018M3 830.1h1018M3 766.5h1018M3 702.9h1018M3 639.3h1018M3 575.6h1018M3 512h1018M3 448.4h1018M3 384.7h1018M3 321.1h1018M3 257.5h1018M3 193.9h1018M3 130.2h1018M3 66.6h1018M957.4 3v1018M893.8 3v1018M830.1 3v1018M766.5 3v1018M702.9 3v1018M639.3 3v1018M575.6 3v1018M512 3v1018M448.4 3v1018M384.7 3v1018M321.1 3v1018M257.5 3v1018M193.9 3v1018M130.2 3v1018M66.6 3v1018\"\n            className=\"svg-grid__base\"\n          />\n        </g>\n        <g id=\"grid-safety\">\n          <path d=\"M130.2 3h763.5v1018H130.2z\" className=\"svg-grid__safety-lines\" />\n          <path\n            d=\"M130.2 3h763.5v1018H130.2z\"\n            className=\"svg-grid__safety-lines\"\n            transform=\"rotate(90 512 512)\"\n          />\n          <path\n            d=\"M66.6 66.6h890.8v890.8H66.6z\"\n            className=\"svg-grid__safety-lines\"\n            transform=\"rotate(90 512 512)\"\n          />\n        </g>\n        <g id=\"grid-star\">\n          <circle cx=\"512\" cy=\"512\" r=\"509\" className=\"svg-grid__star-lines\" />\n          <path\n            d=\"M512 0v1024M1024 512H0M4.5 4.5l1015 1015M1019.5 4.5l-1015 1015\"\n            className=\"svg-grid__star-lines\"\n          />\n        </g>\n      </g>\n    </svg>\n  );\n}\n\nexport default Grid;\n","import { FUR } from './fur';\nimport { SNOUT } from './snout';\nimport { NOSE } from './nose';\nimport { EYES } from './eyes';\n\nconst PROPS = {\n  FUR,\n  HEAD: {\n    SNOUT,\n    NOSE,\n    EYES,\n  },\n};\n\nexport const schema = {\n  FUR: [16],\n  HEAD: {\n    'hair-style': [15],\n    'hair-bangs-style': [15],\n    'hair-color': [10],\n    'head-prop': ['none', 'beanie', 'cowboy-hat', 'headphones', 'hat', 'hat-backwards', 'color-lock'],\n\n    'eye-color': [10],\n    'eye-style': ['normal', 'angry', 'calm', 'suspicious', 'tired', 'high', 'not-impressed'],\n    'eye-prop': ['none', 'sunglasses-1', 'sunglasses-2', 'glasses', 'cool-glasses'],\n\n    'snout-color': [3],\n    nose: ['small', 'normal', 'large'],\n    'nose-color': [6],\n    tooth: ['large', 'normal', 'small', 'chipped', 'doubled', 'braces'],\n    'ear-prop': ['none', 'earring', 'piercing', 'cut', 'cross'],\n    'facial-hair': ['none', 'mustache', 'goatee', 'beard'],\n  },\n  body: {\n    hands: ['gloves', 'globes-white', 'nail-polish-color', 'mail-polish-black', 'bracelet-1', 'bracelet-2'],\n\n    necklace: ['none', 'army', 'hippie', 'simple'],\n\n    'under-shirt': [\n      'none',\n      'short-sleeve',\n      'short-sleeve-v',\n      'long-sleeve',\n      'long-sleeve-v',\n      'tank-top',\n      'tank-top-v',\n    ],\n    'under-shirt-color': [30],\n\n    shirt: ['none', 'closed', 'open', 'half-open', 'polo'],\n\n    jacket: ['none', 'vest', 'overcoat', 'life-vest'],\n\n    pants: ['normal', 'shorts', 'cargo'],\n    'pants-color': [15],\n\n    shoe: ['dress', 'sneakers', 'boots', 'flipflops'],\n    'shoe-color': [30],\n\n    tail: ['spiked', 'droopie', 'normal'],\n  },\n};\n\nexport default PROPS;\n","export const FUR = {\n  AA: {\n    id: '0',\n    name: 'neutral',\n    dna: 'AA',\n    hex: '#a3967a',\n    rate: 1,\n  },\n  AB: {\n    id: '1',\n    name: 'caramel',\n    dna: 'AB',\n    hex: '#a5711f',\n    rate: 18,\n  },\n  AC: {\n    id: '2',\n    name: 'caramel-medium',\n    dna: 'AC',\n    hex: '#c28b40',\n    rate: 13,\n  },\n  AD: {\n    id: '3',\n    name: 'caramel-light',\n    dna: 'AD',\n    hex: '#c49a48',\n    rate: 7,\n  },\n  BA: {\n    id: '4',\n    name: 'hazel',\n    dna: 'BA',\n    hex: '#977725',\n    rate: 13,\n  },\n  BB: {\n    id: '5',\n    name: 'hazel-medium',\n    dna: 'BB',\n    hex: '#a38731',\n    rate: 13,\n  },\n  BC: {\n    id: '6',\n    name: 'hazel-light',\n    dna: 'BC',\n    hex: '#b59a48',\n    rate: 10,\n  },\n  BD: {\n    id: '7',\n    name: 'blond',\n    dna: 'BD',\n    hex: '#ab8925',\n    rate: 8,\n  },\n  CA: {\n    id: '8',\n    name: 'blond-medium',\n    dna: 'CA',\n    hex: '#d3b437',\n    rate: 4,\n  },\n  CB: {\n    id: '9',\n    name: 'blond-light',\n    dna: 'CB',\n    hex: '#d9c350',\n    rate: 2,\n  },\n  CC: {\n    id: '10',\n    name: 'brown',\n    dna: 'CC',\n    hex: '#574639',\n    rate: 1,\n  },\n  CD: {\n    id: '11',\n    name: 'brown-medium',\n    dna: 'CD',\n    hex: '#7b623e',\n    rate: 3,\n  },\n  DA: {\n    id: '12',\n    name: 'brown-light',\n    dna: 'DA',\n    hex: '#8c754a',\n    rate: 1,\n  },\n  DB: {\n    id: '13',\n    name: 'red',\n    dna: 'DB',\n    hex: '#bf4c30',\n    rate: 1,\n  },\n  DC: {\n    id: '14',\n    name: 'red-medium',\n    dna: 'DC',\n    hex: '#bf6c30',\n    rate: 2,\n  },\n  DD: {\n    id: '15',\n    name: 'red-light',\n    dna: 'DD',\n    hex: '#c17b38',\n    rate: 3,\n  },\n};\n","export const SNOUT = {\n  AA: {\n    id: '0',\n    name: 'normal',\n    dna: 'AA',\n    hex: '#f2d4b1',\n    rate: 85,\n  },\n  BB: {\n    id: '1',\n    name: 'yellow',\n    dna: 'BB',\n    hex: '#f6ebb4',\n    rate: 9,\n  },\n  CC: {\n    id: '2',\n    name: 'brown',\n    dna: 'CC',\n    hex: '#dacdbd',\n    rate: 6,\n  },\n};\n","export const NOSE = {\n  AA: {\n    id: '0',\n    name: 'brown',\n    dna: 'AA',\n    hex: '#522906',\n    rate: 48,\n  },\n  AB: {\n    id: '1',\n    name: 'black',\n    dna: 'AB',\n    hex: '#2b230e',\n    rate: 6,\n  },\n  BA: {\n    id: '2',\n    name: 'hazel',\n    dna: 'BA',\n    hex: '#725f10',\n    rate: 11,\n  },\n  BB: {\n    id: '3',\n    name: 'caramel',\n    dna: 'BB',\n    hex: '#7a4f18',\n    rate: 16,\n  },\n  CA: {\n    id: '4',\n    name: 'brown-sugar',\n    dna: 'CA',\n    hex: '#b46838',\n    rate: 17,\n  },\n  CB: {\n    id: '5',\n    name: 'pink',\n    dna: 'CB',\n    hex: '#cc3f3f',\n    rate: 2,\n  },\n};\n","export const EYES = {\n  AA: {\n    id: '0',\n    name: 'grey',\n    dna: 'AA',\n    hex: '#626c7a',\n    rate: 2,\n  },\n  AB: {\n    id: '1',\n    name: 'light-blue',\n    dna: 'AB',\n    hex: '#6fcbd6',\n    rate: 9,\n  },\n  AC: {\n    id: '2',\n    name: 'blue',\n    dna: 'AC',\n    hex: '#3f76bb',\n    rate: 13,\n  },\n  BA: {\n    id: '3',\n    name: 'deep-blue',\n    dna: 'BA',\n    hex: '#016683',\n    rate: 6,\n  },\n  BB: {\n    id: '4',\n    name: 'light-green',\n    dna: 'BB',\n    hex: '#3ab44a',\n    rate: 5,\n  },\n  BC: {\n    id: '5',\n    name: 'green',\n    dna: 'BC',\n    hex: '#259361',\n    rate: 9,\n  },\n  CA: {\n    id: '6',\n    name: 'deep-green',\n    dna: 'CA',\n    hex: '#1b694a',\n    rate: 6,\n  },\n  CB: {\n    id: '7',\n    name: 'hazel',\n    dna: 'CB',\n    hex: '#5e3a21',\n    rate: 15,\n  },\n  CC: {\n    id: '8',\n    name: 'brown',\n    dna: 'CC',\n    hex: '#42210a',\n    rate: 18,\n  },\n  DA: {\n    id: '9',\n    name: 'black',\n    dna: 'DA',\n    hex: '#261e03',\n    rate: 17,\n  },\n};\n","const DEFAULTS = {\n  FUR: 'AA',\n  HEAD: {\n    SNOUT: 'AA',\n    NOSE: 'AA',\n    EYES: 'AA',\n  },\n};\n\nexport default DEFAULTS;\n","import React from 'react';\n\nimport PROPS from '../../utils/properties/';\nimport DEFAULTS from '../../utils/properties/defaults';\n\nfunction BaseBody({ furColor = DEFAULTS.FUR }) {\n  const furClass = `fur-color-fill-${PROPS.FUR[furColor].id}`;\n  const st1FurClass = `svg-base-body__st1 ${furClass}`;\n  const st2FurClass = `svg-base-body__st2 ${furClass}`;\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      overflow=\"visible\"\n      viewBox=\"0 0 1024 1024\"\n      className=\"svg-sprite\"\n    >\n      <g id=\"_x2B_Body_copy\">\n        <g id=\"_x2B_Base_copy\">\n          <path\n            d=\"M722.3 602.9s-23.4 3.5-42.9 10.5c0 0-23.5-77.8-38.2-93-14.8-15.2-48.2-11.3-48.2 6.1s18.2 140.7 48.2 153.3c30 12.6 103.2-19.4 107-32.5 3.8-13 14-49.2-25.9-44.4z\"\n            className={st1FurClass}\n          />\n          <path\n            d=\"M458.3 570.8c2 23 8.5 48.4 11.9 71.3 1.3 8.9 4.3 18 3.4 27.1-.8 8.7-3.9 17.5-5.8 26-6.4 28.6-10.8 57.7-14.1 86.8-3.8 33.8-5.2 68.8-10.8 102l-1.9 2.7-14.9 18.8c-11.5 19-15 40.7 15.6 48.9s36.9-11.5 51.1-31.4c14.2-20 2.9-31.8 2.9-31.8-1.6-2.8-1.5-6.2-1.2-9.4 2.1-23.9 12.4-41.8 15.2-65.6.4-3.4.7-6.8 1.8-10 1.3-3.5 3.5-6.5 5.7-9.6 17.9-25.2 34.8-45.8 47.9-73.9 13.1 17.6 16.5 29.4 36.5 53.4 9.3 11.1 9.3 24.9 12.3 37.4 6.4 26.2 10.3 45.2 7.2 71.4-.9 7.6.7 15.5 4.1 22.4 7.1 14.4 26.5 16.4 40.5 19 10.8 1.9 21.6 8.2 32.1 11.6 2.7.9 5.5 1.7 8.3 1.4 2.8-.3 5.7-1.9 6.5-4.6.4-1.2.4-2.7 1.2-3.7.9-1.1 2.5-1.3 3.9-1.7 8.1-2.3 8.7-14.9 9.2-21.8.7-10.3-11.4-16.5-18.4-21.9-5.1-3.9-10.9-6.7-17-8.4l-15.1-7c-.1-29.2-.3-58.6-4.1-87.6-1.9-14.8-4.7-29.5-8.8-43.8-3.9-13.5-4.8-27.9-7.2-41.8-2.2-12.4-5-19.3-3.5-31.1 3.7-29.1 1-68.2-5.9-97.8 0 0-8.8-48.3-45.3-59.8s-92.1-8.9-100-6.8c-31.2 8.4-48.8 5.5-43.3 69.3z\"\n            className={st2FurClass}\n          />\n          <path d=\"M600.7 511.5c-10-3.1-20.4-4.9-30.9-6.2-10.5-1.3-21.1-1.9-31.7-2.1-2.7-.1-5.3-.1-8-.1s-5.3.1-7.9.1c-5.3.2-10.6.4-15.7 1l-1.9.2-.5.1-.4.1-.8.2-.4.1-.5.1-1 .3-2 .5-7.8 1.9c-5.1 1.3-10.3 2.5-14.7 4.5-2.2 1-4.3 2.2-6.1 3.7-1.8 1.5-3.3 3.3-4.5 5.3l-.9 1.5-.8 1.6c-.4 1.1-.9 2.3-1.2 3.5-.7 2.4-1.2 4.8-1.6 7.4-1.4 10.2-1.1 20.8-.3 31.3 1.4 21.1 6.4 41.9 10.2 63 .5 2.6.9 5.3 1.4 8l.6 4c.2 1.3.4 2.5.6 3.8 1 5.1 2.2 10.5 2.8 16.1.3 2.8.3 5.7 0 8.6-.3 2.8-.8 5.6-1.4 8.3-1.2 5.4-2.8 10.5-4 15.6-4.7 20.7-8.4 41.8-11.3 62.9-1.5 10.6-2.8 21.2-3.9 31.8-1.1 10.6-2 21.3-2.9 31.9-1.8 21.3-3.6 42.8-7.2 64.1-.1.5-.3 1-.6 1.3l-2 2.8-2.1 2.7-4.2 5.4-8.5 10.8.2-.3c-3.4 5.6-6.2 11.6-7.4 17.8-.6 3.1-.7 6.1-.1 9 .6 2.9 1.8 5.5 3.7 7.7.9 1.1 2 2.1 3.2 3.1 1.2.9 2.5 1.8 3.9 2.5 2.7 1.5 5.7 2.7 8.8 3.6 6.2 1.8 12.8 2.9 18.7 1.8 1.5-.3 2.9-.7 4.3-1.2.7-.2 1.4-.6 2-.9.6-.4 1.3-.7 1.9-1.1 2.5-1.6 4.8-3.8 6.9-6.2 4.2-4.9 7.7-10.7 11.5-16.5 1.9-2.9 4-5.8 5.6-8.4.5-.7.8-1.4 1.2-2.1.3-.7.8-1.4 1.1-2.1l.9-2.2c.3-.7.5-1.5.7-2.2.8-2.9 1.1-5.9.7-8.8-.2-1.4-.6-2.8-1.1-4.1-.3-.7-.6-1.3-.9-1.9l-.6-.9c-.2-.2-.4-.6-.5-.6l-.1-.2c-.1-.1-.2-.3-.3-.5-1.3-2.4-1.7-4.9-1.8-7.1 0-2.3.2-4.3.4-6.2.4-4 1.1-7.9 1.9-11.8 1.7-7.8 4-15.3 6.3-22.7 2.2-7.4 4.4-14.8 5.7-22.2.2-.9.3-1.9.5-2.8l.4-2.8c.3-1.8.4-3.8.7-5.8.3-2 .7-4.2 1.5-6.3.8-2.1 1.9-4 3-5.8 1.1-1.7 2.3-3.3 3.4-4.9l3.4-4.8 6.9-9.5c4.6-6.3 9.1-12.5 13.5-18.9 8.8-12.7 16.9-25.8 23.4-39.7.8-1.6 2.7-2.3 4.3-1.6.5.2.9.6 1.2 1 2.4 3.2 4.7 6.6 6.9 9.9 2.2 3.4 4.2 6.8 6.3 10.2 4.1 6.8 8.2 13.4 12.8 19.7 2.3 3.2 4.7 6.3 7.1 9.3l3.7 4.6c1.3 1.7 2.6 3.5 3.6 5.3 2.1 3.7 3.6 7.8 4.7 11.8 1.1 4 1.8 8 2.5 11.9.3 1.9.7 3.9 1.1 5.7.4 1.9.8 3.7 1.3 5.7.9 3.9 1.8 7.7 2.7 11.6 1.7 7.8 3.2 15.7 4.1 23.7.5 4 .7 8 .9 12.1.1 4 .1 8.1-.1 12.1-.1 2-.3 4-.4 6l-.6 5.9c-.3 3.6 0 7.2.8 10.8.4 1.8.9 3.5 1.6 5.2.6 1.7 1.4 3.4 2.3 4.8 1.7 2.9 4.2 5.4 7.2 7.3 3 1.9 6.4 3.3 10 4.4 3.6 1.1 7.4 1.9 11.2 2.6l5.8 1 2.9.5c1 .2 2.1.4 3.1.7 4.1 1 7.9 2.4 11.7 3.9l11 4.6c1.8.7 3.6 1.4 5.4 2 1.8.6 3.7 1.2 5.3 1.5 1.6.3 3.2.4 4.3 0 1.2-.4 2.2-1.1 2.6-1.9.1-.2.1-.3.2-.7.1-.4.2-.9.3-1.5.2-.7.5-1.5 1.1-2.4.6-.9 1.5-1.6 2.3-2 1.6-.8 2.7-.9 3.5-1.1l.9-.3c.3-.1.5-.3.8-.5 1-.7 1.9-1.9 2.6-3.4.7-1.5 1.2-3.2 1.5-4.9.4-1.8.6-3.6.8-5.5.1-.9.2-1.9.2-2.9l.1-1.5v-1.1c-.1-1.5-.5-2.9-1.3-4.2-.8-1.4-1.9-2.7-3.1-3.9-2.5-2.5-5.6-4.7-8.9-7l-2.5-1.7-2.4-1.8c-1.5-1.1-3.1-2.1-4.7-3-3.2-1.8-6.7-3.2-10.2-4.1-.2 0-.4-.1-.5-.2l-15.1-7c-1.2-.5-1.8-1.7-1.9-2.9v-.1c-.2-12.7-.4-25.4-.9-38-.5-12.6-1.3-25.2-2.5-37.7-1.3-12.5-3.1-24.9-5.8-37.2-1.3-6.1-2.8-12.1-4.6-18.2-1.8-6.4-2.9-12.8-3.8-19.2-.9-6.4-1.7-12.6-2.7-18.8-.5-3.1-1-6.1-1.7-9.2-.6-3.1-1.3-6.2-1.9-9.5-.6-3.3-.9-6.7-.9-10.2 0-3.4.5-6.9.8-9.9.7-6.2 1.1-12.4 1.3-18.7.2-6.3.2-12.5-.1-18.8-.3-6.3-.6-12.5-1.1-18.8-.1-1.6-.3-3.1-.4-4.7-.1-1.6-.2-3.1-.4-4.7l-.4-4.7c-.2-1.6-.3-3.1-.5-4.7-.6-6.3-1.4-12.5-2.1-18.8-.1-.8.5-1.5 1.2-1.6.7-.1 1.3.3 1.5.9 4.1 12.2 6.6 24.8 8.1 37.6s2 25.6 1.8 38.5c-.1 6.4-.5 12.9-1.1 19.3-.3 3.4-.7 6.1-.7 9.1 0 2.9.3 5.8.8 8.8.5 3 1.2 6 1.9 9.2.7 3.1 1.3 6.4 1.8 9.5 1 6.4 1.8 12.7 2.7 18.9.9 6.2 2 12.3 3.6 18.2 1.7 6.1 3.3 12.4 4.6 18.7 2.7 12.6 4.4 25.3 5.7 38.1 1.2 12.8 1.7 25.5 2 38.3.3 12.8.2 25.5.1 38.2l-1.9-2.9 15.1 7-.5-.2c4.1 1.1 8 2.7 11.7 4.7 1.8 1 3.6 2.2 5.3 3.4l2.4 1.8 2.4 1.7c3.2 2.3 6.6 4.6 9.7 7.7 1.5 1.6 3 3.3 4.2 5.4 1.1 2.1 1.9 4.5 2.1 7v1.9l-.1 1.5c-.1 1-.1 2-.2 3-.2 2-.5 4.1-.9 6.2-.4 2.1-1 4.2-2 6.4-1 2.1-2.4 4.3-4.7 5.9-.6.4-1.2.7-1.8 1-.6.3-1.3.5-1.9.7-1.2.3-2 .5-2.2.6-.1.1 0 0 0-.1s0 0-.1.3-.2.8-.3 1.4c-.1.6-.4 1.4-.7 2.1-.7 1.4-1.7 2.5-2.9 3.4-1.1.8-2.4 1.4-3.7 1.8-2.7.8-5.2.6-7.4.1-1.1-.2-2.2-.5-3.2-.8-1-.3-1.9-.6-2.9-.9-1.9-.7-3.9-1.4-5.7-2.1l-11-4.6c-3.6-1.4-7.2-2.8-10.8-3.6l-2.7-.6-2.9-.5-5.9-1c-3.9-.7-7.9-1.6-11.9-2.8-4-1.2-7.9-2.8-11.6-5.1-3.7-2.3-7-5.5-9.3-9.4-1.2-2-2-3.9-2.8-5.9-.8-2-1.4-4-1.9-6.1-1-4.2-1.3-8.5-1-12.8l.6-5.9c.1-1.9.3-3.9.4-5.8.2-3.9.2-7.7.1-11.6-.2-3.9-.4-7.7-.9-11.6-.9-7.7-2.3-15.4-4-23-.9-3.8-1.8-7.7-2.7-11.5-.5-1.9-1-3.9-1.4-5.9-.4-2-.8-4-1.1-5.9-1.4-7.8-2.8-15.3-6.4-21.6-.9-1.6-1.9-3.1-3-4.5l-3.8-4.6c-2.5-3.1-4.9-6.3-7.3-9.6-4.7-6.5-9-13.3-13.1-20.1-2-3.4-4.1-6.8-6.2-10-2.1-3.3-4.3-6.5-6.6-9.6l5.5-.6c-6.7 14.3-15 27.8-23.9 40.6-4.5 6.4-9.1 12.7-13.6 19l-6.8 9.4-3.4 4.7c-1.1 1.6-2.3 3.2-3.3 4.7s-1.8 3-2.4 4.5c-.6 1.5-.9 3.2-1.2 5-.3 1.8-.4 3.7-.7 5.7l-.4 3c-.2 1-.3 2-.5 3-1.4 7.9-3.6 15.5-5.9 22.9-2.3 7.5-4.6 14.8-6.1 22.2-.8 3.7-1.4 7.4-1.8 11.2-.5 3.8-.7 7.4.6 9.5l-.1-.3c.5.6.8.9 1.1 1.4.3.4.6.9.8 1.3.5.9 1 1.8 1.3 2.7.8 1.8 1.3 3.8 1.6 5.7.6 3.9.2 7.8-.8 11.5-.3.9-.5 1.8-.9 2.7l-1.1 2.6c-.3.9-.8 1.6-1.2 2.5-.4.8-.8 1.7-1.3 2.4-2 3.2-3.9 5.8-5.8 8.6-3.8 5.6-7.3 11.6-12 17.1-2.4 2.7-5.1 5.4-8.3 7.4-3.2 2.1-6.9 3.5-10.6 4.2-3.8.7-7.5.7-11.2.3-3.6-.4-7.1-1.2-10.6-2.2-3.4-1-6.9-2.3-10.1-4.1-1.6-.9-3.2-1.9-4.7-3.1-1.5-1.2-2.9-2.5-4.2-4-2.5-3-4.3-6.7-5.1-10.6-.8-3.9-.6-7.8.1-11.4 1.4-7.3 4.6-13.9 8.2-19.9.1-.1.1-.2.2-.3l8.4-10.7 4.2-5.3 2.1-2.7 1.9-2.7-.6 1.3c3.5-20.9 5.3-42.2 7.1-63.5.9-10.7 1.8-21.4 2.9-32 1.1-10.7 2.4-21.3 3.9-32 3-21.3 6.6-42.4 11.4-63.5 1.3-5.3 2.8-10.4 4-15.5.6-2.5 1-5 1.3-7.5.3-2.4.2-4.9 0-7.4-.5-5-1.7-10.2-2.7-15.5-.3-1.3-.5-2.7-.7-4.1l-.6-3.9c-.4-2.6-.9-5.2-1.3-7.9-1.9-10.5-4.1-21-6-31.5-1.9-10.6-3.6-21.3-4.3-32.2-.4-5.4-.7-10.8-.7-16.3s.2-11 1-16.5c.4-2.8 1-5.5 1.8-8.3.4-1.4.9-2.7 1.5-4.1l.9-2c.3-.7.7-1.3 1.1-2 1.5-2.6 3.5-5 5.8-6.9 2.3-2 4.9-3.5 7.6-4.7 5.3-2.4 10.7-3.6 15.9-4.9l7.8-1.9 1.9-.5 1-.2.5-.1.6-.1 1.1-.2.6-.1.5-.1 2.1-.3c5.5-.6 10.9-.8 16.3-1 2.7-.1 5.4-.1 8.1-.1 2.7 0 5.4 0 8.1.1 10.8.2 21.6.9 32.4 2.2 10.8 1.3 21.5 3.2 32 6.5 1.7.5 2.7 2.3 2.1 4.1-.1 1.3-2 2.2-3.7 1.7z\" />\n          <path\n            d=\"M577.7 696.4c6.4 10.1 8.5 25 2.1 35.5-5.3 8.8-13.6 6-16-3-.7-2.8-1.2-5.6-1.5-8.5-.1 2.3-1.5 4.4-3.5 5.5-2 1-4.6.8-6.5-.5-2.5 1.7-6.3-.5-7.2-3.4-1-3.1-.2-9.6 2.7-11.6\"\n            className={st2FurClass}\n          />\n          <path d=\"M578.8 695.6c3.3 4.9 5.4 10.6 6.3 16.5.9 5.9.5 12.2-1.9 17.9-.3.7-.6 1.4-1 2.1-.2.3-.3.7-.5 1l-.7 1c-.4.7-1 1.3-1.5 2l-.9.9c-.3.3-.6.6-1 .8-1.4 1.1-3.4 1.9-5.4 1.9-2 0-4-.7-5.6-1.7-1.6-1.1-2.8-2.5-3.7-3.9-1-1.5-1.6-3.1-2.1-4.6-.9-2.9-1.5-5.9-1.8-8.9l6.5-.2c-.1 1.8-.6 3.4-1.5 4.8s-2.2 2.6-3.8 3.4c-1.6.8-3.3 1.1-5 1-1.7-.1-3.3-.7-4.8-1.7h3.7c-1.5.9-3.3 1.2-4.8.9-1.5-.3-2.7-1-3.8-1.8-1-.8-1.8-1.9-2.4-3.1-.3-.6-.5-1.3-.6-1.9-.1-.6-.2-1.2-.2-1.7-.1-2.2.2-4.2.8-6.1.3-1 .7-2 1.3-2.9.6-.9 1.3-1.9 2.4-2.6.8-.5 1.8-.2 2.3.6.4.7.3 1.6-.3 2.1l-.1.1c-.8.7-1.3 2.2-1.6 3.7-.2 1.5-.2 3.2 0 4.6.1.4.2.7.3 1 .1.3.2.4.3.6.3.4.7.8 1.1 1 .4.2.9.4 1.2.3.3 0 .3-.2.3-.2.4-.9 1.4-1.2 2.3-.8l.1.1 1.3.7c.4.3 1 .5 1.6.5.6 0 1.2-.1 1.6-.3.4-.2.9-.6 1.2-1.1.3-.5.5-1.1.5-1.6l.1-.5c.3-1.7 2-2.9 3.7-2.6 1.5.3 2.6 1.5 2.7 3 .1 2.7.5 5.3 1.1 7.9.3 1.1.6 2.3 1.2 3.2.5 1 1.2 1.8 2 2.4 1.5 1.1 3.2 1.3 4.9.2 1.8-1.1 3.2-3.3 4.4-5.6 2.3-4.7 3-10.2 2.4-15.6-.5-5.4-2.2-10.8-5-15.5-.4-.6-.2-1.5.5-1.9.7-.2 1.5 0 1.9.6z\" />\n          <g>\n            <path\n              d=\"M741.2 658s46 12 56.2-35.9-21.6-63.4-21.6-63.4-15.8-5.4-18.9-6.5c-3.1-1.1-19.2-3.2-29.3 15.5-10.1 18.7-26.4 31.1-3.6 53 .2-.1-1.1 25.4 17.2 37.3z\"\n              className={st1FurClass}\n            />\n            <path\n              d=\"M739.8 536.9c-4.8 1.5-9.5 2.9-10.4 3.1s-5.6 1.7-10.4 3.1l-1.3.4c-4.8 1.5-7.3 6.5-5.5 11.2l36.1 92.5c1.8 4.7 5.6 7.9 8.3 7.1 2.7-.8 5.7-1.7 6.6-2s3.9-1.2 6.6-2c2.7-.8 4.1-5.5 3-10.5l-20.9-97.1c-1.1-4.9-5.9-7.8-10.7-6.3l-1.4.5z\"\n              className=\"svg-base-body__st3\"\n            />\n            <ellipse\n              cx=\"726.6\"\n              cy=\"533.4\"\n              className=\"svg-base-body__st3\"\n              rx=\"33.5\"\n              ry=\"27.8\"\n              transform=\"rotate(-16.732 726.65 533.445)\"\n            />\n            <path\n              d=\"M781.9 640.3s-4.9-1.4-7.5 1.1-14.4 8.2-20.3-1.5 1.5-16.7 1.5-16.7-12.9-2.1-10.1-18.8c0 0-18.9 1-7.5-29.6 0 0-12-4.5-6.7-12.6s7.3-17 30.1-8.5\"\n              className={st1FurClass}\n            />\n            <path d=\"M745.6 604.3s4.2-12.7 27.6-13.3\" className={st2FurClass} />\n            <path d=\"M742.5 603.3c.1-.4.2-.5.3-.8l.3-.6c.2-.4.4-.7.7-1.1.5-.7.9-1.3 1.5-1.9 1-1.2 2.2-2.2 3.4-3.2 2.4-1.9 5.1-3.2 7.8-4.2s5.5-1.6 8.3-2c1.4-.1 2.8-.3 4.2-.4l4.2-.1c1 0 1.9.8 1.9 1.8s-.7 1.8-1.7 1.9h-.1l-3.9.4c-1.3.2-2.5.4-3.8.7-2.5.6-4.9 1.3-7.2 2.4-2.2 1-4.3 2.3-6 3.9-.8.8-1.6 1.6-2.3 2.5-.3.4-.6.9-.9 1.4-.1.2-.3.5-.3.7 0 .1-.1.2-.1.3 0 .1-.1.2-.1.2-.6 1.7-2.4 2.6-4.1 2.1-1.8-.5-2.7-2.3-2.1-4z\" />\n            <path d=\"M755.6 623.1s12.4-12.4 24.1-9.3\" className={st2FurClass} />\n            <path d=\"M753.3 620.8c1-.9 1.9-1.6 2.9-2.3 1-.7 2-1.4 3-2 2-1.2 4.2-2.4 6.4-3.2 2.3-.9 4.6-1.5 7.1-1.8 2.5-.2 5 0 7.4.7.9.3 1.4 1.2 1.1 2.1-.2.8-1.1 1.3-1.9 1.2h-.1c-2-.3-4-.3-5.9.1-2 .5-3.9 1.2-5.7 2.2-1.8 1-3.6 2.2-5.2 3.4-.8.6-1.6 1.3-2.4 2-.8.7-1.6 1.5-2.1 2.1-1.2 1.3-3.2 1.5-4.6.3-1.3-1.2-1.5-3.2-.3-4.6.1 0 .2-.1.3-.2z\" />\n            <g>\n              <path d=\"M739 575.2s6.6-7.4 27.1-3\" className={st2FurClass} />\n              <path d=\"M736.5 573c.5-.5.7-.7 1.1-.9.3-.2.6-.4 1-.6.6-.4 1.3-.7 1.9-1 1.3-.6 2.6-1 3.8-1.3 2.6-.6 5.1-.9 7.6-.8 1.3 0 2.5.1 3.7.1 1.2.1 2.4.3 3.7.4 1.2.2 2.4.4 3.6.7l3.5.8c1 .2 1.6 1.2 1.3 2.2-.2.9-1.1 1.5-2 1.4h-.1l-3.4-.5c-1.1-.1-2.3-.2-3.4-.3-1.1 0-2.3-.1-3.4 0s-2.2.1-3.3.2c-2.2.2-4.3.6-6.2 1.3-1 .3-1.9.8-2.7 1.2-.4.2-.8.5-1.2.8-.2.1-.3.3-.5.4l-.2.2c-1.2 1.3-3.2 1.5-4.6.3-1.2-1.2-1.4-3.3-.2-4.6z\" />\n            </g>\n            <ellipse\n              cx=\"722.3\"\n              cy=\"581.1\"\n              className={st1FurClass}\n              rx=\"18\"\n              ry=\"19.3\"\n              transform=\"rotate(-22.626 722.349 581.097)\"\n            />\n          </g>\n          <g>\n            <path\n              d=\"M428.6 720s22.3-80.4 23-85.6 41.3-37.1 43.8-65.8c2.5-28.7-3.6-54.6-29.6-50.8-25.9 3.9-57.1 59.9-68.2 92.5-11.1 32.6-19 41.3-29.1 82.6 0 0-7.5 13.2 17.9 24.9 25.3 11.7 40.2 9.2 42.2 2.2z\"\n              className={st2FurClass}\n            />\n            <path d=\"M466.1 520.3c-.4.4-.8.7-1.3.9-.4.2-.9.4-1.3.6-.4.2-.9.3-1.3.4-.4.1-.9.4-1.3.6-.4.2-.9.4-1.3.6l-1.3.7c-.9.4-1.7 1-2.5 1.5-3.3 2.2-6.4 4.9-9.4 7.8-5.9 5.8-11.1 12.5-15.8 19.4-9.5 13.9-17.5 29-24.3 44.6-1.7 3.9-3.2 7.8-4.7 11.8l-2.1 6.1c-.7 2-1.5 4.1-2.2 6.1-3 8.1-6.4 16.1-9.7 24-3.3 7.9-6.4 15.7-9 23.8-2.6 8.1-4.9 16.3-7 24.5l-.3.8v.1c0 .1-.1.2-.1.3-.1.2-.1.4-.2.6-.1.2-.1.4-.1.7 0 .2-.1.5-.1.7v.7c0 .2 0 .5.1.7 0 .5.2.9.2 1.4.5 1.9 1.6 3.7 3 5.4 2.9 3.4 7 6.1 11.4 8.2 2.2 1.1 4.5 2.1 6.8 3.1 2.3.9 4.7 1.8 7 2.6 4.7 1.5 9.6 2.7 14.3 3.1 2.3.2 4.7.1 6.8-.3 1-.2 2-.5 2.8-.9.8-.4 1.3-.9 1.7-1.3.1-.2.3-.4.3-.6 0 0 .1-.2.1-.4l.1-.5.3-.9 1-3.7 2.1-7.5 8.2-30c2.8-10 5.5-20 8.2-30l2-7.5.5-1.8c.1-.6.3-1.3.4-1.8l.2-.8.1-.6c.1-.4.2-.9.4-1.2l.4-.7c.1-.2.3-.5.4-.6.2-.3.5-.7.7-1 1.8-2.3 3.6-4.2 5.4-6.1l5.4-5.6c7.1-7.5 14-15 20-23.1 3-4.1 5.8-8.3 8.1-12.7 2.4-4.4 4.2-9.1 5.1-14 .1-.6.7-1.1 1.4-.9.6.1 1 .6 1 1.2-.1 5.4-1.4 10.7-3.4 15.7s-4.6 9.7-7.5 14.1c-2.9 4.4-6.1 8.7-9.5 12.7-3.3 4.1-6.9 7.9-10.4 11.8l-5.3 5.7c-1.7 1.9-3.5 3.8-4.9 5.6l-.4.6c-.1.1-.1.2-.1.2 0 .1-.1.1-.1.2 0 0 .1-.2.1-.3v-.1.1l-.1.3-.2 1.1c-.1.8-.3 1.3-.5 2l-.5 1.9-1.9 7.6c-2.6 10.1-5.3 20.1-8 30.1s-5.4 20-8.2 30l-2.1 7.5-1 3.7-.3.9-.1.5c0 .2-.1.3-.2.6-.3 1-.8 2-1.4 2.8-1.2 1.7-2.8 2.8-4.4 3.5-1.6.8-3.1 1.2-4.6 1.5-3 .6-5.9.6-8.7.4-5.6-.5-10.9-1.8-16-3.5-2.5-.9-5-1.8-7.5-2.9-2.5-1-4.9-2.1-7.3-3.4-4.8-2.5-9.6-5.6-13.4-10.2-3.7-4.5-6.4-11.4-3.1-18.2l-.3.8c2-8.4 4.3-16.8 6.9-25.1 2.6-8.3 5.7-16.4 9-24.4s6.6-15.8 9.6-23.8c.7-2 1.5-4 2.2-6l2.1-6.1c1.5-4.1 3.1-8.2 4.8-12.2 3.4-8 7.2-15.8 11.4-23.4 4.2-7.6 8.7-15.1 13.7-22.3 5-7.2 10.4-14.1 16.7-20.4 3.2-3.1 6.6-6.1 10.4-8.6 1-.6 1.9-1.3 3-1.8l1.5-.8c.5-.3 1.1-.5 1.6-.7 2.1-.9 4.5-1.9 7.1-1.2 1.4.4 2.3 1.8 1.9 3.3-.1.5-.4.9-.7 1.2l-.5.5z\" />\n          </g>\n          <g>\n            <path\n              d=\"M431.6 733.3c-.1-.1-.1-.3-.2-.4-1-3.3-1-7-2-10.4-4.1-13.4-14-25.2-26.4-31.8-10.4-5.5-22.1-3.6-32.6.9-5.4 2.3-8.9 5.9-12.4 10.5-2.5 3.3-4.9 6.8-7 10.3-4.3 7.2-7.7 15-9.8 23.2-2.2 8.8-2.8 18.6 1.7 26.9 0 0 1.4 9.9 13.4 6.7 0 0 4.2 10.2 13.4 9.9 0 0 5.8 9.2 14.9 6 0 0 14.7 10.6 19.3-6.3 4.6-16.9.8-26.8 3-27.1 2.2-.4 8.2 11.6 7.3 22.2-.9 10.1 10.3 13 17.1 2.5 4-6.3 4.9-14.7 4.9-22 0-4-.3-8.1-1.2-12-.4-1.8-.8-3.5-1.4-5.2-.6-1.5-1.5-2.7-2-3.9z\"\n              className={st2FurClass}\n            />\n            <path d=\"M353 769.7c-.3-2.9-.4-5.6-.4-8.4 0-2.8.1-5.5.4-8.3.3-2.8.8-5.6 1.6-8.3.9-2.7 2.1-5.5 4.3-7.9.7-.8 2-.8 2.7-.1.7.7.8 1.8.2 2.6v.1c-1.4 1.7-2.2 4-2.8 6.4-.5 2.4-.8 5-.8 7.5-.1 2.6 0 5.2.2 7.7.2 2.6.5 5.2 1 7.7v.1c.3 1.8-.9 3.5-2.6 3.8s-3.5-.9-3.8-2.6c.1-.2 0-.3 0-.3zM367.8 781.6c-.7-3.4-1.1-6.7-1.5-10-.3-3.3-.5-6.7-.4-10.1.1-3.4.4-6.8 1.2-10.2.8-3.3 2.2-6.8 4.7-9.5.6-.7 1.7-.7 2.4-.1.6.6.7 1.6.2 2.3-1.8 2.2-2.7 5.1-3.2 8.1s-.5 6.1-.3 9.3c.2 3.1.6 6.3 1.1 9.4.5 3.1 1.2 6.3 2.1 9.2v.1c.5 1.7-.5 3.5-2.2 4-1.7.5-3.5-.5-4-2.2 0-.2-.1-.3-.1-.3zM381.3 785.5c-.4-3.3-.6-6.4-.7-9.7-.1-3.2-.1-6.4 0-9.7.2-3.2.5-6.5 1.2-9.8.7-3.3 1.6-6.7 4-9.8.8-1.1 2.4-1.3 3.5-.4 1.1.8 1.3 2.4.5 3.4l-.1.1c-1.4 1.9-2.2 4.8-2.7 7.7-.5 2.9-.7 5.9-.7 9 0 3 .1 6.1.3 9.2.2 3.1.6 6.2 1 9.1v.1c.3 1.8-.9 3.4-2.7 3.7s-3.4-.9-3.7-2.7c.1-.1.1-.2.1-.2z\" />\n            <path d=\"M373.8 692.3c-.6.9-1.2 1.5-1.9 2s-1.3 1-1.9 1.3c-1.3.8-2.6 1.6-3.7 2.6-2.3 2-4.3 4.6-6.4 7.4-4 5.5-7.5 11.4-10.3 17.6-1.4 3.1-2.6 6.2-3.6 9.4s-1.9 6.5-2.3 9.7c-.5 3.2-.7 6.5-.4 9.6.3 3.1 1.1 6.2 2.5 9l.4 1.1v.2c0 .1.1.2.1.3.1.2.2.5.3.7.2.4.4.9.7 1.2.5.7 1.2 1.2 2 1.6.8.3 1.8.5 2.8.5.5 0 1.1-.1 1.7-.1l1.8-.4h.1c1.6-.3 3.1.5 3.7 1.9.1.1.2.5.4.7.1.3.3.5.5.8.3.5.7 1.1 1 1.6.7 1 1.6 1.9 2.5 2.6.9.7 1.9 1.3 2.8 1.6 1 .4 2 .5 3.1.5h.2c1.1 0 2.1.6 2.7 1.5.1.1.3.4.4.6.2.2.4.5.6.7.4.4.8.9 1.3 1.2.9.8 1.8 1.4 2.8 1.9 1 .5 2 .7 3 .7 1 .1 2-.2 3-.5h.2c1-.2 2 0 2.8.5.2.1.6.4.9.5.3.2.7.4 1 .5.7.3 1.4.6 2.1.8 1.4.5 2.8.7 3.9.6 1.2-.1 2.1-.5 3-1.2.8-.7 1.6-1.8 2.2-3.1.6-1.3 1-2.7 1.4-4.4.4-1.6.7-3.3 1-5 .5-3.3.8-6.7.8-10.1 0-1.7 0-3.4-.1-5.2 0-.9-.1-1.8 0-3 0-.3 0-.7.1-1.1 0-.2.1-.5.2-.8 0-.1.1-.3.2-.5s.2-.3.3-.6c.2-.2.3-.5.6-.7.2-.2.5-.5.9-.7.6-.4 1.4-.6 2.1-.6.3 0 .7 0 1 .1.2.1.5.1.7.2.3.1.4.2.5.2.2.1.3.2.5.3 1 .6 1.4 1.1 1.8 1.7.4.5.7 1 1 1.4.6.9 1.1 1.8 1.5 2.7.9 1.8 1.6 3.6 2.2 5.5 1.1 3.7 1.8 7.6 1.9 11.6v3.7c.1.3.1.6.1.8.2 1.1.7 1.9 1.3 2.3.6.5 1.4.7 2.4.6 1-.1 2.1-.5 3.1-1.2 1-.8 2.1-1.7 2.9-2.9.9-1.1 1.6-2.5 2.2-3.9 2.4-5.7 2.8-12.7 2.7-19.5-.1-3.4-.5-6.7-1.2-9.9-.2-.8-.4-1.6-.6-2.3-.1-.4-.2-.8-.4-1.1-.1-.2-.2-.5-.4-.8-.3-.7-.8-1.5-1.3-2.6l-.3-.9-.2-.8c-.1-.5-.3-1-.4-1.5-.4-2-.6-3.8-.8-5.4-.1-.8-.3-1.6-.5-2.3l-.3-1.1-.4-1.2c-1-3.2-2.1-6.3-3.1-9.8-.3-1 .3-2 1.3-2.3.7-.2 1.3 0 1.8.5 2.7 2.7 4.7 6 6.1 9.5.2.4.3.9.5 1.3s.3.9.5 1.4c.3 1 .5 2 .6 2.9.3 1.9.5 3.6.8 5.1.1.4.2.7.3 1.1l.2.5c0 .1.1.2.1.3.2.5.7 1.2 1.1 2.2.2.5.5 1 .7 1.6.2.5.3.9.5 1.4.3.9.6 1.9.8 2.8.9 3.7 1.4 7.5 1.6 11.2.2 3.8.1 7.4-.3 11.2-.4 3.8-1.2 7.6-2.7 11.3-.8 1.9-1.7 3.7-3 5.4-1.2 1.7-2.7 3.3-4.6 4.7a14.3 14.3 0 01-6.7 2.6c-2.5.3-5.4-.4-7.6-2.2-2.2-1.7-3.5-4.3-3.9-6.7-.1-.6-.2-1.2-.2-1.8v-3.1-1.2c0-3.1-.6-6.3-1.5-9.4-.5-1.5-1.1-3.1-1.7-4.5-.3-.7-.7-1.4-1.1-1.9-.2-.3-.4-.6-.5-.7-.1-.2-.3-.3-.1-.2 0 0 .1.1.2.1l.2.1c.1 0 .3.1.4.1.1 0 .4.1.7.1.5 0 1-.2 1.4-.4.2-.1.5-.3.6-.5.1-.1.3-.3.3-.4.1-.2.1-.2.2-.3l.1-.2v-.1 2.5c.1 1.8.1 3.6.1 5.5 0 3.7-.4 7.5-1 11.2-.3 1.8-.7 3.7-1.2 5.5-.4 1.7-1 3.8-1.9 5.7-.9 1.9-2.2 3.9-4.1 5.4-1.9 1.6-4.5 2.5-6.8 2.6-2.4.1-4.6-.4-6.5-1.1-1-.4-1.9-.8-2.8-1.2-.5-.2-.9-.5-1.3-.7-.5-.3-.8-.5-1.4-.9l3 .4c-1.7.5-3.6 1-5.5.8-1.9-.1-3.7-.5-5.4-1.3-1.6-.8-3.1-1.8-4.4-2.9l-1.8-1.8c-.3-.3-.6-.6-.8-1-.3-.4-.5-.6-.8-1.1l2.9 1.5c-1.9 0-3.8-.2-5.6-.9-1.8-.7-3.4-1.6-4.8-2.7s-2.5-2.4-3.6-3.8c-.5-.7-1-1.4-1.4-2.1-.2-.4-.4-.7-.6-1.1-.2-.4-.4-.7-.6-1.3l3.8 1.9-2.4.5c-.9.1-1.7.2-2.6.2-1.8 0-3.7-.3-5.5-1-1.8-.8-3.5-2.1-4.6-3.7-.6-.8-1-1.6-1.4-2.5-.2-.4-.4-.9-.5-1.3-.1-.5-.3-.8-.4-1.5l.4 1.1c-1-1.7-1.8-3.6-2.4-5.4-.6-1.9-1-3.8-1.3-5.7-.5-3.9-.5-7.7 0-11.5 1-7.5 3.3-14.5 6.4-21.2 3-6.7 6.9-13 11.3-18.8 2.2-2.9 4.6-5.9 7.7-8.4 1.5-1.3 3.2-2.4 5-3.3.9-.4 1.9-.8 2.8-.9 1-.1 1.9-.2 3 0 1.2.2 2 1.5 1.8 2.7-.1.3-.2.6-.3.8h-1z\" />\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n}\n\nexport default BaseBody;\n","import Grid from './Grid';\nimport BaseTail from './BaseTail';\nimport BaseHead from './BaseHead';\nimport BaseBody from './BaseBody';\n\nconst svg = {\n  Grid,\n  Base: {\n    Head: BaseHead,\n    Body: BaseBody,\n    Tail: BaseTail,\n  },\n};\n\nexport default svg;\n","import React from 'react';\n\nimport PROPS from '../../utils/properties/';\nimport DEFAULTS from '../../utils/properties/defaults';\n\nfunction BaseHead({\n  furColor = DEFAULTS.FUR,\n  snoutColor = DEFAULTS.HEAD.SNOUT,\n  noseColor = DEFAULTS.HEAD.NOSE,\n  eyeColor = DEFAULTS.HEAD.EYES,\n}) {\n  const furColorClass = `fur-color-fill-${PROPS.FUR[furColor].id}`;\n  const st2FurClass = `svg-base-head__st2 ${furColorClass}`;\n\n  const snoutColorClass = `snout-color-fill-${PROPS.HEAD.SNOUT[snoutColor].id}`;\n  const snoutClass = `svg-base-head__snout ${snoutColorClass}`;\n\n  const noseColorClass = `nose-color-fill-${PROPS.HEAD.NOSE[noseColor].id}`;\n  const noseClass = `svg-base-head__nose ${noseColorClass}`;\n\n  const eyeColorClass = `eye-color-fill-${PROPS.HEAD.EYES[eyeColor].id}`;\n  const pupilClass = `svg-base-head__pupil ${eyeColorClass}`;\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      overflow=\"visible\"\n      viewBox=\"0 0 1024 1024\"\n      className=\"svg-sprite\"\n    >\n      <g id=\"_x2B_Head_copy\">\n        <g id=\"_x2B_Base_copy\">\n          <g id=\"head_1_\">\n            <path\n              d=\"M396.5 340.4s-17-27.4-49-6.6c-32 20.7-16.4 64.8-16.4 64.8s15.3 47.3 58.5 30.3c43.2-17.1 6.9-88.5 6.9-88.5zM348.1 355.9s38-16.7 35.4 39.2\"\n              className=\"svg-base-head__st1\"\n            />\n            <path\n              d=\"M348.5 354.2c5.2-2.1 10.9-3.1 16.7-2.2 2.9.5 5.8 1.5 8.4 3 2.6 1.6 5 3.7 6.5 6.3 3.2 5.1 4.3 10.9 4.8 16.4.4 5.5.5 11 .2 16.4 0 .6-.8 1-1.7 1-.9 0-1.6-.5-1.6-1.1.2-5.3-.1-10.6-1.2-15.7-1-5.1-2.9-9.9-5.5-13.8-1.3-2-2.8-3.7-4.5-5.3-1.8-1.5-3.9-2.7-6.3-3.2-4.7-1.2-10-.7-14.9.8-.5.2-1.1-.3-1.4-1.1-.2-.5 0-1.3.5-1.5z\"\n              className=\"svg-base-head__st1\"\n            />\n            <g>\n              <path\n                d=\"M373.9 358.6c-25 12.9-12.6 36.5-12.6 36.5M374.3 361.2c-2.7 1.9-5.1 4-7.3 6.2-2.1 2.2-3.7 4.9-4.8 7.7-1.1 2.8-1.6 6-1.7 9.2 0 3.2.7 6.6 2 9.6.1.3-.4.9-1.2 1.3-.8.4-1.6.4-1.8.1-1.6-3.4-2.6-6.8-3.3-10.5-.7-3.7-.6-7.6.5-11.4.5-1.9 1.4-3.7 2.4-5.4 1-1.7 2.2-3.2 3.5-4.7 2.7-2.8 6-4.9 9.4-6.3.6-.2 1.5.5 2 1.7.5 1.1.6 2.2.3 2.5z\"\n                className=\"svg-base-head__st1\"\n              />\n            </g>\n            <path\n              d=\"M732.2 347.3c-10.6-88.8-33.9-202.6-186.4-208.6s-163.9 160.1-158.5 193 4.5 203.1 200.7 203.4c83 .1 166-5.4 144.2-187.8z\"\n              className=\"svg-base-head__st1\"\n            />\n            <g>\n              <path\n                d=\"M727.3 465.5c-17.9-28.4-86.4-38.1-86.4-38.1-139.6-.2-171.3 42.9-178.7 72.2 28.7 21.1 69 35.4 125.8 35.5 58.9.1 117.9-2.7 139.3-69.6z\"\n                className=\"svg-base-head__st1\"\n              />\n              <path\n                d=\"M626.8 425.7s17.4-.6 19.9 4.4-13.6 33.3-21.7 33.3-26.5-29.8-22.9-34.3c3.7-4.5 21.8-3.4 24.7-3.4z\"\n                className=\"svg-base-head__st1\"\n              />\n            </g>\n            <g>\n              <path\n                d=\"M396.5 340.4s-17-27.4-49-6.6c-32 20.7-16.4 64.8-16.4 64.8s15.3 47.3 58.5 30.3c43.2-17.1 6.9-88.5 6.9-88.5z\"\n                className={st2FurClass}\n              />\n              <path d=\"M348.5 354.2c5.2-2.1 10.9-3.1 16.7-2.2 2.9.5 5.8 1.5 8.4 3 2.6 1.6 5 3.7 6.5 6.3 3.2 5.1 4.3 10.9 4.8 16.4.4 5.5.5 11 .2 16.4 0 .6-.8 1-1.7 1-.9 0-1.6-.5-1.6-1.1.2-5.3-.1-10.6-1.2-15.7-1-5.1-2.9-9.9-5.5-13.8-1.3-2-2.8-3.7-4.5-5.3-1.8-1.5-3.9-2.7-6.3-3.2-4.7-1.2-10-.7-14.9.8-.5.2-1.1-.3-1.4-1.1-.2-.5 0-1.3.5-1.5z\" />\n              <path d=\"M374.3 361.2c-2.7 1.9-5.1 4-7.3 6.2-2.1 2.2-3.7 4.9-4.8 7.7-1.1 2.8-1.6 6-1.7 9.2 0 3.2.7 6.6 2 9.6.1.3-.4.9-1.2 1.3-.8.4-1.6.4-1.8.1-1.6-3.4-2.6-6.8-3.3-10.5-.7-3.7-.6-7.6.5-11.4.5-1.9 1.4-3.7 2.4-5.4 1-1.7 2.2-3.2 3.5-4.7 2.7-2.8 6-4.9 9.4-6.3.6-.2 1.5.5 2 1.7.5 1.1.6 2.2.3 2.5z\" />\n              <path\n                d=\"M732.2 347.3c-10.6-88.8-33.9-202.6-186.4-208.6s-163.9 160.1-158.5 193 4.5 203.1 200.7 203.4c83 .1 166-5.4 144.2-187.8z\"\n                className={st2FurClass}\n              />\n              <g>\n                <path\n                  d=\"M727.3 465.5c-17.9-28.4-86.4-38.1-86.4-38.1-139.6-.2-171.3 42.9-178.7 72.2 28.7 21.1 69 35.4 125.8 35.5 58.9.1 117.9-2.7 139.3-69.6z\"\n                  className={snoutClass}\n                />\n                <path\n                  d=\"M626.8 425.7s17.4-.6 19.9 4.4-13.6 33.3-21.7 33.3-26.5-29.8-22.9-34.3c3.7-4.5 21.8-3.4 24.7-3.4z\"\n                  className={noseClass}\n                />\n              </g>\n            </g>\n            <g>\n              <path d=\"M619.8 507c-3.4 1.2-6.9 1.9-10.4 2.4-3.5.4-7.1.7-10.7.5-3.6-.2-7.1-.6-10.6-1.3-3.5-.7-6.9-1.6-10.2-2.9-6.6-2.4-12.9-5.7-18.7-9.7-5.7-4-11.2-8.3-16.2-13.1-.5-.5-.5-1.5.2-2.1.6-.6 1.5-.7 2.1-.2 4.9 4.6 10.4 8.5 16.3 11.8 5.9 3.2 12 6 18.3 7.9 3.1 1 6.3 1.9 9.5 2.5 3.2.7 6.5 1 9.7 1.2 3.3.2 6.5.1 9.8-.1 3.2-.3 6.5-.7 9.7-1.4 1-.2 2.2.7 2.5 1.9.2 1.1-.3 2.3-1.3 2.6z\" />\n            </g>\n            <g>\n              <ellipse cx=\"506.6\" cy=\"364.9\" className=\"svg-base-head__eye\" rx=\"70.6\" ry=\"56.6\" />\n              <circle cx=\"495.3\" cy=\"368.4\" r=\"29.6\" className={pupilClass} />\n              <g>\n                <ellipse cx=\"677.4\" cy=\"364.9\" className=\"svg-base-head__eye\" rx=\"49.7\" ry=\"56.6\" />\n                <circle cx=\"662.7\" cy=\"369.2\" r=\"24.9\" className={pupilClass} />\n              </g>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n}\n\nexport default BaseHead;\n","import React from 'react';\n\nimport PROPS from '../../utils/properties/';\nimport DEFAULTS from '../../utils/properties/defaults';\n\nfunction BaseTail({ furColor = DEFAULTS.FUR }) {\n  const furClass = `fur-color-fill-${PROPS.FUR[furColor].id}`;\n  const borderFurClass = `svg-base-tail__border ${furClass}`;\n  const fillFurClass = `svg-base-tail__fill ${furClass}`;\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      overflow=\"visible\"\n      viewBox=\"0 0 1024 1024\"\n      className=\"svg-sprite\"\n    >\n      <g id=\"_x2B_Tail_copy\">\n        <g id=\"_x2B_Base_copy\">\n          <g id=\"tail_1_\">\n            <path\n              d=\"M571.5 738.2s-82.1 13.6-117.2-129.8S352.8 474 352.8 474s-132.6 76.5-194 0-26.6-193.6 35.6-232.4c143.5-89.5 312-43.7 378 95.7 79.8 169 79.3 310.6-.9 400.9z\"\n              className={borderFurClass}\n            />\n            <path\n              d=\"M193.2 304.5s-25.9 41.1-24.8 62.9c0 0 11.3-15.5 20.2-17.1 0 0-12.1 29.6 3 52.1\"\n              className={fillFurClass}\n            />\n            <path d=\"M194.8 305.5c-2.9 4.8-5.6 9.8-8.1 14.9-2.6 5-5 10.1-7.1 15.3-2.2 5.2-4.1 10.4-5.6 15.7-.7 2.7-1.4 5.3-1.8 8-.4 2.7-.6 5.3-.5 7.8l-5.9-1.8c1.5-1.9 2.9-3.7 4.4-5.4 1.5-1.7 3.2-3.4 4.9-5.1 1.7-1.6 3.6-3.2 5.6-4.6 2.1-1.4 4.3-2.7 7.3-3.3 1.7-.3 3.4.8 3.8 2.5.1.6.1 1.3-.2 1.8v.1c-.4.9-.8 1.9-1.1 2.9-.3 1-.7 2-1 3.1-.6 2.1-1.1 4.2-1.5 6.3-.8 4.3-1.3 8.6-1.3 12.9 0 2.2.1 4.3.4 6.4.2 2.1.6 4.2 1.2 6.3 1.1 4.1 2.8 8.1 5.1 11.7.6 1 .3 2.3-.7 3-1 .6-2.3.3-2.9-.6-2.7-3.9-4.8-8.2-6.2-12.8-.7-2.3-1.2-4.6-1.6-6.9-.4-2.3-.6-4.7-.7-7-.2-4.7.1-9.4.8-14 .4-2.3.8-4.6 1.4-6.9.3-1.1.6-2.3.9-3.4.3-1.2.7-2.2 1.1-3.5l3.6 4.4c-1.5.3-3.2 1.2-4.8 2.3-1.7 1.1-3.3 2.5-4.8 3.9-1.5 1.5-3 3-4.5 4.6-1.4 1.6-2.8 3.3-4.1 5l-.1.1c-1.1 1.4-3.1 1.6-4.5.6-.8-.6-1.2-1.5-1.2-2.4-.1-3.2.3-6.3.9-9.2.6-2.9 1.4-5.8 2.3-8.6 1.8-5.6 4.1-10.9 6.5-16.2 2.4-5.2 5.1-10.3 7.9-15.3 2.8-5 5.7-9.9 8.8-14.8.6-.9 1.8-1.1 2.7-.6.9.7 1.2 1.9.6 2.8z\" />\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n}\n\nexport default BaseTail;\n","import { createGlobalState } from 'react-hooks-global-state';\nimport DEFAULTS from '../utils/properties/defaults';\n\nconst initialState = {\n  furColor: DEFAULTS.FUR,\n  // HEAD\n  snoutColor: DEFAULTS.HEAD.SNOUT,\n  noseColor: DEFAULTS.HEAD.NOSE,\n  eyeColor: DEFAULTS.HEAD.EYES,\n  // BODY\n\n  // TAIL\n};\n\nconst { useGlobalState } = createGlobalState(initialState);\n\nexport default useGlobalState;\n","import React from 'react';\n\n// Components\nimport SVG from './svg';\n\nimport useCharacterState from '../states/useCharacterState';\n\nfunction Character() {\n  const [furColor] = useCharacterState('furColor');\n  const [snoutColor] = useCharacterState('snoutColor');\n  const [noseColor] = useCharacterState('noseColor');\n  const [eyeColor] = useCharacterState('eyeColor');\n\n  return (\n    <div className=\"character\">\n      <SVG.Grid />\n      <SVG.Base.Tail furColor={furColor} />\n      <SVG.Base.Body furColor={furColor} />\n      <SVG.Base.Head\n        furColor={furColor}\n        snoutColor={snoutColor}\n        noseColor={noseColor}\n        eyeColor={eyeColor}\n      />\n    </div>\n  );\n}\n\nexport default Character;\n","import React, { useCallback } from 'react';\n\nimport { Radio } from 'antd';\n\nimport useCharacterState from '../../states/useCharacterState';\n\nimport PROPS from '../../utils/properties/';\nimport DEFAULTS from '../../utils/properties/defaults';\nimport { printProps } from '../../utils';\n\nconst FURS = Object.values(PROPS.FUR);\n\nfunction FurColorSelector() {\n  const [furColor, setFurColor] = useCharacterState('furColor');\n\n  const onChange = useCallback(\n    (e) => {\n      setFurColor(e?.target?.value ?? DEFAULTS.FUR);\n    },\n    [setFurColor]\n  );\n\n  printProps(FURS, 'FUR');\n\n  return (\n    <div className=\"character-option character-option--radios\">\n      <label htmlFor=\"fur\">Fur Color:</label>\n      <Radio.Group onChange={onChange} value={furColor} name=\"fur\">\n        {FURS.map((swatch) => {\n          return (\n            <Radio.Button\n              key={`fur-color-swatch-${swatch.id}`}\n              value={swatch.dna}\n              className=\"color-swatch-radio\"\n              checked={swatch.dna === furColor}\n            >\n              <span\n                className={`color-swatch fur-color-bg-${swatch.id}`}\n                title={`Fur Color ${swatch.name}`}\n              />\n            </Radio.Button>\n          );\n        })}\n      </Radio.Group>\n    </div>\n  );\n}\n\nexport default FurColorSelector;\n","import React, { useCallback } from 'react';\n\nimport { Radio } from 'antd';\n\nimport useCharacterState from '../../states/useCharacterState';\n\nimport PROPS from '../../utils/properties/';\nimport DEFAULTS from '../../utils/properties/defaults';\nimport { printProps } from '../../utils';\n\nconst SNOUTS = Object.values(PROPS.HEAD.SNOUT);\n\nfunction SnoutColorSelector() {\n  const [snoutColor, setSnoutColor] = useCharacterState('snoutColor');\n\n  const onChange = useCallback(\n    (e) => {\n      setSnoutColor(e?.target?.value ?? DEFAULTS.HEAD.SNOUT);\n    },\n    [setSnoutColor]\n  );\n\n  printProps(SNOUTS, 'SNOUTS');\n\n  return (\n    <div className=\"character-option character-option--radios\">\n      <label htmlFor=\"snout\">Snout Color:</label>\n      <Radio.Group onChange={onChange} value={snoutColor} name=\"snout\">\n        {SNOUTS.map((swatch) => {\n          return (\n            <Radio.Button\n              key={`snout-color-swatch-${swatch.id}`}\n              value={swatch.dna}\n              className=\"color-swatch-radio\"\n              checked={swatch.dna === snoutColor}\n            >\n              <span\n                className={`color-swatch snout-color-bg-${swatch.id}`}\n                title={`Snout Color ${swatch.name}`}\n              />\n            </Radio.Button>\n          );\n        })}\n      </Radio.Group>\n    </div>\n  );\n}\n\nexport default SnoutColorSelector;\n","import React, { useCallback } from 'react';\n\nimport { Radio } from 'antd';\n\nimport useCharacterState from '../../states/useCharacterState';\n\nimport PROPS from '../../utils/properties/';\nimport DEFAULTS from '../../utils/properties/defaults';\nimport { printProps } from '../../utils';\n\nconst NOSES = Object.values(PROPS.HEAD.NOSE);\n\nfunction NoseColorSelector() {\n  const [noseColor, setNoseColor] = useCharacterState('noseColor');\n\n  const onChange = useCallback(\n    (e) => {\n      setNoseColor(e?.target?.value ?? DEFAULTS.HEAD.NOSE);\n    },\n    [setNoseColor]\n  );\n\n  printProps(NOSES, 'NOSES');\n\n  return (\n    <div className=\"character-option character-option--radios\">\n      <label htmlFor=\"nose\">Nose Color:</label>\n      <Radio.Group onChange={onChange} value={noseColor} name=\"nose\">\n        {NOSES.map((swatch) => {\n          return (\n            <Radio.Button\n              key={`nose-color-swatch-${swatch.id}`}\n              value={swatch.dna}\n              className=\"color-swatch-radio\"\n              checked={swatch.dna === noseColor}\n            >\n              <span\n                className={`color-swatch nose-color-bg-${swatch.id}`}\n                title={`Nose Color ${swatch.name}`}\n              />\n            </Radio.Button>\n          );\n        })}\n      </Radio.Group>\n    </div>\n  );\n}\n\nexport default NoseColorSelector;\n","import React, { useCallback } from 'react';\n\nimport { Radio } from 'antd';\n\nimport useCharacterState from '../../states/useCharacterState';\n\nimport PROPS from '../../utils/properties/';\nimport DEFAULTS from '../../utils/properties/defaults';\nimport { printProps } from '../../utils';\n\nconst EYES = Object.values(PROPS.HEAD.EYES);\n\nfunction EyeColorSelector() {\n  const [eyeColor, setEyeColor] = useCharacterState('eyeColor');\n\n  const onChange = useCallback(\n    (e) => {\n      setEyeColor(e?.target?.value ?? DEFAULTS.HEAD.EYES);\n    },\n    [setEyeColor]\n  );\n\n  printProps(EYES, 'EYES');\n\n  return (\n    <div className=\"character-option character-option--radios\">\n      <label htmlFor=\"eye\">Eye Color:</label>\n      <Radio.Group onChange={onChange} value={eyeColor} name=\"eye\">\n        {EYES.map((swatch) => {\n          return (\n            <Radio.Button\n              key={`eye-color-swatch-${swatch.id}`}\n              value={swatch.dna}\n              className=\"color-swatch-radio\"\n              checked={swatch.dna === eyeColor}\n            >\n              <span\n                className={`color-swatch eye-color-bg-${swatch.id}`}\n                title={`Eye Color ${swatch.name}`}\n              />\n            </Radio.Button>\n          );\n        })}\n      </Radio.Group>\n    </div>\n  );\n}\n\nexport default EyeColorSelector;\n","import React from 'react';\n\nimport { Collapse } from 'antd';\n\nimport FurColorSelector from './options/FurColorSelector';\nimport SnoutColorSelector from './options/SnoutColorSelector';\nimport NoseColorSelector from './options/NoseColorSelector';\nimport EyeColorSelector from './options/EyeColorSelector';\n\nfunction CharacterOptions() {\n  const callback = (key) => {\n    console.log(key);\n  };\n\n  return (\n    <div className=\"options\">\n      <Collapse defaultActiveKey={['fur']} onChange={callback}>\n        <Collapse.Panel header=\"Fur\" key=\"fur\">\n          <FurColorSelector />\n        </Collapse.Panel>\n        <Collapse.Panel header=\"Face\" key=\"face\">\n          <SnoutColorSelector />\n          <NoseColorSelector />\n          <EyeColorSelector />\n        </Collapse.Panel>\n        <Collapse.Panel header=\"Hair\" key=\"hair\">\n          Something\n        </Collapse.Panel>\n      </Collapse>\n    </div>\n  );\n}\n\nexport default CharacterOptions;\n","import React from 'react';\n\n// Design Resources\nimport { Layout } from 'antd';\n\n// Components\nimport Character from './Character';\nimport CharacterOptions from './CharacterOptions';\n\nfunction Creator() {\n  return (\n    <Layout.Content className=\"container\">\n      <main className=\"main creator\">\n        <h1>Creator</h1>\n        <section className=\"section\">\n          <Character />\n          <CharacterOptions />\n        </section>\n      </main>\n    </Layout.Content>\n  );\n}\n\nexport default Creator;\n","import store from '../services/store';\nimport { DEFAULT_MEMBERS } from '../utils/constants';\nimport { Line, Part, Section, serializeKey, Song } from '../utils/distributor';\nimport { setDistributorGlobalState } from './useDistributorState';\nimport { setGlobalState } from './useGlobalState';\n\nexport const loadSongState = async (songId) => {\n  setDistributorGlobalState('isFullyLoaded', false);\n\n  const song = await store.getRecord('song', songId);\n  const songData = await store.getRecord('song-data', songId);\n\n  const newSong = new Song({ ...song, sectionsIds: songData.sectionsIds });\n\n  // Created instances looping through included data\n  const newSections = {};\n  const newLines = {};\n  const newParts = {};\n  songData.included.forEach((entry) => {\n    if (entry.type === 'section') {\n      const newInstance = new Section(entry);\n      return (newSections[newInstance.id] = newInstance);\n    }\n    if (entry.type === 'line') {\n      const newInstance = new Line(entry);\n      return (newLines[newInstance.id] = newInstance);\n    }\n    if (entry.type === 'part') {\n      const newInstance = new Part(entry);\n      return (newParts[newInstance.id] = newInstance);\n    }\n  });\n\n  setDistributorGlobalState('parts', newParts);\n  setDistributorGlobalState('lines', newLines);\n  setDistributorGlobalState('sections', newSections);\n  setDistributorGlobalState('song', newSong);\n  setDistributorGlobalState('videoId', newSong.videoId);\n  setDistributorGlobalState('step', newSong.isComplete ? '3' : '2');\n  setDistributorGlobalState('isFullyLoaded', true);\n};\n\nexport const loadActiveMembers = async (group, includeDefault = false) => {\n  const members = await store.getCollection('members', true);\n\n  const activeMembers = group.membersIds.reduce((acc, memberId) => {\n    const key = serializeKey('member', memberId);\n    acc[key] = { ...members[key] };\n    return acc;\n  }, {});\n\n  if (includeDefault) {\n    setGlobalState('activeMembers', { ...activeMembers, ...DEFAULT_MEMBERS });\n    return;\n  }\n\n  setGlobalState('activeMembers', { ...activeMembers });\n};\n","import React, { useState, useCallback, useEffect, Fragment } from 'react';\n\n// Design Resources\nimport { Button, Modal, Spin, Table } from 'antd';\n// State\nimport useLoadingState from '../../states/useLoadingState';\nimport useGlobalState from '../../states/useGlobalState';\nimport { loadSongState } from '../../states/functions';\n// Store\nimport store from '../../services/store';\n// Components\nimport LoadingContainer from '../global/LoadingContainer';\nimport { CheckOutlined } from '@ant-design/icons';\n\nfunction LoadSongModal({ buttonLabel = 'Load Song', onBeforeLoad = () => {}, onAfterLoad = () => {} }) {\n  const [isSongLoading] = useLoadingState('isSongLoading');\n\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  return (\n    <Fragment>\n      <Button type=\"primary\" onClick={() => setIsModalVisible(true)} disabled={isSongLoading}>\n        {isSongLoading ? <Spin size=\"small\" /> : buttonLabel}\n      </Button>\n\n      {isModalVisible && (\n        <SongModal\n          isModalVisible={isModalVisible}\n          setIsModalVisible={setIsModalVisible}\n          onBeforeLoad={onBeforeLoad}\n          onAfterLoad={onAfterLoad}\n        />\n      )}\n    </Fragment>\n  );\n}\n\nfunction SongModal({ isModalVisible, setIsModalVisible, onBeforeLoad = () => {}, onAfterLoad = () => {} }) {\n  const [isSongLoading] = useLoadingState('isSongLoading');\n  const [activeGroupSongs] = useGlobalState('activeGroupSongs');\n\n  const [data, setData] = useState([]);\n  const [selectedId, setSelectedId] = useState(null);\n\n  useEffect(() => {\n    async function fetchSongs() {\n      setData(await store.getCollection('songs'));\n    }\n    fetchSongs();\n  }, []);\n\n  const onCancelModal = () => {\n    setIsModalVisible(false);\n  };\n\n  const onLoadSong = useCallback(() => {\n    async function fetchSongData() {\n      onBeforeLoad();\n\n      await loadSongState(selectedId);\n\n      setSelectedId(null);\n      onAfterLoad();\n      setIsModalVisible(false);\n    }\n\n    fetchSongData();\n  }, [selectedId, setIsModalVisible, onBeforeLoad, onAfterLoad]);\n\n  const columns = [\n    {\n      title: 'Title',\n      dataIndex: 'title',\n      render: (title, data) => (data.version ? `${title} (${data.version})` : title),\n    },\n    {\n      title: 'Genre/Style',\n      dataIndex: 'genre',\n      render: (genre, data) => `${genre}/${data.style}`,\n    },\n    {\n      title: 'Duration',\n      dataIndex: 'duration',\n    },\n    {\n      title: 'Done',\n      dataIndex: 'id',\n      render: (id) => (activeGroupSongs[id] ? <CheckOutlined /> : ''),\n    },\n  ];\n\n  const rowSelection = {\n    onChange: (_, selectedRows) => {\n      setSelectedId(selectedRows[0].id);\n    },\n  };\n\n  return (\n    <Modal\n      title=\"Load Song\"\n      visible={isModalVisible}\n      onOk={onLoadSong}\n      okText=\"Load Song\"\n      onCancel={onCancelModal}\n      okButtonProps={{ disabled: isSongLoading || Boolean(!selectedId) }}\n      width={750}\n    >\n      <LoadingContainer waitFor=\"song\">\n        <Table\n          rowSelection={{\n            type: 'radio',\n            ...rowSelection,\n          }}\n          columns={columns}\n          dataSource={data ?? []}\n        />\n      </LoadingContainer>\n    </Modal>\n  );\n}\n\nexport default LoadSongModal;\n","import React from 'react';\nimport YouTube from 'react-youtube';\n\n// State\nimport useDistributorState from '../../states/useDistributorState';\n\nfunction YoutubeVideo({\n  playerRef,\n  height = '180',\n  width = '320',\n  className = '',\n  onStateChange = () => {},\n}) {\n  const [videoId] = useDistributorState('videoId');\n  const [, setIsRecording] = useDistributorState('isRecording');\n  const [, setIsPlaying] = useDistributorState('isPlaying');\n\n  const videoOptions = {\n    height: height ?? '180',\n    width: width ?? '320',\n    playerVars: {\n      // https://developers.google.com/youtube/player_parameters\n      autoplay: 0,\n    },\n  };\n\n  const onReady = (e) => {\n    console.log('onReady', e);\n  };\n\n  const onPlay = (e) => {\n    console.log('onPlay', e);\n    setIsPlaying(true);\n  };\n\n  const onPause = (e) => {\n    console.log('onPause', e);\n    setIsPlaying(false);\n  };\n\n  const onEnd = (e) => {\n    console.log('onEnd', e);\n    setIsRecording(false);\n    setIsPlaying(false);\n  };\n\n  const onPlaybackRateChange = (e) => {\n    console.log('onPlaybackRateChange', e);\n  };\n\n  return (\n    <YouTube\n      videoId={videoId}\n      id={videoId}\n      key={videoId}\n      className=\"video\"\n      containerClassName={className}\n      opts={videoOptions}\n      onReady={onReady}\n      onPlay={onPlay}\n      onPause={onPause}\n      onEnd={onEnd}\n      onStateChange={onStateChange}\n      onPlaybackRateChange={onPlaybackRateChange}\n      // onError={func}                    // defaults -> noop\n      // onPlaybackQualityChange={func}    // defaults -> noop\n      ref={playerRef}\n    />\n  );\n}\n\nexport default YoutubeVideo;\n","import React from 'react';\n\n// Design Resources\nimport { ApiOutlined } from '@ant-design/icons';\n// State\nimport useGlobalState from '../../states/useGlobalState';\n\nfunction LogAssignees({ partId }) {\n  const [lineDistribution] = useGlobalState('lineDistribution');\n  const [activeMembers] = useGlobalState('activeMembers');\n\n  if (!Boolean(lineDistribution?.[partId])) {\n    return <ApiOutlined />;\n  }\n\n  const distributionAssignees = lineDistribution?.[partId] ?? {};\n  const assignedMembers = Object.keys(distributionAssignees).map((memberId) => {\n    return activeMembers[memberId];\n  });\n\n  return (\n    <span className=\"log-assignees__list\">\n      {assignedMembers.map((member) => {\n        return (\n          <span\n            key={`${partId}-${member.id}`}\n            className=\"log-assignees__item\"\n            style={{ backgroundColor: member?.color }}\n          >\n            {member?.name?.[0] ?? <ApiOutlined />}\n          </span>\n        );\n      })}\n    </span>\n  );\n}\n\nexport default LogAssignees;\n","import React, { useCallback, useEffect, useState } from 'react';\n\n// Design Resources\nimport { Button, Checkbox } from 'antd';\nimport { NotificationFilled, CheckCircleOutlined, ApiOutlined } from '@ant-design/icons';\n// State\nimport useDistributorState from '../../states/useDistributorState';\n// Engine and utilities\nimport LogAssignees from './LogAssignees';\n\nfunction LogPartEdit({ part, onShowModal, onCheckboxChange }) {\n  const [selectedTimestamps, setSelectedTimestamps] = useDistributorState('selectedTimestamps');\n  const [unassignedTimestamps, setUnassignedTimestamps] = useDistributorState('unassignedTimestamps');\n  const [selection] = useDistributorState('selection');\n\n  // CSS Classes\n  const baseClass = 'log-part';\n  const assigneeClass = `assignee-background--${part.assignee}`;\n\n  const attachTimestamp = useCallback(() => {\n    const selectedTimestampsCopy = [...selectedTimestamps];\n    const firstTimestamp = selectedTimestampsCopy.shift();\n    part.updateTimestamp(firstTimestamp);\n    // Remove timestamp from options\n    setUnassignedTimestamps((state) => {\n      delete state[firstTimestamp.id];\n      return state;\n    });\n    setSelectedTimestamps(selectedTimestampsCopy);\n  }, [part, selectedTimestamps, setSelectedTimestamps, setUnassignedTimestamps]);\n\n  const checkedIndex = selection.indexOf(part.key);\n\n  return (\n    <li className={`${baseClass} ${assigneeClass}`}>\n      <Checkbox id={part.key} name=\"part\" onChange={onCheckboxChange} checked={checkedIndex !== -1} />\n      <Button\n        type=\"text\"\n        icon={part.isComplete ? <CheckCircleOutlined className=\"icon--green\" /> : <NotificationFilled />}\n        onClick={() => onShowModal(part)}\n        size=\"small\"\n      >\n        {part.text}\n        {Boolean(Object.keys(unassignedTimestamps).length) && checkedIndex !== -1 && (\n          <span className=\"log-part__button-index\">({checkedIndex + 1})</span>\n        )}\n      </Button>\n      {Boolean(selectedTimestamps?.length) && (\n        <Button\n          shape=\"circle\"\n          type=\"default\"\n          size=\"small\"\n          icon={<ApiOutlined />}\n          className=\"log-part__connect-icon\"\n          onClick={attachTimestamp}\n        />\n      )}\n    </li>\n  );\n}\n\nfunction LogPartCompact({ part, seekAndPlay, onCheckboxChange }) {\n  const [selectedTimestamps, setSelectedTimestamps] = useDistributorState('selectedTimestamps');\n  const [unassignedTimestamps, setUnassignedTimestamps] = useDistributorState('unassignedTimestamps');\n  const [selection] = useDistributorState('selection');\n  const [checkedIndex, setCheckedIndex] = useState(-1);\n\n  useEffect(() => {\n    setCheckedIndex(selection.indexOf(part.key));\n  }, [selection, checkedIndex, setCheckedIndex, part.key]);\n\n  // CSS Classes\n  const baseClass = 'log-part';\n  const assigneeClass = `assignee-background--${part.assignee}`;\n\n  const attachTimestamp = useCallback(() => {\n    const selectedTimestampsCopy = [...selectedTimestamps];\n    const firstTimestamp = selectedTimestampsCopy.shift();\n    part.updateTimestamp(firstTimestamp);\n    // Remove timestamp from options\n    setUnassignedTimestamps((state) => {\n      delete state[firstTimestamp.id];\n      return state;\n    });\n    setSelectedTimestamps(selectedTimestampsCopy);\n  }, [part, selectedTimestamps, setSelectedTimestamps, setUnassignedTimestamps]);\n\n  const onPlayPart = useCallback(() => {\n    seekAndPlay(part.startTime / 1000);\n  }, [part.startTime, seekAndPlay]);\n\n  return (\n    <li className={`${baseClass} ${assigneeClass}`}>\n      <Checkbox id={part.key} name=\"part\" onChange={onCheckboxChange} checked={checkedIndex !== -1} />\n      <Button\n        type=\"text\"\n        icon={part.isComplete ? <CheckCircleOutlined className=\"icon--green\" /> : <NotificationFilled />}\n        onClick={onPlayPart}\n        size=\"small\"\n      >\n        {part.text}\n        {Boolean(Object.keys(unassignedTimestamps).length) && checkedIndex !== -1 && (\n          <span className=\"log-part__button-index\">({checkedIndex + 1})</span>\n        )}\n      </Button>\n      {Boolean(selectedTimestamps?.length) && (\n        <Button\n          shape=\"circle\"\n          type=\"default\"\n          size=\"small\"\n          icon={<ApiOutlined />}\n          className=\"log-part__connect-icon\"\n          onClick={attachTimestamp}\n        />\n      )}\n    </li>\n  );\n}\n\nfunction LogPartDistribute({ part, assignMembers }) {\n  return (\n    <li className=\"log-part assignee-background--none\">\n      <Button\n        type=\"text\"\n        onClick={() => assignMembers(part.id)}\n        size=\"small\"\n        className=\"log-part__distribute\"\n      >\n        {part.text}\n        <LogAssignees partId={part.id} />\n      </Button>\n    </li>\n  );\n}\n\nconst LogPart = {\n  Compact: LogPartCompact, // identical except for click action\n  Distribute: LogPartDistribute, // identical except for click action\n  Edit: LogPartEdit,\n};\n\nexport default LogPart;\n","import React from 'react';\n\n// Design Resources\nimport { Button, Checkbox, Tooltip } from 'antd';\nimport {\n  MessageFilled,\n  CheckCircleOutlined,\n  PlusOutlined,\n  ColumnWidthOutlined,\n  DoubleRightOutlined,\n} from '@ant-design/icons';\n// State\nimport useDistributorState from '../../states/useDistributorState';\nimport useGlobalState from '../../states/useGlobalState';\n// Engine and utilities\nimport { Part } from '../../utils/distributor';\nimport { bemClass, getBemModifier } from '../../utils';\n// Components\nimport LogPart from './LogPart';\n\nfunction LogLineEdit({ line, onCheckboxChange, onShowModal }) {\n  const [parts] = useDistributorState('parts');\n  const [selection] = useDistributorState('selection');\n\n  // CSS Classes\n  const isLineChecked = selection.includes(line.key);\n  const baseClass = 'log-line';\n  const checkedClass = getBemModifier(isLineChecked, 'checked');\n\n  const onAddNewPart = (line) => {\n    const newPart = new Part({ lineId: line.id, text: '[missing lyrics]' });\n    line.addPart(newPart);\n  };\n\n  return (\n    <li className={bemClass(baseClass, checkedClass)}>\n      <div className=\"log-line__title\">\n        <Checkbox id={line.key} name=\"line\" onChange={onCheckboxChange} checked={isLineChecked} />\n        <Tooltip title=\"Open Line Options\">\n          <Button\n            type=\"text\"\n            icon={line.isComplete ? <CheckCircleOutlined className=\"icon--green\" /> : <MessageFilled />}\n            className=\"log-line__line-button\"\n            onClick={() => onShowModal(line)}\n          >\n            <span\n              className={bemClass('log-line__title-text', getBemModifier(line.isDismissible, 'dismissed'))}\n            >\n              {line.text}\n            </span>\n          </Button>\n        </Tooltip>\n        <div className=\"log-line__actions\">\n          <Tooltip title=\"Add new part to this line\">\n            <Button\n              shape=\"circle\"\n              type=\"default\"\n              size=\"small\"\n              icon={<PlusOutlined />}\n              className=\"log-line__icon-button\"\n              onClick={() => onAddNewPart(line)}\n            />\n          </Tooltip>\n\n          <Tooltip title=\"Nudge Line\">\n            <Button\n              shape=\"circle\"\n              type=\"default\"\n              size=\"small\"\n              icon={<ColumnWidthOutlined />}\n              className=\"log-line__icon-button\"\n              disabled\n              onClick={() => {}}\n            />\n          </Tooltip>\n        </div>\n      </div>\n\n      <ul className=\"log__parts\">\n        {line?.partsIds?.map((partId) => {\n          const part = parts[partId];\n          return (\n            <LogPart.Edit\n              key={part.key}\n              part={part}\n              onCheckboxChange={onCheckboxChange}\n              onShowModal={onShowModal}\n            />\n          );\n        })}\n      </ul>\n    </li>\n  );\n}\n\nfunction LogLineCompact({ line, onCheckboxChange, seekAndPlay }) {\n  const [parts] = useDistributorState('parts');\n\n  return (\n    <li className={bemClass('log-line', 'compact')}>\n      <ul className={bemClass('log__parts', 'compact')}>\n        {line?.partsIds?.map((partId) => {\n          const part = parts[partId];\n          return (\n            <LogPart.Compact\n              key={part.key}\n              part={part}\n              onCheckboxChange={onCheckboxChange}\n              seekAndPlay={seekAndPlay}\n            />\n          );\n        })}\n      </ul>\n    </li>\n  );\n}\n\nfunction LogLineDistribute({ line, assignMembers, onLineSelection }) {\n  const [parts] = useDistributorState('parts');\n  const [lineDistribution] = useGlobalState('lineDistribution');\n\n  const isComplete = line?.partsIds?.every((partId) => Boolean(lineDistribution[partId]));\n\n  return (\n    <li className={bemClass('log-line', 'compact')}>\n      <ul className={bemClass('log__parts', 'compact')}>\n        {!isComplete && (\n          <Button\n            type=\"default\"\n            size=\"small\"\n            icon={<DoubleRightOutlined />}\n            className=\"log-line__icon-button\"\n            onClick={() => onLineSelection(line)}\n          />\n        )}\n        {line?.partsIds?.map((partId) => {\n          const part = parts[partId];\n          return <LogPart.Distribute key={part.key} part={part} assignMembers={assignMembers} />;\n        })}\n      </ul>\n    </li>\n  );\n}\n\nconst LogLine = {\n  Compact: LogLineCompact,\n  Distribute: LogLineDistribute,\n  Edit: LogLineEdit,\n};\n\nexport default LogLine;\n","import React, { useCallback } from 'react';\n\n// Design Resources\nimport { Button, Checkbox, Tooltip } from 'antd';\nimport {\n  DatabaseFilled,\n  CheckCircleOutlined,\n  PlusOutlined,\n  ColumnWidthOutlined,\n  PlayCircleOutlined,\n  OrderedListOutlined,\n} from '@ant-design/icons';\n// State\nimport useDistributorState from '../../states/useDistributorState';\n\n// Engine and utilities\nimport { Line } from '../../utils/distributor';\nimport { bemClass, getBemModifier } from '../../utils';\n// Components\nimport LogLine from './LogLine';\n\nfunction LogSectionEdit({ section, onCheckboxChange, onShowModal, onListSelection, seekAndPlay }) {\n  const [lines] = useDistributorState('lines');\n  const [selection] = useDistributorState('selection');\n\n  // CSS Classes\n  const isSectionChecked = selection.includes(section.key);\n  const baseClass = 'log-section';\n  const checkedClass = getBemModifier(isSectionChecked, 'checked');\n\n  // Methods\n  const onAddNewLine = useCallback(() => {\n    const newLine = new Line({ sectionId: section.id });\n    section.addLine(newLine);\n  }, [section]);\n\n  const onPlaySection = useCallback(() => {\n    seekAndPlay(section.startTime / 1000);\n  }, [section.startTime, seekAndPlay]);\n\n  return (\n    <li className={bemClass(baseClass, checkedClass)}>\n      <div className=\"log-section__title\">\n        <Checkbox id={section.key} name=\"section\" onChange={onCheckboxChange} checked={isSectionChecked} />\n        <Button\n          type=\"default\"\n          shape=\"round\"\n          icon={section.isComplete ? <CheckCircleOutlined className=\"icon--green\" /> : <DatabaseFilled />}\n          className=\"log-section__title-button\"\n          onClick={() => onShowModal(section)}\n        >\n          Section {section.kind}\n        </Button>\n        {Boolean(seekAndPlay) && (\n          <Tooltip title=\"Play song from here\">\n            <Button\n              shape=\"circle\"\n              type=\"default\"\n              size=\"small\"\n              icon={<PlayCircleOutlined />}\n              className=\"log-section__icon-button\"\n              onClick={onPlaySection}\n            />\n          </Tooltip>\n        )}\n        {Boolean(onListSelection) && (\n          <Tooltip title=\"Select parts on this section in sequence\">\n            <Button\n              shape=\"circle\"\n              type=\"default\"\n              size=\"small\"\n              icon={<OrderedListOutlined />}\n              className=\"log-section__icon-button\"\n              onClick={() => onListSelection(section)}\n            />\n          </Tooltip>\n        )}\n        <div className=\"log-section__actions\">\n          <Tooltip title=\"Add new line to this section\">\n            <Button\n              shape=\"circle\"\n              type=\"default\"\n              size=\"small\"\n              icon={<PlusOutlined />}\n              className=\"log-section__icon-button\"\n              onClick={onAddNewLine}\n            />\n          </Tooltip>\n          <Tooltip title=\"Nudge Section\">\n            <Button\n              shape=\"circle\"\n              type=\"default\"\n              size=\"small\"\n              icon={<ColumnWidthOutlined />}\n              className=\"log-section__icon-button\"\n              disabled\n              onClick={() => {}}\n            />\n          </Tooltip>\n        </div>\n      </div>\n\n      <ul className=\"log__lines\">\n        {section.linesIds.map((lineId) => {\n          const line = lines[lineId];\n          return (\n            <LogLine.Edit\n              key={line.key}\n              line={line}\n              onCheckboxChange={onCheckboxChange}\n              onShowModal={onShowModal}\n            />\n          );\n        })}\n      </ul>\n    </li>\n  );\n}\n\nfunction LogSectionCompact({ section, onCheckboxChange, onListSelection, seekAndPlay }) {\n  const [lines] = useDistributorState('lines');\n\n  const onPlaySection = useCallback(() => {\n    seekAndPlay(section.startTime / 1000);\n  }, [section.startTime, seekAndPlay]);\n\n  return (\n    <li className={bemClass('log-section', 'compact')}>\n      <Button\n        shape=\"circle\"\n        type=\"default\"\n        size=\"small\"\n        icon={<PlayCircleOutlined />}\n        className=\"log-section__icon-button\"\n        onClick={onPlaySection}\n        disabled={!Boolean(section.startTime)}\n      />\n      <Button\n        shape=\"circle\"\n        type=\"default\"\n        size=\"small\"\n        icon={<OrderedListOutlined />}\n        className=\"log-section__icon-button\"\n        onClick={() => onListSelection(section)}\n      />\n\n      <ul className={bemClass('log__lines', 'compact')}>\n        {section.linesIds.map((lineId) => {\n          const line = lines[lineId];\n          return (\n            <LogLine.Compact\n              key={line.key}\n              line={line}\n              section={section}\n              onCheckboxChange={onCheckboxChange}\n              seekAndPlay={seekAndPlay}\n            />\n          );\n        })}\n      </ul>\n    </li>\n  );\n}\n\nfunction LogSectionDistribute({ section, seekAndPlay, assignMembers, onLineSelection }) {\n  const [lines] = useDistributorState('lines');\n\n  const onPlaySection = useCallback(() => {\n    seekAndPlay(section.startTime / 1000);\n  }, [section.startTime, seekAndPlay]);\n\n  return (\n    <li className={bemClass('log-section', 'compact')}>\n      <Button\n        shape=\"circle\"\n        type=\"default\"\n        size=\"small\"\n        icon={<PlayCircleOutlined />}\n        className=\"log-section__icon-button\"\n        onClick={onPlaySection}\n      />\n\n      <ul className={bemClass('log__lines', 'compact')}>\n        {section.linesIds.map((lineId) => {\n          const line = lines[lineId];\n          return (\n            <LogLine.Distribute\n              key={line.key}\n              line={line}\n              assignMembers={assignMembers}\n              onLineSelection={onLineSelection}\n            />\n          );\n        })}\n      </ul>\n    </li>\n  );\n}\n\nconst LogSection = {\n  Compact: LogSectionCompact,\n  Distribute: LogSectionDistribute,\n  Edit: LogSectionEdit,\n};\n\nexport default LogSection;\n","import React, { useState, useCallback } from 'react';\n\n// Design Resources\nimport { Button, Switch } from 'antd';\n\n// State\nimport useDistributorState from '../../states/useDistributorState';\n\n// Engine and utilities\nimport {\n  deserializeKey,\n  getDuplicatedData,\n  batchDeserializeInstancesSameData,\n  serializeKey,\n} from '../../utils/distributor';\nimport { bemClassConditionalModifier } from '../../utils';\n// Components\nimport LogSection from './LogSection';\n\nfunction Log({\n  seekAndPlay,\n  className = '',\n  defaultCompactSetting = true,\n  locked = false,\n  assignMembers = () => {},\n}) {\n  const [song] = useDistributorState('song');\n  const [sections] = useDistributorState('sections');\n  const [lines] = useDistributorState('lines');\n  const [parts] = useDistributorState('parts');\n  const [, setActiveInstance] = useDistributorState('activeInstance');\n  const [selection, setSelection] = useDistributorState('selection');\n  const [isCompact, setIsCompact] = useState(defaultCompactSetting);\n\n  const onSwitchLogView = (checked) => {\n    setIsCompact(checked);\n  };\n\n  const handleEditAll = useCallback(() => {\n    const [type] = deserializeKey(selection[0]);\n\n    let instance = {\n      id: `SELECTION-${selection.length}`,\n      type,\n      deserialize(data) {\n        const dict = {\n          line: lines,\n          section: sections,\n          part: parts,\n        }[type];\n        batchDeserializeInstancesSameData(dict, selection, data, true);\n        setSelection([]);\n      },\n    };\n    if (type === 'section') {\n      const equalParts = getDuplicatedData(sections, selection, true);\n\n      instance = {\n        ...instance,\n        name: `SELECTION-${selection.length}`,\n        linesIds: [],\n        ...equalParts,\n      };\n    }\n    if (type === 'line') {\n      const equalParts = getDuplicatedData(lines, selection, true);\n      instance = {\n        ...instance,\n        partsIds: [],\n        ...equalParts,\n      };\n    }\n\n    setActiveInstance(instance);\n  }, [parts, lines, sections, selection, setActiveInstance, setSelection]);\n\n  const handleDeselectAll = () => {\n    setSelection([]);\n  };\n\n  const onShowModal = useCallback(\n    (instance) => {\n      setActiveInstance(instance);\n      if (instance.type === 'part' && seekAndPlay) {\n        seekAndPlay(instance.startTime / 1000);\n      }\n    },\n    [seekAndPlay, setActiveInstance]\n  );\n\n  const onCheckboxChange = useCallback(\n    (e) => {\n      const { name, id, checked } = e.target;\n\n      if (checked) {\n        setSelection((state) => {\n          if (state.length && state[0].startsWith(name)) {\n            return [...state, id];\n          }\n\n          return [id];\n        });\n      } else {\n        setSelection((state) => {\n          if (state.length && state[0].startsWith(name)) {\n            return state.filter((i) => i !== id);\n          }\n\n          return [];\n        });\n      }\n    },\n    [setSelection]\n  );\n\n  const onListSelection = useCallback(\n    (section) => {\n      const partKeys = (section.partsIds ?? []).map((partId) => serializeKey('part', partId));\n      setSelection((state) => {\n        if (state[0] === partKeys[0]) {\n          return [];\n        } else {\n          return partKeys;\n        }\n      });\n    },\n    [setSelection]\n  );\n\n  const onLineSelection = useCallback(\n    (line) => {\n      line.partsIds.forEach((partId) => {\n        assignMembers(partId);\n      });\n    },\n    [assignMembers]\n  );\n\n  return (\n    <div className={`${bemClassConditionalModifier('log', 'compact', isCompact)} ${className}`}>\n      {!locked && (\n        <div className=\"log__editing-actions\">\n          <Button type=\"link\" size=\"small\" onClick={handleEditAll} disabled={!Boolean(selection?.length)}>\n            Edit Selected Instances\n          </Button>\n          <Button type=\"link\" size=\"small\" onClick={handleDeselectAll} disabled={!Boolean(selection?.length)}>\n            Deselect Selected Instances\n          </Button>\n          <div>\n            Compact View <Switch defaultChecked={isCompact} onChange={onSwitchLogView} size=\"small\" />\n          </div>\n        </div>\n      )}\n\n      <ul className={bemClassConditionalModifier('log__sections', 'compact', isCompact)}>\n        {song?.sectionsIds?.map((sectionId) => {\n          const section = sections[sectionId];\n\n          if (locked) {\n            return (\n              <LogSection.Distribute\n                key={section.key}\n                section={section}\n                seekAndPlay={seekAndPlay}\n                assignMembers={assignMembers}\n                onLineSelection={onLineSelection}\n              />\n            );\n          }\n\n          if (isCompact) {\n            return (\n              <LogSection.Compact\n                key={section.key}\n                section={section}\n                onCheckboxChange={onCheckboxChange}\n                onListSelection={onListSelection}\n                seekAndPlay={seekAndPlay}\n              />\n            );\n          }\n\n          return (\n            <LogSection.Edit\n              key={section.key}\n              section={section}\n              onCheckboxChange={onCheckboxChange}\n              onListSelection={onListSelection}\n              onShowModal={onShowModal}\n              seekAndPlay={seekAndPlay}\n            />\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n\nexport default Log;\n","import React from 'react';\nimport { Avatar as AntAvatar, Image } from 'antd';\n\nfunction Avatar({ name, className, color, size = 'default' }) {\n  const urlPrefix = `${process.env.PUBLIC_URL}/images/members/`;\n  return (\n    <AntAvatar\n      size={size}\n      style={color && { border: `2px solid ${color}` }}\n      src={\n        <Image\n          src={`${urlPrefix}${name.toLowerCase()}.jpg`}\n          fallback={`${urlPrefix}none.jpg`}\n          alt={name}\n          className={className}\n        />\n      }\n    />\n  );\n}\n\nexport default Avatar;\n","import React, { Fragment } from 'react';\n\n// Design Resources\nimport { Badge, Tag, Tooltip } from 'antd';\n\n// Components\nimport Avatar from './Avatar';\n\nfunction Member({\n  member,\n  className = '',\n  showName = false,\n  showPosition = false,\n  progress,\n  count,\n  showProgressNumber = false,\n}) {\n  return (\n    <li className={`member ${className}`}>\n      <Badge count={count}>\n        <Avatar\n          name={member.name}\n          className=\"member-avatar\"\n          style={{ borderColor: member.color ?? 'black' }}\n        />\n      </Badge>\n      <span className=\"member-info\">\n        {showName && <span className=\"member-name\">{member.name}</span>}\n        {showPosition && <span className=\"member__separator\"></span>}\n        {showPosition && (\n          <span className=\"member-position\">\n            <Tag>{member.positions[0]}</Tag>\n          </span>\n        )}\n      </span>\n      {progress !== undefined && progress !== null && (\n        <Fragment>\n          <Tooltip title={`${progress}%`}>\n            <span className=\"member-progress\">\n              <span\n                className=\"member-progress-bar\"\n                style={{ width: `${progress}%`, backgroundColor: member.color ?? 'white' }}\n              ></span>\n            </span>\n          </Tooltip>\n          {showProgressNumber && <span className=\"member-progress-number\">{progress || 0}%</span>}\n        </Fragment>\n      )}\n    </li>\n  );\n}\n\nexport default Member;\n","import React, { useState, useEffect, useRef, Fragment } from 'react';\nimport { useHistory } from 'react-router-dom';\n\n// Design Resources\nimport { Button, Divider, Layout, Progress, Spin, Switch, Select, Input } from 'antd';\n// State\nimport useGlobalState from '../states/useGlobalState';\nimport useLoadingState from '../states/useLoadingState';\nimport useDistributorState from '../states/useDistributorState';\nimport { loadSongState } from '../states/functions';\n// Store\nimport store from '../services/store';\n// API\nimport API from '../api';\n// Utilities\nimport { serializeKey } from '../utils/distributor';\nimport { bemClassConditionalModifier } from '../utils';\nimport { DEFAULT_MEMBERS, DISTRIBUTION_NAME } from '../utils/constants';\n// Components\nimport LoadSongModal from './modals/LoadSongModal';\nimport YoutubeVideo from './distributor/YoutubeVideo';\nimport Log from './log/Log';\nimport Member from './Member';\n\nfunction Distribute() {\n  const history = useHistory();\n  const [isLoading] = useLoadingState('isLoading');\n  const [activeGroup] = useGlobalState('activeGroup');\n  const [activeMembers, setActiveMembers] = useGlobalState('activeMembers');\n  const [song] = useDistributorState('song');\n  const [isFullyLoaded] = useDistributorState('isFullyLoaded');\n  const [loadedLineDistribution, setLoadedDistribution] = useGlobalState('loadedLineDistribution');\n  const [lineDistribution, setLineDistribution] = useGlobalState('lineDistribution');\n  const [parts] = useDistributorState('parts');\n  const [stats, setStats] = useGlobalState('stats');\n\n  const [distributionName, setDistributionName] = useState(loadedLineDistribution?.name || 'ORIGINAL');\n\n  // Run on mount\n  useEffect(() => {\n    // Redirect if there is no active group\n    if (!activeGroup) {\n      history.push('/groups');\n    }\n\n    // Load members\n    async function loadMembers() {\n      const members = await store.getCollection('members', true);\n      setActiveMembers({ ...members, ...DEFAULT_MEMBERS });\n    }\n    loadMembers();\n  }, []);\n\n  // Load line distribution if one exists\n  useEffect(() => {\n    async function loadContent() {\n      await loadSongState(loadedLineDistribution.songId);\n    }\n\n    if (loadedLineDistribution?.id) {\n      loadContent();\n    }\n  }, [loadedLineDistribution?.id, loadedLineDistribution?.songId]);\n\n  if (!activeGroup) {\n    return <Spin size=\"large\" />;\n  }\n\n  const resetDistribution = () => {\n    setLineDistribution({});\n    setStats({});\n    setDistributionName('');\n  };\n\n  const updateName = (distributionName) => {\n    setDistributionName(distributionName);\n  };\n\n  const saveDistribution = async (values) => {\n    try {\n      const response = await API.saveDistribution({\n        id: loadedLineDistribution?.id ?? null,\n        type: 'distribution',\n        name: distributionName || loadedLineDistribution.name || 'original',\n        songId: song.id,\n        songTitle: song.title,\n        groupId: activeGroup.id,\n        assignedParts: lineDistribution,\n        stats,\n      });\n\n      setLoadedDistribution(response);\n      history.push('/groups');\n    } catch (_) {}\n  };\n\n  const distributionCompletion = Math.floor(\n    (100 * Object.keys(lineDistribution ?? {}).length) / Object.keys(parts ?? {}).length\n  );\n\n  return (\n    <Layout.Content className=\"container\">\n      <main className=\"main distribute\">\n        <h1>Distribute{song ? `: ${song.title}` : ''}</h1>\n        <div className=\"distribute__actions\">\n          <LoadSongModal onBeforeLoad={resetDistribution} />\n        </div>\n\n        {isFullyLoaded && (\n          <Fragment>\n            <DistributeWidget\n              members={activeMembers}\n              distributionCompletion={distributionCompletion}\n              resetDistribution={resetDistribution}\n            />\n\n            <div className=\"distribute__actions\">\n              <Select\n                defaultValue={DISTRIBUTION_NAME.ORIGINAL}\n                onChange={updateName}\n                disabled={isLoading}\n                className=\"distribute__actions-input\"\n              >\n                {Object.entries(DISTRIBUTION_NAME).map(([distValue, distText]) => (\n                  <Select.Option key={distValue} value={distValue}>\n                    {distText}\n                  </Select.Option>\n                ))}\n              </Select>\n              <Button\n                type=\"primary\"\n                onClick={saveDistribution}\n                disabled={isLoading || distributionCompletion < 100}\n              >\n                {loadedLineDistribution?.id ? 'Update' : 'Save'} Distribution\n              </Button>\n            </div>\n          </Fragment>\n        )}\n      </main>\n    </Layout.Content>\n  );\n}\n\nfunction DistributeWidget({ members, distributionCompletion, resetDistribution }) {\n  const [isLoading] = useLoadingState('isLoading');\n  const [activeGroup] = useGlobalState('activeGroup');\n  const [lineDistribution, setLineDistribution] = useGlobalState('lineDistribution');\n  const [parts] = useDistributorState('parts');\n  const [stats, setStats] = useGlobalState('stats');\n\n  const [selectedMember, setSelectedMember] = useState('member::ALL');\n  const [isAbsoluteProgress, setAbsoluteProgress] = useState(false);\n  const [progressType, setProgressType] = useState('');\n\n  const playerRef = useRef();\n\n  useEffect(() => {\n    let total = 0;\n    let totalAll = 0;\n    let totalAllNone = 0;\n    let max = 0;\n    let maxAll = 0;\n    let maxAllNone = 0;\n    const newStats = {};\n    // Calculate progress, max, counts\n    Object.entries(lineDistribution).forEach(([partId, memberKeysObj]) => {\n      const part = parts[partId];\n      if (!part) {\n        console.warn('Part was previously deleted from song');\n        return;\n      }\n      const partDuration = part.duration ?? 0;\n      const membersKeys = Object.keys(memberKeysObj);\n\n      if (membersKeys.length === 1 && memberKeysObj['member::NONE']) {\n        totalAllNone += partDuration;\n      } else if (membersKeys.length === 1 && memberKeysObj['member::ALL']) {\n        totalAllNone += partDuration;\n        totalAll += partDuration;\n      } else {\n        totalAllNone += partDuration;\n        totalAll += partDuration;\n        total += partDuration;\n      }\n\n      // Calculate progress and count\n      membersKeys.forEach((memberKey) => {\n        if (newStats[memberKey] === undefined) {\n          newStats[memberKey] = {\n            count: 0,\n            total: 0,\n            totalAll: 0,\n            totalAllNone: 0,\n            relativeProgress: 0,\n            relativeProgressAll: 0,\n            relativeProgressAllNone: 0,\n            absoluteProgress: 0,\n            absoluteProgressAll: 0,\n            absoluteProgressAllNone: 0,\n            lines: [],\n          };\n        }\n        // Add member count (only new lines)\n        if (!newStats[memberKey].lines.includes(part.lineId)) {\n          newStats[memberKey].count += 1;\n          newStats[memberKey].lines.push(part.lineId);\n        }\n        // Add member total\n        newStats[memberKey].total += partDuration;\n        newStats[memberKey].totalAll += partDuration;\n        newStats[memberKey].totalAllNone += partDuration;\n        // Recalculate max\n        if (memberKey === 'member::NONE') {\n          maxAllNone =\n            newStats[memberKey].totalAllNone > maxAllNone ? newStats[memberKey].totalAllNone : maxAllNone;\n        } else if (memberKey === 'member::ALL') {\n          maxAllNone =\n            newStats[memberKey].totalAllNone > maxAllNone ? newStats[memberKey].totalAllNone : maxAllNone;\n          maxAll = newStats[memberKey].totalAll > maxAll ? newStats[memberKey].totalAll : maxAll;\n        } else {\n          maxAllNone =\n            newStats[memberKey].totalAllNone > maxAllNone ? newStats[memberKey].totalAllNone : maxAllNone;\n          maxAll = newStats[memberKey].totalAll > maxAll ? newStats[memberKey].totalAll : maxAll;\n          max = newStats[memberKey].total > max ? newStats[memberKey].total : max;\n        }\n      });\n    });\n    // Calculate member progress\n    Object.keys(newStats).forEach((key) => {\n      newStats[key].relativeProgress = Math.round((100 * newStats[key].total) / max);\n      newStats[key].relativeProgressAll = Math.round((100 * newStats[key].totalAll) / maxAll);\n      newStats[key].relativeProgressAllNone = Math.round((100 * newStats[key].totalAllNone) / maxAllNone);\n      newStats[key].absoluteProgress = Math.round((100 * newStats[key].total) / total);\n      newStats[key].absoluteProgressAll = Math.round((100 * newStats[key].totalAll) / totalAll);\n      newStats[key].absoluteProgressAllNone = Math.round((100 * newStats[key].totalAllNone) / totalAllNone);\n    });\n\n    setStats(newStats);\n  }, [lineDistribution, parts, setStats]);\n\n  const seekAndPlay = (timestamp) => {\n    playerRef?.current?.internalPlayer?.seekTo(timestamp);\n    playerRef?.current?.internalPlayer?.playVideo();\n  };\n\n  const toggleMember = (memberKey) => {\n    setSelectedMember((state) => (state === memberKey ? 'member::ALL' : memberKey));\n  };\n\n  const assignMembers = (partId) => {\n    setLineDistribution((state) => {\n      const part = { ...state[partId] };\n      if (part[selectedMember]) {\n        delete part[selectedMember];\n      } else {\n        part[selectedMember] = true;\n      }\n\n      if (!Object.keys(part).length) {\n        const result = { ...state };\n        delete result[partId];\n        return result;\n      }\n      return { ...state, [partId]: part };\n    });\n  };\n\n  const onProgressTypeChange = (key) => {\n    setProgressType(key);\n  };\n\n  return (\n    <div className=\"distribute__container\">\n      <div className=\"distribute-options\">\n        <YoutubeVideo playerRef={playerRef} width=\"320\" height=\"180\" className=\"distribute-options__video\" />\n        <div className=\"distribute__controls\">\n          <div>\n            Progress Bar Type{' '}\n            <Select defaultValue=\"\" onChange={onProgressTypeChange}>\n              <Select.Option value=\"\">Members only</Select.Option>\n              <Select.Option value=\"All\">Include ALL lines</Select.Option>\n              <Select.Option value=\"AllNone\">Include All and None lines</Select.Option>\n            </Select>\n          </div>\n          <div>\n            Absolute Progress{' '}\n            <Switch\n              defaultChecked={isAbsoluteProgress}\n              onChange={(checked) => setAbsoluteProgress(checked)}\n              size=\"small\"\n            />\n          </div>\n        </div>\n        <ul className=\"members-selection\">\n          {Object.values(DEFAULT_MEMBERS).map((member) => {\n            const memberStats = stats?.[member.key] ?? {};\n            const progress = isAbsoluteProgress\n              ? memberStats?.[`absoluteProgress${progressType}`]\n              : memberStats?.[`relativeProgress${progressType}`];\n            return (\n              <MemberSelection\n                key={`member-selection-${member.key}`}\n                member={member}\n                selectedMember={selectedMember}\n                toggleMember={toggleMember}\n                progress={progress}\n              />\n            );\n          })}\n          <Divider />\n          {activeGroup.membersIds &&\n            members &&\n            activeGroup.membersIds.map((memberId) => {\n              const member = members[serializeKey('member', memberId)] ?? {};\n              const memberStats = stats?.[member.key] ?? {};\n              const progress = isAbsoluteProgress\n                ? memberStats?.[`absoluteProgress${progressType}`]\n                : memberStats?.[`relativeProgress${progressType}`];\n              return (\n                <MemberSelection\n                  key={`member-selection-${member.key}`}\n                  member={member}\n                  selectedMember={selectedMember}\n                  toggleMember={toggleMember}\n                  progress={progress}\n                  count={stats?.[member.key]?.count}\n                />\n              );\n            })}\n        </ul>\n        <Divider />\n        <Progress percent={distributionCompletion} className=\"distribute__line-distribution-completion\" />\n        <div className=\"distribute__controls\">\n          <Button type=\"default\" onClick={resetDistribution} disabled={isLoading}>\n            Reset Distribution\n          </Button>\n        </div>\n      </div>\n      <Log\n        seekAndPlay={seekAndPlay}\n        className=\"distribute-log\"\n        defaultCompactSetting\n        locked\n        assignMembers={assignMembers}\n      />\n    </div>\n  );\n}\n\nfunction MemberSelection({ member, selectedMember, toggleMember, progress = 0, count = 0 }) {\n  return (\n    <Button\n      key={`button-${member.id}`}\n      type=\"text\"\n      className={bemClassConditionalModifier(\n        'distribute-member-button',\n        'selected',\n        selectedMember === member.key\n      )}\n      onClick={() => toggleMember(member.key)}\n    >\n      <Member\n        member={member}\n        showName\n        showPosition\n        isSelected\n        progress={progress}\n        count={count}\n        className=\"member-component\"\n        showProgressNumber\n      />\n    </Button>\n  );\n}\n\nexport default Distribute;\n","import React from 'react';\n\n// Design Resources\nimport { Steps } from 'antd';\n// Components\nconst { Step } = Steps;\n\nfunction StepperProgress({ currentStep }) {\n  return (\n    <Steps progressDot current={Number(currentStep)} className=\"stepper-progress\">\n      <Step title=\"Load Song\" />\n      <Step title=\"Lyrics & Sections\" />\n      <Step title=\"Time & Sync\" />\n      <Step title=\"Preview\" />\n      <Step title=\"Song Metadata\" />\n      <Step title=\"Save\" />\n    </Steps>\n  );\n}\n\nexport default StepperProgress;\n","import React, { useCallback } from 'react';\n\n// Design Resources\nimport { Input } from 'antd';\n// State\nimport useDistributorState from '../../states/useDistributorState';\n// Engine and utilities\nimport { Song } from '../../utils/distributor';\n// Components\nimport LoadSongModal from '../modals/LoadSongModal';\n\nfunction LoadSong() {\n  const [, setSong] = useDistributorState('song');\n  const [, setStep] = useDistributorState('step');\n  const [videoId, setVideoId] = useDistributorState('videoId');\n\n  const onAddVideoId = useCallback(\n    (event) => {\n      const { value } = event.target;\n      setVideoId(value);\n      setSong(new Song({ videoId: value }));\n      setStep('1');\n    },\n    [setSong, setStep, setVideoId]\n  );\n\n  return (\n    <div className=\"load-song\">\n      <h2 className=\"load-song__title\">Load Song</h2>\n      <Input\n        addonBefore=\"https://www.youtube.com/watch?v=\"\n        defaultValue={videoId}\n        onPressEnter={onAddVideoId}\n        placeholder=\"Insert Youtube video id\"\n      />\n      <span className=\"load-song__separator\">or</span>\n      <LoadSongModal />\n    </div>\n  );\n}\n\nexport default LoadSong;\n","import React, { useCallback, useState } from 'react';\n\n// Design Resources\nimport { Button, Divider, Input, Typography } from 'antd';\nimport { DatabaseFilled, MessageFilled, NotificationFilled } from '@ant-design/icons';\n// State\nimport useDistributorState from '../../states/useDistributorState';\n// Engine and utilities\nimport { Section, Line, Part, generateUniqueId } from '../../utils/distributor';\n// Components\nimport Log from '../log/Log';\nconst { Paragraph } = Typography;\n\nfunction LyricsAndSections() {\n  const [, setLines] = useDistributorState('lines');\n  const [, setParts] = useDistributorState('parts');\n  const [, setSections] = useDistributorState('sections');\n  const [song] = useDistributorState('song');\n  const [, setStep] = useDistributorState('step');\n\n  const [isBuiltOnce, setIsBuiltOnce] = useState(Boolean(song.id));\n  const [textarea, setTextarea] = useState('Sample lyrics\\nSample |lyrics\\n\\nSampleLyrics');\n\n  const onTextareaChange = useCallback(\n    (e) => {\n      const { value } = e.target;\n      setTextarea(value);\n    },\n    [setTextarea]\n  );\n\n  const buildSections = useCallback(() => {\n    setSections([]);\n    setLines([]);\n    setParts([]);\n\n    // Remove double spaces and first line and last line line breaks\n    const filteredTextarea = textarea.split('\\n').filter((entry, index, list) => {\n      const line = entry.trim();\n      // Empty lines\n      if (line === '') {\n        // First line\n        if (index === 0) return false;\n        // Last line is empty\n        else if (index === list.length - 1) return false;\n        // Double empty lines\n        else if (list[index - 1]?.trim() === '') return false;\n      }\n      return true;\n    });\n\n    const tempSections = [];\n    let tempSection = [];\n    let newSectionId = generateUniqueId();\n\n    filteredTextarea.forEach((entry, index, list) => {\n      const line = entry.trim();\n      if (line === '') {\n        const newSection = new Section({ id: newSectionId, linesIds: tempSection, songId: song.id });\n        tempSections.push(newSection);\n        tempSection = [];\n        newSectionId = generateUniqueId();\n      } else {\n        const newLine = new Line();\n        // Split lines, create a part for each\n        const parts = entry\n          .split('|')\n          .map((part) => {\n            const text = part?.trim() ?? '';\n            if (text) {\n              return new Part({ text: text.trim(), lineId: newLine.id });\n            }\n            return null;\n          })\n          .filter((i) => i);\n\n        newLine.deserialize({ placeholder: entry, partsIds: parts, sectionId: newSectionId });\n        tempSection.push(newLine);\n      }\n\n      if (index === list.length - 1 && tempSection.length) {\n        const newSection = new Section({\n          id: newSectionId,\n          linesIds: tempSection,\n          sectionId: newSectionId,\n          songId: song.id,\n        });\n        tempSections.push(newSection);\n      }\n    });\n\n    song.deserialize({ sectionsIds: tempSections });\n\n    setIsBuiltOnce(true);\n  }, [setLines, setParts, setSections, song, textarea]);\n\n  const rebuildSections = useCallback(() => {\n    const confirmation = window.confirm('Are you sure you want to rebuild sections for this song?');\n    if (confirmation) {\n      buildSections({});\n    }\n  }, [buildSections]);\n\n  return (\n    <section className=\"lyrics-and-sections\">\n      <h2 className=\"lyrics-and-sections__title\">Add Lyrics</h2>\n\n      <Paragraph>Paste the lyrics and press enter to auto generate the sections and lines.</Paragraph>\n      <Paragraph>\n        An line break creates a Line, a double line break generates a Section, and | generates parts.\n      </Paragraph>\n      <Paragraph>\n        Click on each Section {<DatabaseFilled />}, Line {<MessageFilled />}, and Part{' '}\n        {<NotificationFilled />} to edit their options\n      </Paragraph>\n\n      <div className=\"lyrics-and-sections__container\">\n        <Input.TextArea\n          placeholder=\"Insert lyrics here\"\n          className=\"lyrics-and-sections__textarea\"\n          onChange={onTextareaChange}\n          defaultValue={textarea}\n          disabled={song?.id}\n        />\n        <Log className=\"lyrics-and-sections__log\" defaultCompactSetting={false} />\n      </div>\n\n      <div className=\"lyrics-and-sections__action\">\n        {isBuiltOnce && (\n          <Paragraph type=\"danger\">\n            Rebuilding Sections is destruction and will reset all details you might have enter to Sections,\n            Lines, and Parts.\n          </Paragraph>\n        )}\n        <Button\n          type={isBuiltOnce ? 'default' : 'primary'}\n          danger={isBuiltOnce}\n          onClick={Boolean(song.id) ? rebuildSections : buildSections}\n          disabled={!textarea.length}\n        >\n          {isBuiltOnce ? 'Rebuild' : 'Build'} Sections\n        </Button>\n      </div>\n\n      <Divider />\n\n      {isBuiltOnce && (\n        <div className=\"lyrics-and-sections__action\">\n          <Button type=\"primary\" onClick={() => setStep('2')}>\n            Next Step: Time & Sync\n          </Button>\n        </div>\n      )}\n    </section>\n  );\n}\n\nexport default LyricsAndSections;\n","import React from 'react';\n\n// Design Resources\nimport { Button, InputNumber, Form, Input, Select, Divider } from 'antd';\nimport { DeleteOutlined } from '@ant-design/icons';\n// Engine and utilities\nimport { SECTION } from '../../utils/distributor';\n\nfunction OptionsSection({ section, onValuesChange }) {\n  const initialValues = {\n    text: section.text,\n    number: section.number,\n    kind: section.kind,\n    linesTotal: section.linesIds.length,\n  };\n\n  return (\n    <Form\n      layout=\"vertical\"\n      name=\"options-section\"\n      initialValues={initialValues}\n      onValuesChange={onValuesChange}\n      className=\"modal-options-form\"\n      autoComplete=\"off\"\n      preserve={false}\n    >\n      <Form.Item label=\"Type\" name=\"kind\" valuePropName=\"checked\" className=\"modal-options-form__item\">\n        <Select defaultValue={section.kind}>\n          {Object.values(SECTION).map((entry) => (\n            <Select.Option key={entry} value={entry}>\n              {entry}\n            </Select.Option>\n          ))}\n        </Select>\n      </Form.Item>\n\n      <div className=\"modal-options-form__items modal-options-form__items--2\">\n        <Form.Item\n          label=\"Number\"\n          name=\"number\"\n          className=\"modal-options-form__item\"\n          help=\"This number will be automatically generated when locking the song.\"\n        >\n          <InputNumber min={1} disabled />\n        </Form.Item>\n\n        <Form.Item label=\"Line Count\" name=\"linesTotal\" className=\"modal-options-form__item\">\n          <InputNumber disabled />\n        </Form.Item>\n      </div>\n\n      <Form.Item\n        label=\"Lyrics\"\n        name=\"text\"\n        className=\"modal-options-form__item\"\n        help=\"Collection of lyrics from all lines and parts.\"\n      >\n        <Input.TextArea disabled placeholder=\"No lyrics available yet\" />\n      </Form.Item>\n\n      <Divider />\n\n      <Form.Item\n        label=\"\"\n        name=\"text\"\n        className=\"modal-options-form__action-button\"\n        help=\"Permanently delete this entire section.\"\n      >\n        <Button type=\"primary\" disabled onClick={() => {}} danger icon={<DeleteOutlined />}>\n          Delete This Section\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default OptionsSection;\n","import React, { useState, useCallback } from 'react';\n\n// Design Resources\nimport { Button, InputNumber, Form, Input, Switch, Select, Divider } from 'antd';\nimport { DeleteOutlined } from '@ant-design/icons';\n// Engine and utilities\nimport { SKILL, SKILL_LEVEL, SKILL_TYPE } from '../../utils/distributor';\n\nfunction OptionsLine({ line, onValuesChange }) {\n  const [skill, setSkill] = useState(line?.skill ?? SKILL.VOCAL);\n\n  const onSkillChange = useCallback((value) => {\n    setSkill(value);\n  }, []);\n\n  const initialValues = {\n    text: line.text,\n    skill: line.skill,\n    skillType: line.skillType,\n    skillLevel: line.skillLevel,\n    isDismissible: line.isDismissible,\n    partsTotal: line.partsIds.length,\n  };\n\n  const skillTypes = SKILL_TYPE[skill];\n\n  return (\n    <Form\n      layout=\"vertical\"\n      name=\"options-line\"\n      initialValues={initialValues}\n      onValuesChange={onValuesChange}\n      className=\"modal-options-form\"\n      autoComplete=\"off\"\n      preserve={false}\n    >\n      <div className=\"modal-options-form__items modal-options-form__items--3\">\n        <Form.Item label=\"Skill\" name=\"skill\" valuePropName=\"checked\" className=\"modal-options-form__item\">\n          <Select onChange={onSkillChange} defaultValue={line.skill}>\n            {Object.values(SKILL).map((entry) => (\n              <Select.Option key={entry} value={entry}>\n                {entry}\n              </Select.Option>\n            ))}\n          </Select>\n        </Form.Item>\n\n        <Form.Item\n          label=\"Skill Type\"\n          name=\"skillType\"\n          valuePropName=\"checked\"\n          className=\"modal-options-form__item\"\n        >\n          <Select defaultValue={line.skillType}>\n            {Object.values(skillTypes).map((entry) => (\n              <Select.Option key={entry} value={entry}>\n                {entry}\n              </Select.Option>\n            ))}\n          </Select>\n        </Form.Item>\n\n        <Form.Item\n          label=\"Skill Level\"\n          name=\"skillLevel\"\n          valuePropName=\"checked\"\n          className=\"modal-options-form__item\"\n        >\n          <Select defaultValue={line.skillLevel}>\n            {Object.values(SKILL_LEVEL).map((entry) => (\n              <Select.Option key={entry} value={entry}>\n                {entry}\n              </Select.Option>\n            ))}\n          </Select>\n        </Form.Item>\n      </div>\n\n      <div className=\"modal-options-form__items modal-options-form__items--2\">\n        <Form.Item\n          label=\"Dismissible\"\n          name=\"isDismissible\"\n          className=\"modal-options-form__item\"\n          valuePropName=\"checked\"\n          help=\"Dismissible lines are lines that do not need to be displayed, usually vocalizing parts and some ad-libs.\"\n        >\n          <Switch />\n        </Form.Item>\n\n        <Form.Item label=\"Parts Count\" name=\"partsTotal\" className=\"modal-options-form__item\">\n          <InputNumber disabled />\n        </Form.Item>\n      </div>\n\n      <Form.Item\n        label=\"Lyrics\"\n        name=\"text\"\n        className=\"modal-options-form__item\"\n        help=\"Collection of lyrics from all parts.\"\n      >\n        <Input disabled placeholder=\"No lyrics available yet\" />\n      </Form.Item>\n\n      <Divider />\n\n      <Form.Item\n        label=\"\"\n        name=\"text\"\n        className=\"modal-options-form__action-button\"\n        help=\"Permanently delete this entire line.\"\n      >\n        <Button type=\"primary\" disabled onClick={() => {}} danger icon={<DeleteOutlined />}>\n          Delete This Line\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default OptionsLine;\n","import React, { useCallback, useState } from 'react';\n\n// Design Resources\nimport { Button, InputNumber, Form, Input, Divider, Radio } from 'antd';\nimport { DeleteOutlined } from '@ant-design/icons';\n// Engine and utilities\nimport { ASSIGNEE, ASSIGNEE_LABEL } from '../../utils/distributor';\n\nconst ASSIGNEE_OPTIONS = Object.values(ASSIGNEE).map((i) => ({ value: i, label: ASSIGNEE_LABEL[i] }));\n\nfunction OptionsPart({ part, onValuesChange, onCancelModal }) {\n  const [tempAssignee, setTempAssignee] = useState(part.assignee);\n\n  const initialValues = {\n    text: part.text,\n    assignee: part.assignee,\n    startTime: part.startTime,\n    endTime: part.endTime,\n    lineId: part.lineId,\n  };\n\n  const formClass = `modal-options-form modal-options-form--assignee-${tempAssignee}`;\n\n  const deletePart = useCallback(() => {\n    const confirmation = window.confirm('Are you sure you want to delete this part?');\n    if (confirmation) {\n      part.disconnectLine(part.lineId);\n      onCancelModal();\n    }\n  }, [part, onCancelModal]);\n\n  return (\n    <Form\n      layout=\"vertical\"\n      name=\"options-line\"\n      initialValues={initialValues}\n      onValuesChange={onValuesChange}\n      className={formClass}\n      autoComplete=\"off\"\n      preserve={false}\n    >\n      <Form.Item\n        label=\"Assignee\"\n        name=\"assignee\"\n        className=\"modal-options-form__item\"\n        help=\"This is just a reference if the next part could or should be sung by a different person. Keep it semantic! Use A and B for vocals, C and D for raps, E and F for Ad-libs, G for All, and H\n        for None.\"\n      >\n        <Radio.Group\n          options={ASSIGNEE_OPTIONS}\n          optionType=\"button\"\n          className=\"assignees-radio-group\"\n          onChange={(e) => setTempAssignee(e.target.value)}\n        />\n      </Form.Item>\n\n      <Form.Item label=\"Lyrics\" name=\"text\" className=\"modal-options-form__item\">\n        <Input />\n      </Form.Item>\n\n      <div className=\"modal-options-form__items modal-options-form__items--3\">\n        <Form.Item label=\"Start Time\" name=\"startTime\" className=\"modal-options-form__item\">\n          <InputNumber />\n        </Form.Item>\n\n        <Form.Item label=\"End Time\" name=\"endTime\" className=\"modal-options-form__item\">\n          <InputNumber />\n        </Form.Item>\n\n        <Form.Item label=\"LineId\" name=\"lineId\" className=\"modal-options-form__item\">\n          <Input disabled />\n        </Form.Item>\n      </div>\n\n      <Divider />\n\n      <Form.Item\n        label=\"\"\n        name=\"text\"\n        className=\"modal-options-form__action-button\"\n        help=\"Permanently delete this entire part.\"\n      >\n        <Button type=\"primary\" onClick={deletePart} danger icon={<DeleteOutlined />}>\n          Delete This Part\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default OptionsPart;\n","import React, { useState, useCallback } from 'react';\n\n// Design Resources\nimport { Divider, Modal, Progress } from 'antd';\n// Components\nimport OptionsSection from './OptionsSection';\nimport OptionsLine from './OptionsLine';\nimport OptionsPart from './OptionsPart';\n\nfunction ModalOptions({ activeInstance, setActiveInstance }) {\n  const [tempData, setTempData] = useState({});\n\n  const onCancelModal = () => {\n    setActiveInstance(null);\n  };\n\n  const onSaveModal = useCallback(() => {\n    activeInstance.deserialize(tempData);\n    setTempData({});\n    setActiveInstance(null);\n  }, [activeInstance, tempData, setTempData, setActiveInstance]);\n\n  const onFormChange = useCallback((data) => {\n    setTempData((state) => ({ ...state, ...data }));\n  }, []);\n\n  if (!activeInstance) return <span></span>;\n\n  const id = activeInstance?.id;\n  const type = activeInstance?.type;\n\n  const title =\n    {\n      part: `Part \"${activeInstance.text}\" Options`,\n      line: `Line \"${activeInstance.text}\" Options`,\n      section: `Section ${activeInstance?.name ?? id} Options`,\n      song: `Song ${id} Options`,\n    }[type] ?? 'Unknown';\n\n  return (\n    <Modal\n      title={title}\n      visible={Boolean(activeInstance)}\n      onOk={onSaveModal}\n      okText=\"Save\"\n      onCancel={onCancelModal}\n    >\n      {type === 'section' && <OptionsSection section={activeInstance} onValuesChange={onFormChange} />}\n      {type === 'line' && <OptionsLine line={activeInstance} onValuesChange={onFormChange} />}\n      {type === 'part' && (\n        <OptionsPart part={activeInstance} onValuesChange={onFormChange} onCancelModal={onCancelModal} />\n      )}\n      <Divider />\n      <Progress percent={activeInstance.completion} />\n    </Modal>\n  );\n}\n\nexport default ModalOptions;\n","import React, { useEffect } from 'react';\n\n// Design Resources\nimport { Button } from 'antd';\n// State\nimport useDistributorState from '../../states/useDistributorState';\n// Engine and utilities\nimport { ASSIGNEE, ASSIGNEE_LABEL, convertStoMS, generateTempId } from '../../utils/distributor';\nimport { useKeyDown, useKeyUp } from '../../utils/useKeypress';\nimport { KEYS, KEY_ASSIGNEE } from '../../utils/constants';\n\n// These variables are not using state since setState is asynchronous and is messing up with the time tracking\nlet playing = false;\n\nconst temp = {\n  keyPressing: {},\n  part: {},\n};\n\nasync function handleActionDown(key, playerRef, assignee) {\n  // Don't run if video is not playing\n  if (!playing) return;\n  // Don't run if this key is being captured\n  if (temp.keyPressing[key]) return;\n  // Don't run if a part for this key is present\n  if (temp.part[key]) return;\n  // Not allowed key\n  if (!KEY_ASSIGNEE[key]) return;\n\n  temp.keyPressing[key] = true;\n  const newTimestamp = {\n    startTime: convertStoMS(await playerRef.current.internalPlayer.getCurrentTime()),\n    assignee: key === ' ' ? assignee : KEY_ASSIGNEE[key],\n    partId: null,\n    id: generateTempId(),\n  };\n\n  temp.part[key] = newTimestamp;\n}\n\nasync function handleActionUp(key, playerRef) {\n  // Don't run if video is not playing\n  if (!playing) return;\n  // Don't run if key is not being captured\n  if (!temp.keyPressing[key]) return;\n  // Don't run if a part is not present\n  if (!temp.part[key]) return;\n  // Not allowed key\n  if (!KEY_ASSIGNEE[key]) return;\n\n  temp.part[key].endTime = convertStoMS(await playerRef.current.internalPlayer.getCurrentTime());\n\n  const copy = { ...temp.part[key] };\n  temp.part[key] = null;\n  temp.keyPressing[key] = null;\n  return copy;\n}\n\nconst ASSIGNEE_OPTIONS = Object.values(ASSIGNEE ?? {}).map((i) => ({ value: i, label: ASSIGNEE_LABEL[i] }));\n\nfunction MouseButtons({ playerRef, isPlaying }) {\n  const [assignee] = useDistributorState('assignee');\n  const [, setUnassignedTimestamps] = useDistributorState('unassignedTimestamps');\n\n  // Work around since useKeyDown is not capturing isPlaying correctly\n  useEffect(() => {\n    playing = isPlaying;\n  }, [isPlaying]);\n\n  // Capture Button Down\n  const onCaptureButtonDown = async (key) => {\n    await handleActionDown(key, playerRef, assignee);\n  };\n\n  const onCaptureButtonUp = async (key) => {\n    const result = await handleActionUp(key, playerRef);\n\n    if (result?.endTime) {\n      setUnassignedTimestamps((state) => {\n        state[result.id] = { ...result };\n        return state;\n      });\n    }\n  };\n\n  return (\n    <div className=\"key-capture-capture-buttons distributor-controls__buttons\">\n      {ASSIGNEE_OPTIONS.map((entry, index) => (\n        <Button\n          key={entry.value}\n          onClick={() => {}}\n          className={`distributor-controls__button assignee-background--${entry.value}`}\n          onMouseDown={() => onCaptureButtonDown(entry.value)}\n          onMouseUp={() => onCaptureButtonUp(entry.value)}\n        >\n          {index + 1} ({entry.label})\n        </Button>\n      ))}\n    </div>\n  );\n}\n\nfunction Keyboard({ playerRef, isPlaying }) {\n  const [assignee] = useDistributorState('assignee');\n  const [, setUnassignedTimestamps] = useDistributorState('unassignedTimestamps');\n\n  // Work around since useKeyDown is not capturing isPlaying correctly\n  useEffect(() => {\n    playing = isPlaying;\n  }, [isPlaying]);\n\n  // Capture SPACE key down\n  useKeyDown(KEYS, async (key) => {\n    await handleActionDown(key, playerRef, assignee);\n  });\n\n  // Capture SPACE key up\n  useKeyUp(KEYS, async (key) => {\n    const result = await handleActionUp(key, playerRef);\n\n    if (result?.endTime) {\n      setUnassignedTimestamps((state) => {\n        state[result.id] = { ...result };\n        return state;\n      });\n    }\n  });\n\n  return <div className=\"distributor-grid__key-capture key-capture\" />;\n}\n\nconst KeyCapture = {\n  Keyboard,\n  MouseButtons,\n};\n\nexport default KeyCapture;\n","import { useEffect } from 'react';\n\n/**\n * useKeyUp\n * @param {string[]} keys - the name of the keys to respond to, compared against event.key\n * @param {function} action - the action to perform on key up\n */\nexport function useKeyUp(keys, action) {\n  useEffect(() => {\n    function onKeyup(e) {\n      if (keys.includes(e.key)) action(e.key);\n    }\n    window.addEventListener('keyup', onKeyup);\n    return () => window.removeEventListener('keyup', onKeyup);\n  }, []);\n}\n\n/**\n * useKeyUp\n * @param {string[]} keys - the name of the keys to respond to, compared against event.key\n * @param {function} action - the action to perform on key down\n */\nexport function useKeyDown(keys, action) {\n  useEffect(() => {\n    function onKeyDown(e) {\n      if (keys.includes(e.key)) action(e.key);\n    }\n    window.addEventListener('keydown', onKeyDown);\n    return () => window.removeEventListener('keydown', onKeyDown);\n  }, []);\n}\n","import React, { useCallback } from 'react';\n\n// Design Resources\nimport { Button } from 'antd';\nimport { PlayCircleOutlined } from '@ant-design/icons';\n// State\nimport useDistributorState from '../../states/useDistributorState';\n// Engine and utilities\nimport KeyCapture from './KeyCapture';\n\nfunction Controls({ playerRef, playVideo, pauseVideo, isPlaying }) {\n  const [isRecording, setIsRecording] = useDistributorState('isRecording');\n\n  const toggleRecording = useCallback(\n    (e) => {\n      if (isRecording) {\n        pauseVideo();\n        setIsRecording(false);\n      } else {\n        playVideo();\n        setIsRecording(true);\n        e.currentTarget.blur();\n      }\n    },\n    [isRecording, pauseVideo, playVideo, setIsRecording]\n  );\n\n  return (\n    <div className=\"distributor-grid__controls distributor-controls\">\n      <Button\n        icon={<PlayCircleOutlined />}\n        danger={isRecording}\n        type={isRecording ? 'primary' : null}\n        onClick={toggleRecording}\n        className=\"distributor-controls__record\"\n      >\n        {isRecording ? 'Recording' : 'Record'}\n      </Button>\n      <div className=\"distributor-controls__other-controls\">\n        <h4 className=\"distributor-controls__title\">Capture Buttons</h4>\n        <p className=\"distributor-controls__description\">\n          Click and hold to record. It allows multiple clicks at the same time. You may also use the number\n          keys on your keyboard.\n        </p>\n        <KeyCapture.MouseButtons playerRef={playerRef} isPlaying={isPlaying} />\n      </div>\n    </div>\n  );\n}\n\nexport default Controls;\n","import React, { useState, useEffect, useCallback } from 'react';\n\n// Design Resources\nimport { Button } from 'antd';\nimport { ClockCircleOutlined, DeleteFilled } from '@ant-design/icons';\n// State\nimport useDistributorState from '../../states/useDistributorState';\n// Engine and utilities\nimport { bemClass, getBemModifier, getTimestampDuration } from '../../utils';\nimport { deserializeKey } from '../../utils/distributor';\n\nfunction TimestampsBank() {\n  const [unassignedTimestamps, setUnassignedTimestamps] = useDistributorState('unassignedTimestamps');\n  const [selection, setSelection] = useDistributorState('selection');\n  const [selectedTimestamps, setSelectedTimestamps] = useDistributorState('selectedTimestamps');\n  const [parts] = useDistributorState('parts');\n\n  const [isPointAndClickOn, setIsPointClickOn] = useState(false);\n  const [isOnlyPartsSelection, setIsOnlyPartsSelection] = useState(false);\n  const [isTimestampDeleteOn, setIsTimestampDeleteOn] = useState(false);\n\n  // Check if selection exists and it is only parts\n  useEffect(() => {\n    setIsOnlyPartsSelection(Boolean(selection && selection?.[0]?.startsWith('part')));\n  }, [selection, setIsOnlyPartsSelection]);\n\n  useEffect(() => {\n    if (selectedTimestamps.length === 0) {\n      setIsPointClickOn(false);\n      setIsTimestampDeleteOn(false);\n    }\n  }, [selectedTimestamps]);\n\n  const onToggleTimestampSelection = useCallback(\n    (timestamp, selectedClass) => {\n      setSelectedTimestamps((sts) => {\n        if (selectedClass) {\n          return [...sts].filter((ts) => ts.id !== timestamp.id);\n        }\n        const arr = [...sts];\n        arr.push(timestamp);\n\n        return arr;\n      });\n    },\n    [setSelectedTimestamps]\n  );\n\n  const unassignedTimestampsArray = Object.values(unassignedTimestamps);\n\n  const onToggleSequentialPointAndClick = useCallback(() => {\n    if (isPointAndClickOn) {\n      setSelectedTimestamps([]);\n      setIsPointClickOn(false);\n    } else {\n      setSelectedTimestamps(unassignedTimestampsArray);\n      setIsPointClickOn(true);\n    }\n  }, [isPointAndClickOn, setSelectedTimestamps, unassignedTimestampsArray]);\n\n  const deleteAllUnassignedTimestamps = useCallback(() => {\n    const confirmation = window.confirm('Are you sure you want to delete all unassigned timestamps?');\n    if (confirmation) {\n      setUnassignedTimestamps({});\n    }\n  }, [setUnassignedTimestamps]);\n\n  const onToggleTimestampDelete = useCallback(() => {\n    setIsTimestampDeleteOn((state) => !state);\n  }, []);\n\n  const onTimestampClick = useCallback(\n    (timestamp, selectedClass) => {\n      if (isTimestampDeleteOn) {\n        setUnassignedTimestamps((state) => {\n          const obj = { ...state };\n          delete obj[timestamp.id];\n          return obj;\n        });\n      } else {\n        onToggleTimestampSelection(timestamp, selectedClass);\n      }\n    },\n    [isTimestampDeleteOn, setUnassignedTimestamps, onToggleTimestampSelection]\n  );\n\n  const onPerformLinearSync = useCallback(() => {\n    // Loop through unassigned timestamps and assigned to each selection\n    const complete = unassignedTimestampsArray.map((timestamp, index) => {\n      const partKey = selection[index];\n      const [, partId] = deserializeKey(partKey);\n      const part = parts[partId];\n      part.updateTimestamp(timestamp);\n      return true;\n    });\n\n    if (complete.length === unassignedTimestampsArray.length) {\n      // Deselect all\n      setUnassignedTimestamps({});\n      setSelection([]);\n    }\n  }, [parts, selection, setSelection, setUnassignedTimestamps, unassignedTimestampsArray]);\n\n  return (\n    <div className=\"distributor-grid__timestamps timestamps-bank\">\n      <h4 className=\"timestamps-bank__title\">Available Timestamps ({unassignedTimestampsArray.length})</h4>\n\n      <ul className=\"timestamps-bank__list\">\n        {unassignedTimestampsArray.map((timestamp) => {\n          const selectedIndex = selectedTimestamps?.findIndex((ts) => ts.id === timestamp.id);\n\n          const selectedClass = getBemModifier(selectedIndex !== -1, 'selected');\n\n          const activeClass = getBemModifier(selectedTimestamps[0]?.id === timestamp.id, 'active');\n\n          return (\n            <li key={timestamp.id} className=\"timestamps-bank__item\">\n              <Button\n                shape=\"round\"\n                size=\"small\"\n                icon={isTimestampDeleteOn ? <DeleteFilled /> : <ClockCircleOutlined />}\n                className={bemClass('timestamps-bank__button', selectedClass, activeClass)}\n                onClick={() => onTimestampClick(timestamp, selectedClass)}\n              >\n                {getTimestampDuration(timestamp)} ms\n                {selectedIndex !== -1 && (\n                  <span className=\"timestamps-bank__button-index\">({selectedIndex + 1})</span>\n                )}\n              </Button>\n            </li>\n          );\n        })}\n      </ul>\n\n      <h4 className=\"timestamps-bank__title\">Syncing Options</h4>\n      <p className=\"timestamps-bank__description\">\n        You may click on a timestamp and then click on a part to attach it automatically.\n      </p>\n      <Button\n        type=\"default\"\n        block\n        disabled={!isOnlyPartsSelection || selection.length !== unassignedTimestampsArray.length}\n        onClick={onPerformLinearSync}\n      >\n        Linear Sync to Selected Parts\n        {isOnlyPartsSelection && `(${selection.length}-${unassignedTimestampsArray.length})`}\n      </Button>\n      <p className=\"timestamps-bank__description\">\n        Select Part checkboxes on the Lyrics on the right. All timestamps will be automatically synced in the\n        order checkboxes were selected.\n      </p>\n      <Button\n        type=\"default\"\n        block\n        onClick={onToggleSequentialPointAndClick}\n        className={isPointAndClickOn ? 'timestamps-bank__point-and-click-button' : ''}\n        disabled={!unassignedTimestampsArray.length}\n      >\n        Sequential Point and Click Sync{isPointAndClickOn && ': ON'}\n      </Button>\n      <p className=\"timestamps-bank__description\">\n        Engine will activate each timestamp in sequence and will select the next timestamp after you click on\n        a part to attach it.\n      </p>\n\n      <Button\n        type=\"default\"\n        danger\n        block\n        onClick={onToggleTimestampDelete}\n        className={isTimestampDeleteOn ? 'timestamps-bank__delete-button' : ''}\n        disabled={!unassignedTimestampsArray.length}\n      >\n        Toggle Timestamp Deletion\n      </Button>\n      <p className=\"timestamps-bank__description\">Instantly delete timestamps by clicking on them.</p>\n      <Button\n        type=\"primary\"\n        danger\n        block\n        onClick={deleteAllUnassignedTimestamps}\n        disabled={!unassignedTimestampsArray.length}\n      >\n        Delete All Unassigned Timestamps\n      </Button>\n      <p className=\"timestamps-bank__description\">Deletes all unassigned timestamps at once. Be careful.</p>\n    </div>\n  );\n}\n\nexport default TimestampsBank;\n","import React from 'react';\n\n// Design Resources\nimport { Button, Divider, Progress, Tooltip } from 'antd';\n// State\nimport useDistributorState from '../../states/useDistributorState';\n// Components\nimport KeyCapture from './KeyCapture';\nimport Log from '../log/Log';\nimport Controls from './Controls';\nimport TimestampsBank from './TimestampsBank';\nimport YoutubeVideo from './YoutubeVideo';\n\nfunction TimeAndSync({ playerRef, playVideo, pauseVideo, seekAndPlay }) {\n  const [isRecording] = useDistributorState('isRecording');\n  const [song] = useDistributorState('song');\n  const [step, setStep] = useDistributorState('step');\n  const [isPlaying] = useDistributorState('isPlaying');\n\n  return (\n    <section className=\"distributor-grid time-and-sync\">\n      {isRecording && <KeyCapture.Keyboard playerRef={playerRef} isPlaying={isPlaying} />}\n\n      {step === '2' && (\n        <YoutubeVideo\n          playerRef={playerRef}\n          width=\"320\"\n          height=\"180\"\n          className=\"distributor-grid__video-container\"\n        />\n      )}\n\n      <Controls playerRef={playerRef} playVideo={playVideo} pauseVideo={pauseVideo} />\n\n      <TimestampsBank />\n\n      <Log seekAndPlay={seekAndPlay} className=\"distributor-grid__log log-full-width\" />\n\n      <div className=\"distributor-grid__actions\">\n        <Divider />\n        <Tooltip title=\"Sections Completion Rate\">\n          <Progress percent={song?.relationshipsCompletion} />\n        </Tooltip>\n        <Divider />\n        <div className=\"time-and-sync__action\">\n          <Button type=\"primary\" onClick={() => setStep('3')}>\n            Next Step: Preview\n          </Button>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default TimeAndSync;\n","class ChartEntry {\n  constructor({ key, position }) {\n    this.key = key;\n    this.value = 0;\n    this.on = false;\n    this.percentage = 0;\n    this.position = position;\n  }\n}\n\nexport default ChartEntry;\n","class DistributedPart {\n  constructor({\n    id,\n    text,\n    startTime,\n    endTime,\n    duration,\n    assignee,\n    membersIds,\n    lineId,\n    sectionId,\n    isDismissible = false,\n  }) {\n    this.id = id;\n    this.type = 'distributed-part';\n    this.text = text;\n    this.startTime = startTime;\n    this.endTime = endTime;\n    this.duration = duration;\n    this.lineId = lineId;\n    this.sectionId = sectionId;\n    this.isDismissible = isDismissible;\n    this.assignees =\n      Array.isArray(membersIds) && membersIds.length\n        ? membersIds\n        : Array.isArray(assignee) && assignee.length\n        ? assignee\n        : ['NONE'];\n  }\n}\n\nexport default DistributedPart;\n","class LineEntry {\n  constructor({ lineId, startTime }) {\n    this.lineId = lineId;\n    this.sectionId = null;\n    this.partsIds = [];\n    this.text = [];\n    this.assignees = [];\n    this.startTime = startTime;\n  }\n\n  add(part) {\n    this.partsIds.push(part.id);\n    this.sectionId = part.sectionId;\n    this.text.push(part.text);\n    this.assignees.push(part.assignees.sort().join('+++'));\n    this.startTime = part.startTime < this.startTime ? part.startTime : this.startTime;\n  }\n\n  // Condense text and assignees into one if they the assignees are the same\n  cleanup() {\n    if (this.partsIds.length > 1) {\n      if (this.assignees.every((v) => v === this.assignees[0])) {\n        this.text = [this.text.join(' ')];\n        this.assignees = [this.assignees[0]];\n      }\n    }\n    this.assignees = this.assignees.join('+++');\n  }\n}\n\nexport default LineEntry;\n","class LyricEntry {\n  constructor(entry) {\n    this.startTime = entry.startTime;\n    this.sectionId = entry.sectionId;\n    this.assignees = entry.assignees;\n    this.lines = [entry];\n  }\n\n  add(entry) {\n    this.lines.push(entry);\n  }\n\n  data(members, framerate) {\n    const assignees = [...new Set(this.assignees.split('+++'))].map((key) => members[key]);\n\n    return {\n      startTime: this.startTime,\n      names: assignees.map((assignee) => {\n        if (!assignee) {\n          return 'ALL';\n        }\n        return assignee.name;\n      }),\n      colors: assignees.map((assignee) => {\n        if (!assignee) {\n          return '#808080';\n        }\n        return assignee.color;\n      }),\n      lines: this.lines.map((line) => line.text.join(' ')),\n    };\n  }\n}\n\nexport default LyricEntry;\n","class MemberEntry {\n  constructor({ key, color, name, age }) {\n    this.key = key;\n    this.color = color;\n    this.name = name;\n    this.age = age;\n    this.percentage = 0;\n    this.duration = 0;\n  }\n}\n\nexport default MemberEntry;\n","import { deepCopy, getFrameFromTimestamp, getTimestampFromFrame } from '..';\nimport ChartEntry from './chartEntry';\nimport DistributedPart from './distributedPart';\nimport LineEntry from './lineEntry';\nimport LyricEntry from './lyricEntry';\nimport MemberEntry from './memberEntry';\n\nconst ALL_NONE_MEMBERS = ['ALL', 'NONE', 'member::ALL', 'member::NONE'];\n\n/**\n * Class to generate a Line Distribution preview.\n */\nexport class Previewer {\n  constructor({ songTitle, allParts, members, distribution, framerate = 30 }) {\n    this._songTitle = songTitle;\n    this._allParts = allParts;\n    this._distribution = distribution;\n    this._framerate = framerate;\n\n    this._members = this._buildMembers(members);\n    this._distributedParts = this._buildDistributionParts();\n    this._max = this._calculateMax();\n    this._priorityPosition = this._buildMemberPriorityPosition();\n    this._membersCountCache = {};\n    this._membersChartData = this._buildMembersLineBarChartData();\n  }\n\n  /**\n   * Builds dictionary of MemberEntry where the key is the member key.\n   * @param {object{}} members\n   * @returns {MemberEntry{}}\n   */\n  _buildMembers(members) {\n    return Object.values(members).reduce((result, member) => {\n      result[member.key] = new MemberEntry(member);\n      return result;\n    }, {});\n  }\n\n  /**\n   * Builds array of DistributedPart sorted by startTime.\n   * @returns {DistributedPart[]}\n   */\n  _buildDistributionParts() {\n    return this._allParts\n      .map((part) => {\n        const distributedPart = this._distribution[part.id];\n        const distributedAssignees = Array.isArray(distributedPart)\n          ? distributedPart\n          : Object.keys(distributedPart);\n\n        return new DistributedPart({\n          ...part,\n          membersIds: distributedAssignees,\n        });\n      })\n      .sort((a, b) => (a.startTime > b.startTime ? 1 : -1));\n  }\n\n  /**\n   * Builds Max dictionary.\n   * @returns {object}\n   */\n  _calculateMax() {\n    return this._distributedParts.reduce(\n      (acc, part) => {\n        // Add total\n        acc.totalDuration += part.duration;\n        // Add each member duration\n        part.assignees.forEach((assignee) => {\n          if (acc.cache[assignee] === undefined) {\n            acc.cache[assignee] = 0;\n          }\n          acc.cache[assignee] += part.duration;\n\n          if (!ALL_NONE_MEMBERS.includes(assignee) && acc.cache[assignee] > acc.winningDuration) {\n            acc.winningDuration = acc.cache[assignee];\n            acc.winnerKey = assignee;\n          }\n        });\n\n        return acc;\n      },\n      {\n        totalDuration: 0,\n        winningDuration: 0,\n        winnerKey: null,\n        cache: {},\n      }\n    );\n  }\n\n  /**\n   * Builds Position priority based on age\n   */\n  _buildMemberPriorityPosition() {\n    return this.members().reduce((acc, memberEntry, index) => {\n      acc[memberEntry.key] = index;\n      return acc;\n    }, {});\n  }\n\n  /**\n   * Creates a LineBars ChartEntry dictionary that has every member ChartEntry set to 0/\n   * @returns {ChartEntry{}}\n   */\n  _buildMembersLineBarChartData() {\n    this._membersCountCache = {};\n    return Object.keys(this._members).reduce((acc, key) => {\n      this._membersCountCache[key] = 0;\n      acc[key] = new ChartEntry({ key, position: -1 });\n      return acc;\n    }, {});\n  }\n\n  /**\n   * Outputs the members array\n   * @return {Member[]}\n   */\n  members() {\n    return Object.values(this._members).sort((a, b) => (b.age > a.age ? 1 : -1));\n  }\n\n  /**\n   * Build distribution bars\n   * @param {boolean} force - flag indicating if bars should be rebuilt\n   */\n  bars(force = false) {\n    if (this._bars && !force) return this._bars;\n\n    const temp = [deepCopy(this._membersChartData)];\n\n    // Create an temp entry for each startTime and endTime on each distributedPart\n    this._distributedParts.forEach((dPart) => {\n      const startIndex = getFrameFromTimestamp(dPart.startTime, this._framerate);\n      const endIndex = getFrameFromTimestamp(dPart.endTime, this._framerate);\n\n      for (let i = startIndex; i <= endIndex; i++) {\n        if (temp[i] === undefined) {\n          temp[i] = deepCopy(this._membersChartData);\n        }\n        dPart.assignees.forEach((assigneeKey) => {\n          if (!ALL_NONE_MEMBERS.includes(assigneeKey)) {\n            temp[i][assigneeKey].on = i !== endIndex;\n          }\n        });\n      }\n    });\n\n    // Add the initial state\n    const result = [temp[0]];\n\n    // Calculate value and percentage for each entry (undefined indexes will remain undefined)\n    for (let i = 1; i < temp.length; i++) {\n      const entry = temp[i];\n      if (entry) {\n        // Add whoever is 'on'\n        Object.values(entry).forEach((chartEntry) => {\n          if (chartEntry.on) {\n            this._membersCountCache[chartEntry.key] += 1;\n          }\n\n          // Update value and percentage\n          chartEntry.value = getTimestampFromFrame(this._membersCountCache[chartEntry.key], this._framerate);\n          chartEntry.percentage = Math.ceil((100 * chartEntry.value) / this._max.winningDuration);\n        });\n\n        // Reposition\n        const sortedEntry = Object.values(entry).sort((a, b) => (b.value > a.value ? 1 : -1));\n        Object.values(entry).forEach((chartEntry) => {\n          chartEntry.position =\n            chartEntry.value > 0 ? sortedEntry.findIndex((e) => e.key === chartEntry.key) : -1;\n          // Fix value\n          chartEntry.value = Number(chartEntry.value / 1000).toFixed(1);\n        });\n\n        result[i] = entry;\n      }\n    }\n\n    // Add an last entry that every member is on\n    const newLastEntry = deepCopy(result[result.length - 1]);\n    Object.values(newLastEntry).forEach((chartEntry) => {\n      chartEntry.on = true;\n    });\n    result.push(newLastEntry);\n\n    this._bars = result;\n    return this._bars;\n  }\n\n  /**\n   *\n   * @param {*} force\n   */\n  lyrics(force = false) {\n    if (this._lyrics && !force) return this._lyrics;\n\n    const lineEntries = {};\n\n    // Iterate through distributedParts building lyricLine\n    this._distributedParts.forEach((dPart) => {\n      // Ignore dismissible parts\n      if (dPart.isDismissible) return;\n      // Ignore parts with None\n      if (dPart.assignees.includes('member::NONE')) return;\n      // Create line entry where there is none for given lineId\n      if (lineEntries[dPart.lineId] === undefined) {\n        lineEntries[dPart.lineId] = new LineEntry(dPart);\n      }\n\n      lineEntries[dPart.lineId].add(dPart);\n    });\n\n    const lyricsEntries = {};\n\n    // Grouping\n    // Rules if different sectionId, new lyricEntry\n    const sortedLineEntries = Object.values(lineEntries).sort((a, b) =>\n      a.startTime >= b.startTime ? 1 : -1\n    );\n\n    let latestEntry = null;\n\n    sortedLineEntries.forEach((entry) => {\n      // Cleanup entry\n      entry.cleanup();\n\n      // If it has the same sectionId and assignees of previous entry, use it\n      if (latestEntry?.sectionId === entry.sectionId && latestEntry.assignees === entry.assignees) {\n        latestEntry.add(entry);\n        return;\n      }\n\n      // Consume latestEntry\n      if (latestEntry) {\n        if (lyricsEntries[latestEntry?.startTime]) {\n          lyricsEntries[latestEntry.startTime + 0.1] = latestEntry;\n        } else {\n          lyricsEntries[latestEntry.startTime] = latestEntry;\n        }\n        latestEntry = null;\n      }\n\n      // Create new entry\n      latestEntry = new LyricEntry(entry);\n    });\n\n    // Consume last entry\n    if (latestEntry) {\n      lyricsEntries[latestEntry.startTime] = latestEntry;\n    }\n\n    // Cleanup\n    Object.entries(lyricsEntries).forEach(([key, entry]) => {\n      lyricsEntries[key] = entry.data(this._members, this._framerate);\n    });\n\n    // console.log({ lyricsEntries });\n\n    this._lyrics = Object.values(lyricsEntries);\n    return this._lyrics;\n  }\n}\n\nexport default Previewer;\n","import React, { useEffect, useRef, useState } from 'react';\n\n// Components\nimport YoutubeVideo from './YoutubeVideo';\nimport { bemClass, getBemModifier, getFrameFromTimestamp } from '../../utils';\nimport Avatar from '../Avatar';\n\nfunction LineDistribution({ playerRef, members, bars, lyrics, framerate = 30 }) {\n  const [intervalId, setIntervalId] = useState(null);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [currentRank, setCurrentRank] = useState(bars[0]);\n\n  useEffect(() => {\n    setCurrentRank(bars[0]);\n  }, [bars]);\n\n  const onStateChange = (e) => {\n    if (e.data === 1) {\n      setIntervalId(\n        setInterval(() => {\n          setCurrentTime(e.target.getCurrentTime());\n        }, 1000 / framerate)\n      );\n    } else {\n      // Kill interval\n      clearInterval(intervalId);\n      setIntervalId(null);\n    }\n  };\n\n  useEffect(() => {\n    // Every time change update current ranking if id exists according to framerate\n    const frameIndex = getFrameFromTimestamp(currentTime * 1000, framerate);\n    if (currentTime < 0.5 || !currentRank) {\n      setCurrentRank(bars[0]);\n    }\n\n    if (bars[frameIndex]) {\n      setCurrentRank(bars[frameIndex]);\n    }\n  }, [currentRank, currentTime, bars, framerate]);\n\n  return (\n    <section className=\"line-distribution__container\">\n      <YoutubeVideo\n        playerRef={playerRef}\n        width=\"320\"\n        height=\"180\"\n        className=\"line-distribution__video\"\n        onStateChange={onStateChange}\n      />\n      <RankingBars members={members} currentRank={currentRank} />\n      <LyricsScroller currentTime={currentTime} lyrics={lyrics} />\n    </section>\n  );\n}\n\nfunction RankingBars({ members, currentRank }) {\n  return (\n    <ul className=\"line-distribution__live-ranking\">\n      {members?.map((member) => (\n        <RankEntry key={`rank-entry-${member.key}`} member={member} rank={currentRank[member.key]} />\n      ))}\n    </ul>\n  );\n}\n\nfunction RankEntry({ member, rank }) {\n  const onClass = getBemModifier(rank.on, 'on');\n\n  return (\n    <li className={bemClass('rank-entry', onClass, rank.position)}>\n      <Avatar name={member.name} className=\"rank-entry__avatar\" color={member.color ?? 'black'} />\n      <div className=\"rank-entry__name\">{member.name}</div>\n      <div className=\"rank-entry__progress\">\n        <span\n          className=\"rank-entry__progress-bar\"\n          style={{ width: `${rank.percentage}%`, backgroundColor: rank.on ? member.color : 'white' }}\n        />\n      </div>\n      <div className=\"rank-entry__timestamp\">{rank.value}s</div>\n    </li>\n  );\n}\n\nfunction LyricsScroller({ currentTime, lyrics }) {\n  const lyricsRef = useRef([]);\n  const [latestIndex, setLatestIndex] = useState(-1);\n\n  // If the next line is gonna start within 500ms, center it\n  useEffect(() => {\n    if (latestIndex === lyrics.length - 1) return;\n\n    if (lyrics[latestIndex + 1].startTime <= Math.trunc(currentTime * 1000) + 100) {\n      lyricsRef.current[latestIndex + 1].scrollIntoView({ behavior: 'smooth', block: 'center' });\n      setLatestIndex(latestIndex + 1);\n    }\n  }, [currentTime, lyrics, lyricsRef, latestIndex]);\n\n  return (\n    <div className=\"line-distribution__live-lyrics\">\n      <ul className=\"lyrics-entries-container\">\n        {lyrics.map((lyric, index) => {\n          const paddingClass = getBemModifier(index > latestIndex, 'padded');\n          return (\n            <li\n              key={`lyrics-${index}`}\n              ref={(el) => (lyricsRef.current[index] = el)}\n              className={bemClass('lyrics-entries-li', paddingClass)}\n            >\n              <Lyric lyric={lyric} number={index} />\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n\nfunction Lyric({ lyric, number }) {\n  return (\n    <div className=\"lyrics-entry\">\n      <div className=\"lyrics-entry__avatars\">\n        {lyric.names.map((name, index) => (\n          <Avatar\n            key={`avt-${name}-${number}-${index}`}\n            name={name}\n            color={lyric.colors[index]}\n            className={name === 'ALL' && lyric.names.length > 1 && 'lyrics-entry__avatar--all'}\n            size={name === 'ALL' && lyric.names.length > 1 && 'small'}\n          />\n        ))}\n      </div>\n      <div className=\"lyrics-entry__names\">\n        {lyric.names.map((name, index) => (\n          <span\n            key={`nms-${name}-${number}-${index}`}\n            className=\"lyrics-entry__name\"\n            style={{ color: lyric.colors[index] }}\n          >\n            {name}\n          </span>\n        ))}\n      </div>\n      <div className=\"lyrics-entry__lines\">\n        {lyric.lines.map((line, index) => (\n          <span key={`lin-${line}-${number}-${index}`} className=\"lyrics-entry__line\">\n            {line}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default LineDistribution;\n","import React, { useEffect, useState } from 'react';\n\n// Design Resources\nimport { Button, Divider, Typography } from 'antd';\n// State\nimport useDistributorState from '../../states/useDistributorState';\n// Temp\nimport sampleGroupJson from '../../utils/mock/sampleGroup.json';\n// Engine and utilities\nimport Previewer from '../../utils/distribution/previewer';\n// Components\nimport LineDistribution from './LineDistribution';\nimport { buildMockDistribution } from '../../utils';\n\nconst { Paragraph } = Typography;\n\nfunction Preview({ playerRef }) {\n  const [song] = useDistributorState('song');\n  const [parts] = useDistributorState('parts');\n  const [step, setStep] = useDistributorState('step');\n\n  const [sampleGroup] = useState(sampleGroupJson);\n  const [previewMembers, setPreviewMembers] = useState([]);\n  const [previewBars, setPreviewBars] = useState([]);\n  const [previewLyrics, setPreviewLyrics] = useState({});\n\n  useEffect(() => {\n    if (step === '3') {\n      const preview = new Previewer({\n        songTitle: song.title ?? 'Untitled',\n        allParts: song.allPartsIds.map((partId) => parts[partId].data),\n        members: sampleGroup.members,\n        distribution: buildMockDistribution(parts).data,\n      });\n      setPreviewMembers(preview.members());\n      setPreviewBars(preview.bars());\n      setPreviewLyrics(preview.lyrics());\n    }\n  }, [step, parts, song, sampleGroup.members]);\n\n  return (\n    <section className=\"preview\">\n      <h2 className=\"preview__title\">Preview</h2>\n      <Paragraph>Visualize how this songs plays.</Paragraph>\n\n      {step === '3' && previewBars.length && (\n        <LineDistribution\n          playerRef={playerRef}\n          members={previewMembers}\n          bars={previewBars}\n          lyrics={previewLyrics}\n        />\n      )}\n\n      <Divider />\n\n      <div className=\"lyrics-and-sections__action\">\n        <Button type=\"primary\" onClick={() => setStep('4')}>\n          Next Step: Song Metadata\n        </Button>\n      </div>\n    </section>\n  );\n}\n\nexport default Preview;\n","import React, { useCallback } from 'react';\n\n// Design Resources\nimport {\n  Button,\n  InputNumber,\n  Form,\n  Input,\n  Checkbox,\n  Divider,\n  Tooltip,\n  Progress,\n  Select,\n  TimePicker,\n} from 'antd';\n// State\nimport useDistributorState from '../../states/useDistributorState';\nimport { MUSIC_SCALE } from '../../utils/constants';\n\nfunction SongMetadata() {\n  const [song] = useDistributorState('song');\n  const [, setStep] = useDistributorState('step');\n\n  const onValuesChange = useCallback(\n    (data) => {\n      song.deserialize(data);\n    },\n    [song]\n  );\n\n  return (\n    <div className=\"song-metadata\">\n      <h2 className=\"song-metadata__title\">Finish Song Metadata</h2>\n\n      <Form\n        layout=\"vertical\"\n        name=\"song-metadata\"\n        initialValues={{ ...song.data, tempo: song.data.tempo || 120 }}\n        onValuesChange={onValuesChange}\n        className=\"song-metadata-form\"\n        autoComplete=\"off\"\n        preserve={false}\n      >\n        <Form.Item label=\"Video ID\" name=\"videoId\" className=\"song-metadata__form-item\">\n          <Input />\n        </Form.Item>\n\n        <div className=\"song-metadata-form__items song-metadata-form__items--2\">\n          <Form.Item label=\"Song Title\" name=\"title\" className=\"song-metadata-form__item\">\n            <Input />\n          </Form.Item>\n          <Form.Item label=\"Version\" name=\"version\" className=\"song-metadata-form__item\">\n            <Input />\n          </Form.Item>\n        </div>\n\n        <div className=\"song-metadata-form__items song-metadata-form__items--4\">\n          <Form.Item label=\"Duration\" name=\"duration\" className=\"song-metadata-form__item\">\n            <TimePicker format=\"mm:ss\" />\n          </Form.Item>\n\n          <Form.Item label=\"Tempo\" name=\"tempo\" className=\"song-metadata-form__item\">\n            <InputNumber placeholder={120} formatter={(value) => `${value} bpm`} />\n          </Form.Item>\n\n          <Form.Item label=\"Ideal Group Size\" name=\"idealGroupSize\" className=\"song-metadata-form__item\">\n            <InputNumber min={1} />\n          </Form.Item>\n\n          <Form.Item\n            label=\"Single/Title\"\n            name=\"isSingle\"\n            className=\"song-metadata-form__item\"\n            valuePropName=\"checked\"\n          >\n            <Checkbox />\n          </Form.Item>\n        </div>\n\n        <div className=\"song-metadata-form__items song-metadata-form__items--4\">\n          <Form.Item label=\"Scale\" name=\"scale\" className=\"song-metadata-form__item\">\n            <Select defaultValue=\"C\" showSearch>\n              {MUSIC_SCALE.map((chord) => (\n                <Select.Option key={chord} value={chord}>\n                  {chord}\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          <Form.Item label=\"Genre\" name=\"genre\" className=\"song-metadata-form__item\">\n            <Input />\n          </Form.Item>\n          <Form.Item label=\"Style\" name=\"style\" className=\"song-metadata-form__item\">\n            <Input />\n          </Form.Item>\n          <Form.Item label=\"Album ID\" name=\"albumId\" className=\"song-metadata-form__item\">\n            <Input disabled />\n          </Form.Item>\n        </div>\n      </Form>\n\n      <div className=\"song-metadata__actions\">\n        <Divider />\n        <Tooltip title=\"Song Completion Rate\">\n          <Progress percent={song?.completion} />\n        </Tooltip>\n        <Divider />\n        <div className=\"song-metadata__action\">\n          <Button type=\"primary\" disabled={!song?.completion} onClick={() => setStep('5')}>\n            Next Step: Save On Database\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SongMetadata;\n","import React, { useState } from 'react';\n\n// Design Resources\nimport { Button, Divider, Tooltip, Progress } from 'antd';\n// State\nimport useLoadingState from '../../states/useLoadingState';\nimport useDistributorState from '../../states/useDistributorState';\n// API\nimport API from '../../api';\n\nfunction SaveSong() {\n  const [song] = useDistributorState('song');\n  const [, setStep] = useDistributorState('step');\n  const [isSongLoading] = useLoadingState('isSongLoading');\n\n  const [success, setSuccess] = useState(false);\n\n  const onSave = async () => {\n    try {\n      await API.saveSong(song.serialize());\n      setSuccess(true);\n      setStep(0);\n    } catch (_) {}\n  };\n\n  return (\n    <div className=\"song-metadata\">\n      <h2 className=\"song-metadata__title\">Save to Database</h2>\n\n      <div className=\"song-metadata__actions\">\n        <Divider />\n        <Tooltip title=\"Song Completion Rate\">\n          <Progress percent={song?.completion} />\n        </Tooltip>\n        <Divider />\n        <div className=\"song-metadata__action\">\n          <Button type=\"primary\" disabled={isSongLoading ?? success} onClick={onSave}>\n            Save On Database\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SaveSong;\n","import React, { useRef } from 'react';\n\n// Design Resources\nimport { Layout, Divider, Collapse } from 'antd';\n\n// State\nimport useDistributorState from '../states/useDistributorState';\n// Components\nimport StepperProgress from './distributor/StepperProgress';\nimport LoadSong from './distributor/LoadSong';\nimport LyricsAndSections from './distributor/LyricsAndSections';\nimport ModalOptions from './distributor/ModalOptions';\nimport TimeAndSync from './distributor/TimeAndSync';\nimport Preview from './distributor/Preview';\nimport SongMetadata from './distributor/SongMetadata';\nimport SaveSong from './distributor/SaveSong';\n\nconst { Panel } = Collapse;\n\nfunction Distributor() {\n  const [step, setStep] = useDistributorState('step');\n  const [videoId] = useDistributorState('videoId');\n  const [song] = useDistributorState('song');\n  const [activeInstance, setActiveInstance] = useDistributorState('activeInstance');\n\n  const playerRef = useRef();\n\n  const changePanel = (key) => {\n    setStep(key);\n  };\n\n  const playVideo = () => {\n    playerRef?.current?.internalPlayer?.playVideo();\n  };\n\n  const pauseVideo = () => {\n    playerRef?.current?.internalPlayer?.pauseVideo();\n  };\n\n  const seekAndPlay = (timestamp) => {\n    playerRef?.current?.internalPlayer?.seekTo(timestamp);\n    playerRef?.current?.internalPlayer?.playVideo();\n  };\n\n  return (\n    <Layout.Content className=\"container\">\n      <main className=\"main distributor\">\n        <h1>Distributor</h1>\n        <StepperProgress currentStep={step} />\n        <Collapse accordion defaultActiveKey={0} activeKey={step} onChange={changePanel}>\n          <Panel header=\"Load Song\" key=\"0\">\n            <LoadSong />\n          </Panel>\n          <Panel header=\"Lyrics & Sections\" key=\"1\">\n            <LyricsAndSections />\n          </Panel>\n          <Panel header=\"Capture Parts\" key=\"2\">\n            {Boolean(videoId) && step === '2' ? (\n              <TimeAndSync\n                playerRef={playerRef}\n                playVideo={playVideo}\n                pauseVideo={pauseVideo}\n                seekAndPlay={seekAndPlay}\n              />\n            ) : (\n              <p>You can't see this step without a video.</p>\n            )}\n          </Panel>\n          <Panel header=\"Preview\" key=\"3\">\n            {Boolean(videoId) && step === '3' ? (\n              <Preview\n                playerRef={playerRef}\n                playVideo={playVideo}\n                pauseVideo={pauseVideo}\n                seekAndPlay={seekAndPlay}\n              />\n            ) : (\n              <p>You can't see this step without a video.</p>\n            )}\n          </Panel>\n          <Panel header=\"Song Metadata\" key=\"4\">\n            {song && step === '4' ? <SongMetadata /> : <p>You can't see this step without a loaded song.</p>}\n          </Panel>\n          <Panel header=\"Save\" key=\"5\">\n            {song ? <SaveSong /> : <p>You can't see this step without a loaded song.</p>}\n          </Panel>\n        </Collapse>\n\n        <Divider />\n\n        <ModalOptions activeInstance={activeInstance} setActiveInstance={setActiveInstance} />\n      </main>\n    </Layout.Content>\n  );\n}\n\nexport default Distributor;\n","import React, { useState, useCallback, useEffect, useRef, Fragment } from 'react';\nimport { useHistory } from 'react-router-dom';\n\n// Design Resources\nimport { Button, Layout, Card, Tabs, Affix, Table } from 'antd';\nimport { EditOutlined, FileAddOutlined, YoutubeOutlined } from '@ant-design/icons';\n// State\nimport useGlobalState from '../states/useGlobalState';\nimport useDistributorState from '../states/useDistributorState';\n// Store\nimport store from '../services/store';\n// Utilities\nimport { serializeKey } from '../utils/distributor';\n// Components\nimport Member from './Member';\nimport LoadingContainer from './global/LoadingContainer';\nimport { DISTRIBUTION_NAME } from '../utils/constants';\nconst { TabPane } = Tabs;\n\nfunction Groups() {\n  const [groups, setGroups] = useState([]);\n  const [members, setMembers] = useState({});\n  const groupsRefs = useRef([]);\n\n  useEffect(() => {\n    async function loadContent() {\n      setMembers(await store.getCollection('members', true));\n      setGroups(await store.getCollection('groups'));\n    }\n    loadContent();\n  }, []);\n\n  return (\n    <Layout.Content className=\"container\">\n      <main className=\"main groups\">\n        <h1>Groups</h1>\n        <LoadingContainer waitFor=\"group\" noResults={!groups.length}>\n          <div className=\"groups-page\">\n            <ul className=\"group-card-containers\">\n              {groups.map((group, i) => (\n                <li key={group.id} ref={(el) => (groupsRefs.current[i] = el)}>\n                  <Group group={group} members={members} />\n                </li>\n              ))}\n            </ul>\n            <aside>\n              <Affix offsetTop={120}>\n                <ul className=\"group-quick-links\">\n                  {groups.map((group, i) => (\n                    <li key={`quick-link-${group.id}`} className=\"group-quick-links__link\">\n                      <Button\n                        type=\"link\"\n                        size=\"small\"\n                        onClick={() => groupsRefs.current[i].scrollIntoView({ behavior: 'smooth' })}\n                      >\n                        {group.name}\n                      </Button>\n                    </li>\n                  ))}\n                </ul>\n              </Affix>\n            </aside>\n          </div>\n        </LoadingContainer>\n      </main>\n    </Layout.Content>\n  );\n}\n\nfunction Group({ group, members }) {\n  const history = useHistory();\n  const [, setActiveGroup] = useGlobalState('activeGroup');\n  const [, setActiveGroupSongs] = useGlobalState('activeGroupSongs');\n  const [, setActiveMembers] = useGlobalState('activeMembers');\n  const [, setLineDistribution] = useGlobalState('lineDistribution');\n  const [, setLoadedLineDistribution] = useGlobalState('loadedLineDistribution');\n  const [, setIsFullyLoaded] = useDistributorState('isFullyLoaded');\n\n  const [tab, setTab] = useState('1');\n  const [groupMembers, setGroupMembers] = useState({});\n\n  const activateDistribution = useCallback(\n    async (distribution, isEdit = false) => {\n      setIsFullyLoaded(false);\n      setActiveMembers(null);\n      setActiveGroup(group);\n\n      const groupDistributionsResponse = await store.getCollection('distributions', null, {\n        groupId: group.id,\n      });\n      const activeGroupSongs = groupDistributionsResponse.reduce((acc, dist) => {\n        acc[dist.songId] = true;\n        return acc;\n      }, {});\n      setActiveGroupSongs(activeGroupSongs);\n\n      if (distribution) {\n        const distributionData = await store.getRecord('distribution-data', distribution.id);\n        setLoadedLineDistribution(distribution);\n        setLineDistribution(distributionData.assignedParts);\n\n        const route = isEdit ? 'distribute' : 'distribution';\n        history.push(`/${route}/${distribution.id}`);\n        return;\n      }\n\n      setLoadedLineDistribution({});\n      setLineDistribution({});\n      history.push(`/distribute/new`);\n    },\n    [\n      history,\n      setActiveGroup,\n      setActiveMembers,\n      setLineDistribution,\n      setIsFullyLoaded,\n      setLoadedLineDistribution,\n      group,\n      setActiveGroupSongs,\n    ]\n  );\n\n  useEffect(() => {\n    setGroupMembers(\n      group.membersIds.reduce((acc, memberId) => {\n        const key = serializeKey('member', memberId);\n        const member = members[key] ?? {};\n        acc[key] = member;\n        return acc;\n      }, {})\n    );\n  }, [members, group.membersIds]);\n\n  const onChangeTab = (tab1) => {\n    setTab(tab1);\n  };\n\n  return (\n    <Card\n      title={`${group.name}  ${group.debutYear}  ${group.disbandmentYear}`}\n      size=\"small\"\n      extra={\n        <Button type=\"default\" size=\"small\" icon={<EditOutlined />}>\n          Edit\n        </Button>\n      }\n      className=\"group-card\"\n    >\n      <Tabs defaultActiveKey=\"1\" size=\"small\" className=\"group-card__tabs\" onChange={onChangeTab}>\n        <TabPane tab=\"Members\" key=\"1\">\n          <ul className=\"group-card__members\">\n            {Object.values(groupMembers).map((member) => {\n              return (\n                <Member\n                  key={member.key}\n                  member={member}\n                  showName\n                  showPosition\n                  className=\"group-card__member\"\n                />\n              );\n            })}\n          </ul>\n        </TabPane>\n        <TabPane tab=\"Albums\" key=\"2\">\n          Albums will come here.\n        </TabPane>\n        <TabPane tab=\"Distributions\" key=\"3\">\n          <Button type=\"default\" icon={<FileAddOutlined />} onClick={() => activateDistribution()}>\n            Create a Distribution for this group\n          </Button>\n          {tab === '3' && (\n            <GroupDistributions\n              group={group}\n              groupMembers={groupMembers}\n              activateDistribution={activateDistribution}\n            />\n          )}\n        </TabPane>\n      </Tabs>\n    </Card>\n  );\n}\n\nfunction GroupDistributions({ group, groupMembers, activateDistribution }) {\n  const [groupDistributions, setGroupDistributions] = useState(null);\n  const [groupedDistributions, setGroupedDistributions] = useState([]);\n\n  useEffect(() => {\n    async function loadContent() {\n      setGroupDistributions(\n        await store.getCollection('distributions', null, {\n          groupId: group.id,\n        })\n      );\n    }\n\n    if (!groupDistributions) {\n      loadContent();\n    }\n  }, [group.id, groupDistributions]);\n\n  useEffect(() => {\n    if (groupDistributions) {\n      const grouped = groupDistributions.reduce((acc, dist) => {\n        const groupKey = dist.name in DISTRIBUTION_NAME ? dist.name : 'UNCATEGORIZED';\n\n        if (acc[groupKey] === undefined) acc[groupKey] = [];\n\n        acc[groupKey].push(dist);\n        return acc;\n      }, {});\n\n      const groupedSections = Object.values(DISTRIBUTION_NAME).reduce((acc, name) => {\n        if (grouped[name]) {\n          acc.push({\n            sectionTitle: name,\n            distributions: grouped[name],\n          });\n        }\n\n        return acc;\n      }, []);\n\n      if (grouped.UNCATEGORIZED) {\n        groupedSections.push({\n          sectionTitle: 'UNCATEGORIZED',\n          distributions: grouped.UNCATEGORIZED,\n        });\n      }\n\n      setGroupedDistributions(groupedSections);\n    }\n  }, [groupDistributions, setGroupedDistributions]);\n\n  if (!groupDistributions) {\n    return (\n      <div>\n        <p>Distributions not loaded yet.</p>\n      </div>\n    );\n  }\n\n  const columns = [\n    {\n      title: 'Title',\n      dataIndex: 'songTitle',\n      className: 'group-distribution-table__title',\n    },\n    {\n      title: 'Snippet',\n      dataIndex: 'id',\n      className: 'group-distribution-table__snippet',\n      render: (_, data) => <GroupDistributionSnippet distribution={data} groupMembers={groupMembers} />,\n    },\n    {\n      title: 'Edit',\n      dataIndex: 'id',\n      className: 'group-distribution-table__button',\n      render: (_, data) => (\n        <Button\n          type=\"default\"\n          size=\"small\"\n          icon={<EditOutlined />}\n          onClick={() => activateDistribution(data, true)}\n        >\n          Edit\n        </Button>\n      ),\n    },\n    {\n      title: 'View',\n      dataIndex: 'id',\n      className: 'group-distribution-table__button',\n      render: (_, data) => (\n        <Button\n          type=\"primary\"\n          size=\"small\"\n          icon={<YoutubeOutlined />}\n          onClick={() => activateDistribution(data)}\n        >\n          View\n        </Button>\n      ),\n    },\n  ];\n\n  return (\n    <Fragment>\n      {groupedDistributions &&\n        groupedDistributions?.map((gDist) => (\n          <Fragment key={`${group.id}-${gDist.sectionTitle}`}>\n            <h3>{gDist.sectionTitle}</h3>\n            <Table\n              dataSource={gDist.distributions}\n              columns={columns}\n              showHeader={false}\n              size=\"small\"\n              tableLayout=\"auto\"\n            />\n          </Fragment>\n        ))}\n    </Fragment>\n  );\n}\n\nfunction GroupDistributionSnippet({ distribution, groupMembers }) {\n  return (\n    <ul className=\"group-distribution-snippet\">\n      {Object.entries(groupMembers).map(([memberKey, memberData]) => {\n        const progress = distribution?.stats[memberKey]?.absoluteProgress ?? 0;\n        return (\n          <span\n            key={`${distribution.id}${memberKey}`}\n            style={{ width: `${progress}%`, backgroundColor: memberData.color }}\n          >\n            {progress > 5 ? `${progress}%` : ''}\n          </span>\n        );\n      })}\n    </ul>\n  );\n}\n\nexport default Groups;\n","import React from 'react';\n\n// Design Resources\nimport { Layout } from 'antd';\n\n// Components\n\nfunction Home() {\n  return (\n    <Layout.Content className=\"container\">\n      <main className=\"main home\">\n        <h1>Home</h1>\n        <section className=\"section\">Content comes here</section>\n      </main>\n    </Layout.Content>\n  );\n}\n\nexport default Home;\n","import { auth } from '../services/firebase';\n\nexport function signUp(email, password) {\n  return auth().createUserWithEmailAndPassword(email, password);\n}\n\nexport function signIn(email, password) {\n  return auth().signInWithEmailAndPassword(email, password);\n}\n","import React, { useState } from 'react';\n\n// Design Resources\nimport { Layout, Button, Form, Input, Alert } from 'antd';\n\n// API\nimport { signIn } from '../api/auth';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 0, span: 8 },\n};\n\nfunction Login() {\n  const [error, setError] = useState(null);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const onValuesChange = (data) => {\n    if (data.email) {\n      setEmail(data.email.trim());\n    }\n    if (data.password) {\n      setPassword(data.password.trim());\n    }\n  };\n\n  const onHandleSubmit = async () => {\n    setError('');\n    try {\n      await signIn(email, password);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  return (\n    <Layout.Content className=\"container\">\n      <h1 className=\"login__title\">Enter the Squirrel Zone</h1>\n      {Boolean(error) && <Alert message=\"Error\" description={error} type=\"error\" showIcon />}\n      <Form\n        {...layout}\n        layout=\"horizontal\"\n        name=\"sign-in\"\n        onValuesChange={onValuesChange}\n        className=\"login__form\"\n        autoComplete=\"off\"\n      >\n        <Form.Item {...tailLayout} label=\"E-mail\" name=\"email\" className=\"login__form-item\">\n          <Input type=\"email\" />\n        </Form.Item>\n        <Form.Item {...tailLayout} label=\"Password\" name=\"password\" className=\"login__form-item\">\n          <Input type=\"password\" />\n        </Form.Item>\n        <div className=\"login__form-action\">\n          <Button type=\"primary\" onClick={onHandleSubmit}>\n            Login\n          </Button>\n        </div>\n      </Form>\n    </Layout.Content>\n  );\n}\n\nexport default Login;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\n\n// Design Resources\nimport { Layout } from 'antd';\n// State\nimport useGlobalState from '../states/useGlobalState';\nimport useDistributorState from '../states/useDistributorState';\n// Utilities\nimport Previewer from '../utils/distribution/previewer';\nimport { loadActiveMembers, loadSongState } from '../states/functions';\n// Components\nimport LineDistribution from './distributor/LineDistribution';\nimport LoadingContainer from './global/LoadingContainer';\n\nfunction Distribution() {\n  const history = useHistory();\n  const [activeGroup] = useGlobalState('activeGroup');\n  const [activeMembers] = useGlobalState('activeMembers');\n  const [song] = useDistributorState('song');\n  const [isFullyLoaded] = useDistributorState('isFullyLoaded');\n  const [loadedLineDistribution] = useGlobalState('loadedLineDistribution');\n  const [lineDistribution] = useGlobalState('lineDistribution');\n  const [parts] = useDistributorState('parts');\n\n  const [previewMembers, setPreviewMembers] = useState([]);\n  const [previewBars, setPreviewBars] = useState([]);\n  const [previewLyrics, setPreviewLyrics] = useState({});\n\n  // Run on mount\n  useEffect(() => {\n    // Redirect if there is no active group\n    if (!activeGroup) {\n      history.push('/groups');\n      return;\n    }\n\n    // Load members\n    async function loadContent() {\n      await loadSongState(loadedLineDistribution.songId);\n      await loadActiveMembers(activeGroup);\n    }\n    loadContent();\n  }, []);\n\n  useEffect(() => {\n    if (isFullyLoaded && song && activeMembers && parts && Object.keys(parts).length && lineDistribution) {\n      const preview = new Previewer({\n        songTitle: song.title,\n        allParts: song.allPartsIds.map((partId) => parts[partId].data),\n        members: activeMembers,\n        distribution: lineDistribution,\n        framerate: 30,\n      });\n      setPreviewMembers(preview.members());\n      setPreviewBars(preview.bars());\n      setPreviewLyrics(preview.lyrics());\n    }\n  }, [isFullyLoaded, parts, song, activeMembers, lineDistribution]);\n\n  const playerRef = useRef();\n\n  return (\n    <LoadingContainer forceLoading={!previewBars.length}>\n      <Layout.Content className=\"container\">\n        <main className=\"main distribution\">\n          <h1>Line Distribution{song ? `: ${song.title}` : ''}</h1>\n          <LineDistribution\n            playerRef={playerRef}\n            members={previewMembers}\n            bars={previewBars}\n            lyrics={previewLyrics}\n          />\n        </main>\n      </Layout.Content>\n    </LoadingContainer>\n  );\n}\n\nexport default Distribution;\n","import { Layout } from 'antd';\nimport React from 'react';\n\nfunction Loading({ className = '' }) {\n  return (\n    <Layout.Content className={`loading ${className}`}>\n      <svg\n        className=\"loading-logo__svg\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"400\"\n        height=\"400\"\n        overflow=\"visible\"\n      >\n        <path\n          className=\"loading-logo__black\"\n          d=\"M201.3 0H200C89.5 0 0 89.5 0 200s89.5 200 200 200h1.3c109.9-.7 198.7-90 198.7-200S311.2.7 201.3 0zm23.5 61.1c.9-.4 1.8-.9 2.7-1.3C235.1 56.4 244 55 253 55c17 0 33.9 5.1 41.5 11.4 11.6 9.7 18.4 37 1.2 41.7-2.4.7-4.7.9-6.7.9-9 0-14.4-5.5-16.7-8.6.2-.5.3-1.1.5-1.8.1-.4.2-.7.3-1.1l.3-1.2c.2-.8.6-1.9 1.1-3.2.5-1.3 1.2-2.7 2.1-4.2.2-.4.5-.7.7-1.1.3-.4.6-.7.8-1l.5-.5.2-.2c.1-.1.2-.1.3-.2.2-.1.3-.3.5-.4.2-.1.4-.3.6-.4.4-.3.8-.5 1.2-.7l.6-.3.6-.3c.9-.3 1.9-.5 2.9-.6 1-.1 2 0 3 .2.9.2 1.8.5 2.5 1s1.2 1 1.5 1.7c.2.3.3.7.4 1.1 0 .2.1.4.1.7v.7c0 1.8-.6 3.7-1.5 4.9-.2.3-.5.6-.8.9-.3.3-.6.5-1 .8-.7.5-1.3.8-1.9.9-.4.1-.7.2-1 .2H286.1c-.3 0-.7-.1-1.1-.3-.8-.3-1.4-.8-2-1.1-.5-.3-1-.5-1.4-.6-.4-.1-.8 0-1 .1-.3.1-.5.3-.7.8-.2.5-.2 1.2.1 2.2.2.5.4 1.1.8 1.7.4.6.9 1.3 1.7 1.8.4.3.9.6 1.4.8l.9.3c.3.1.6.2.9.2.6.1 1.2.1 1.8.1.6 0 1.3-.1 1.9-.3 1.1-.3 2.3-.8 3.4-1.5.5-.3 1.1-.7 1.6-1.2.3-.2.5-.4.7-.7.2-.3.5-.5.7-.8 1.9-2.2 3.1-5.1 3.2-8.2 0-.8 0-1.6-.1-2.4 0-.4-.1-.8-.2-1.2-.1-.4-.2-.8-.3-1.3-.3-.8-.7-1.7-1.2-2.4-.5-.8-1.1-1.5-1.8-2-1.4-1.2-3-1.9-4.6-2.3-1.6-.4-3.2-.5-4.7-.4-1.5.1-3 .4-4.4.9-.4.1-.7.3-1.1.4-.3.2-.7.3-1 .5-.2.1-.3.2-.5.3l-.5.3-.9.6c-2.3 1.7-3.9 3.8-5 5.8s-1.8 3.8-2.3 5.3c-.5 1.5-.8 2.7-1 3.5-.2.8-.3 1.6-.4 2.3-.1.7-.2 1.4-.2 2 0 .2 0 .4-.1.6v.2c-.1.9-.1 1.7-.1 2.4 0 .6.1 1 .1 1.5v.4l-4.5-6.5-35.1-9.9-7.8 2.5v-7.3c3.7-.7 7-4 8-8.3 1.3-5.7-1.6-11.2-6.5-12.4-.4-.1-.8-.1-1.2-.2.9-.2 2-.8 3.2-1.4zm42.3 239.5l-65.8-90.1v-159H200c-.9 0-1.7.1-2.5.2-.9.1-1.7.3-2.5.6-6.3 1.8-10.8 6.3-10.8 6.3v7.2c-1.1-.5-2.3-.6-3.5-.4-3.5.8-5.6 5-4.6 9.3 1 4.3 4.6 7.1 8 6.4v13.2l-.7-.2-9.7-3.1-33.5 9.4-35.4 50.5 34.9 45.3h18.4l-21.7-42 15.8-20.3 26.7 40.6L86 308.6l49.5-8 59.4-81.3 2.5-3.5 2.5-3.5 1.3-1.8v167.6h-1.3c-98.4 0-178.2-79.8-178.2-178.2 0-98.4 79.8-178.2 178.2-178.2h1.3v29.8c8.4-.3 17.2-3.3 17.2-3.3V65.8c.7-.3 1.5-.5 2.3-.5.4 0 .8 0 1.1.1 3.5.8 5.6 5 4.6 9.3-.9 3.8-3.9 6.5-7 6.5-.4 0-.7 0-1.1-.1v13.2l10.4-3.3 33.5 9.4 6.4 9.1 2 2.8 2 2.8 25 35.7-34.9 45.3h-18.4l21.7-42-4.4-5.6-1.7-2.2-1.7-2.2-8-10.3-26.7 40.6 4.7 6.7 1.5 2.1 1.5 2.1 85.4 123-49.5-7.7zm-34.8-122.5c-.6.6-1.3 1.1-1.9 1.7l-3.5-5.1 23.8-36.2 6.6 8.4c-.4.8-.9 1.6-1.3 2.4-6.8 11.6-15.3 21.2-23.7 28.8z\"\n        />\n        <path\n          className=\"loading-logo__blue\"\n          d=\"M201.3 0H200C89.5 0 0 89.5 0 200s89.5 200 200 200h1.3c109.9-.7 198.7-90 198.7-200S311.2.7 201.3 0zm23.5 61.1c.9-.4 1.8-.9 2.7-1.3C235.1 56.4 244 55 253 55c17 0 33.9 5.1 41.5 11.4 11.6 9.7 18.4 37 1.2 41.7-2.4.7-4.7.9-6.7.9-9 0-14.4-5.5-16.7-8.6.2-.5.3-1.1.5-1.8.1-.4.2-.7.3-1.1l.3-1.2c.2-.8.6-1.9 1.1-3.2.5-1.3 1.2-2.7 2.1-4.2.2-.4.5-.7.7-1.1.3-.4.6-.7.8-1l.5-.5.2-.2c.1-.1.2-.1.3-.2.2-.1.3-.3.5-.4.2-.1.4-.3.6-.4.4-.3.8-.5 1.2-.7l.6-.3.6-.3c.9-.3 1.9-.5 2.9-.6 1-.1 2 0 3 .2.9.2 1.8.5 2.5 1s1.2 1 1.5 1.7c.2.3.3.7.4 1.1 0 .2.1.4.1.7v.7c0 1.8-.6 3.7-1.5 4.9-.2.3-.5.6-.8.9-.3.3-.6.5-1 .8-.7.5-1.3.8-1.9.9-.4.1-.7.2-1 .2H286.1c-.3 0-.7-.1-1.1-.3-.8-.3-1.4-.8-2-1.1-.5-.3-1-.5-1.4-.6-.4-.1-.8 0-1 .1-.3.1-.5.3-.7.8-.2.5-.2 1.2.1 2.2.2.5.4 1.1.8 1.7.4.6.9 1.3 1.7 1.8.4.3.9.6 1.4.8l.9.3c.3.1.6.2.9.2.6.1 1.2.1 1.8.1.6 0 1.3-.1 1.9-.3 1.1-.3 2.3-.8 3.4-1.5.5-.3 1.1-.7 1.6-1.2.3-.2.5-.4.7-.7.2-.3.5-.5.7-.8 1.9-2.2 3.1-5.1 3.2-8.2 0-.8 0-1.6-.1-2.4 0-.4-.1-.8-.2-1.2-.1-.4-.2-.8-.3-1.3-.3-.8-.7-1.7-1.2-2.4-.5-.8-1.1-1.5-1.8-2-1.4-1.2-3-1.9-4.6-2.3-1.6-.4-3.2-.5-4.7-.4-1.5.1-3 .4-4.4.9-.4.1-.7.3-1.1.4-.3.2-.7.3-1 .5-.2.1-.3.2-.5.3l-.5.3-.9.6c-2.3 1.7-3.9 3.8-5 5.8s-1.8 3.8-2.3 5.3c-.5 1.5-.8 2.7-1 3.5-.2.8-.3 1.6-.4 2.3-.1.7-.2 1.4-.2 2 0 .2 0 .4-.1.6v.2c-.1.9-.1 1.7-.1 2.4 0 .6.1 1 .1 1.5v.4l-4.5-6.5-35.1-9.9-7.8 2.5v-7.3c3.7-.7 7-4 8-8.3 1.3-5.7-1.6-11.2-6.5-12.4-.4-.1-.8-.1-1.2-.2.9-.2 2-.8 3.2-1.4zm42.3 239.5l-65.8-90.1v-159H200c-.9 0-1.7.1-2.5.2-.9.1-1.7.3-2.5.6-6.3 1.8-10.8 6.3-10.8 6.3v7.2c-1.1-.5-2.3-.6-3.5-.4-3.5.8-5.6 5-4.6 9.3 1 4.3 4.6 7.1 8 6.4v13.2l-.7-.2-9.7-3.1-33.5 9.4-35.4 50.5 34.9 45.3h18.4l-21.7-42 15.8-20.3 26.7 40.6L86 308.6l49.5-8 59.4-81.3 2.5-3.5 2.5-3.5 1.3-1.8v167.6h-1.3c-98.4 0-178.2-79.8-178.2-178.2 0-98.4 79.8-178.2 178.2-178.2h1.3v29.8c8.4-.3 17.2-3.3 17.2-3.3V65.8c.7-.3 1.5-.5 2.3-.5.4 0 .8 0 1.1.1 3.5.8 5.6 5 4.6 9.3-.9 3.8-3.9 6.5-7 6.5-.4 0-.7 0-1.1-.1v13.2l10.4-3.3 33.5 9.4 6.4 9.1 2 2.8 2 2.8 25 35.7-34.9 45.3h-18.4l21.7-42-4.4-5.6-1.7-2.2-1.7-2.2-8-10.3-26.7 40.6 4.7 6.7 1.5 2.1 1.5 2.1 85.4 123-49.5-7.7zm-34.8-122.5c-.6.6-1.3 1.1-1.9 1.7l-3.5-5.1 23.8-36.2 6.6 8.4c-.4.8-.9 1.6-1.3 2.4-6.8 11.6-15.3 21.2-23.7 28.8z\"\n        />\n        <path\n          className=\"loading-logo__cyan\"\n          d=\"M201.3 0H200C89.5 0 0 89.5 0 200s89.5 200 200 200h1.3c109.9-.7 198.7-90 198.7-200S311.2.7 201.3 0zm23.5 61.1c.9-.4 1.8-.9 2.7-1.3C235.1 56.4 244 55 253 55c17 0 33.9 5.1 41.5 11.4 11.6 9.7 18.4 37 1.2 41.7-2.4.7-4.7.9-6.7.9-9 0-14.4-5.5-16.7-8.6.2-.5.3-1.1.5-1.8.1-.4.2-.7.3-1.1l.3-1.2c.2-.8.6-1.9 1.1-3.2.5-1.3 1.2-2.7 2.1-4.2.2-.4.5-.7.7-1.1.3-.4.6-.7.8-1l.5-.5.2-.2c.1-.1.2-.1.3-.2.2-.1.3-.3.5-.4.2-.1.4-.3.6-.4.4-.3.8-.5 1.2-.7l.6-.3.6-.3c.9-.3 1.9-.5 2.9-.6 1-.1 2 0 3 .2.9.2 1.8.5 2.5 1s1.2 1 1.5 1.7c.2.3.3.7.4 1.1 0 .2.1.4.1.7v.7c0 1.8-.6 3.7-1.5 4.9-.2.3-.5.6-.8.9-.3.3-.6.5-1 .8-.7.5-1.3.8-1.9.9-.4.1-.7.2-1 .2H286.1c-.3 0-.7-.1-1.1-.3-.8-.3-1.4-.8-2-1.1-.5-.3-1-.5-1.4-.6-.4-.1-.8 0-1 .1-.3.1-.5.3-.7.8-.2.5-.2 1.2.1 2.2.2.5.4 1.1.8 1.7.4.6.9 1.3 1.7 1.8.4.3.9.6 1.4.8l.9.3c.3.1.6.2.9.2.6.1 1.2.1 1.8.1.6 0 1.3-.1 1.9-.3 1.1-.3 2.3-.8 3.4-1.5.5-.3 1.1-.7 1.6-1.2.3-.2.5-.4.7-.7.2-.3.5-.5.7-.8 1.9-2.2 3.1-5.1 3.2-8.2 0-.8 0-1.6-.1-2.4 0-.4-.1-.8-.2-1.2-.1-.4-.2-.8-.3-1.3-.3-.8-.7-1.7-1.2-2.4-.5-.8-1.1-1.5-1.8-2-1.4-1.2-3-1.9-4.6-2.3-1.6-.4-3.2-.5-4.7-.4-1.5.1-3 .4-4.4.9-.4.1-.7.3-1.1.4-.3.2-.7.3-1 .5-.2.1-.3.2-.5.3l-.5.3-.9.6c-2.3 1.7-3.9 3.8-5 5.8s-1.8 3.8-2.3 5.3c-.5 1.5-.8 2.7-1 3.5-.2.8-.3 1.6-.4 2.3-.1.7-.2 1.4-.2 2 0 .2 0 .4-.1.6v.2c-.1.9-.1 1.7-.1 2.4 0 .6.1 1 .1 1.5v.4l-4.5-6.5-35.1-9.9-7.8 2.5v-7.3c3.7-.7 7-4 8-8.3 1.3-5.7-1.6-11.2-6.5-12.4-.4-.1-.8-.1-1.2-.2.9-.2 2-.8 3.2-1.4zm42.3 239.5l-65.8-90.1v-159H200c-.9 0-1.7.1-2.5.2-.9.1-1.7.3-2.5.6-6.3 1.8-10.8 6.3-10.8 6.3v7.2c-1.1-.5-2.3-.6-3.5-.4-3.5.8-5.6 5-4.6 9.3 1 4.3 4.6 7.1 8 6.4v13.2l-.7-.2-9.7-3.1-33.5 9.4-35.4 50.5 34.9 45.3h18.4l-21.7-42 15.8-20.3 26.7 40.6L86 308.6l49.5-8 59.4-81.3 2.5-3.5 2.5-3.5 1.3-1.8v167.6h-1.3c-98.4 0-178.2-79.8-178.2-178.2 0-98.4 79.8-178.2 178.2-178.2h1.3v29.8c8.4-.3 17.2-3.3 17.2-3.3V65.8c.7-.3 1.5-.5 2.3-.5.4 0 .8 0 1.1.1 3.5.8 5.6 5 4.6 9.3-.9 3.8-3.9 6.5-7 6.5-.4 0-.7 0-1.1-.1v13.2l10.4-3.3 33.5 9.4 6.4 9.1 2 2.8 2 2.8 25 35.7-34.9 45.3h-18.4l21.7-42-4.4-5.6-1.7-2.2-1.7-2.2-8-10.3-26.7 40.6 4.7 6.7 1.5 2.1 1.5 2.1 85.4 123-49.5-7.7zm-34.8-122.5c-.6.6-1.3 1.1-1.9 1.7l-3.5-5.1 23.8-36.2 6.6 8.4c-.4.8-.9 1.6-1.3 2.4-6.8 11.6-15.3 21.2-23.7 28.8z\"\n        />\n        <path\n          className=\"loading-logo__white\"\n          d=\"M201.3 0H200C89.5 0 0 89.5 0 200s89.5 200 200 200h1.3c109.9-.7 198.7-90 198.7-200S311.2.7 201.3 0zm23.5 61.1c.9-.4 1.8-.9 2.7-1.3C235.1 56.4 244 55 253 55c17 0 33.9 5.1 41.5 11.4 11.6 9.7 18.4 37 1.2 41.7-2.4.7-4.7.9-6.7.9-9 0-14.4-5.5-16.7-8.6.2-.5.3-1.1.5-1.8.1-.4.2-.7.3-1.1l.3-1.2c.2-.8.6-1.9 1.1-3.2.5-1.3 1.2-2.7 2.1-4.2.2-.4.5-.7.7-1.1.3-.4.6-.7.8-1l.5-.5.2-.2c.1-.1.2-.1.3-.2.2-.1.3-.3.5-.4.2-.1.4-.3.6-.4.4-.3.8-.5 1.2-.7l.6-.3.6-.3c.9-.3 1.9-.5 2.9-.6 1-.1 2 0 3 .2.9.2 1.8.5 2.5 1s1.2 1 1.5 1.7c.2.3.3.7.4 1.1 0 .2.1.4.1.7v.7c0 1.8-.6 3.7-1.5 4.9-.2.3-.5.6-.8.9-.3.3-.6.5-1 .8-.7.5-1.3.8-1.9.9-.4.1-.7.2-1 .2H286.1c-.3 0-.7-.1-1.1-.3-.8-.3-1.4-.8-2-1.1-.5-.3-1-.5-1.4-.6-.4-.1-.8 0-1 .1-.3.1-.5.3-.7.8-.2.5-.2 1.2.1 2.2.2.5.4 1.1.8 1.7.4.6.9 1.3 1.7 1.8.4.3.9.6 1.4.8l.9.3c.3.1.6.2.9.2.6.1 1.2.1 1.8.1.6 0 1.3-.1 1.9-.3 1.1-.3 2.3-.8 3.4-1.5.5-.3 1.1-.7 1.6-1.2.3-.2.5-.4.7-.7.2-.3.5-.5.7-.8 1.9-2.2 3.1-5.1 3.2-8.2 0-.8 0-1.6-.1-2.4 0-.4-.1-.8-.2-1.2-.1-.4-.2-.8-.3-1.3-.3-.8-.7-1.7-1.2-2.4-.5-.8-1.1-1.5-1.8-2-1.4-1.2-3-1.9-4.6-2.3-1.6-.4-3.2-.5-4.7-.4-1.5.1-3 .4-4.4.9-.4.1-.7.3-1.1.4-.3.2-.7.3-1 .5-.2.1-.3.2-.5.3l-.5.3-.9.6c-2.3 1.7-3.9 3.8-5 5.8s-1.8 3.8-2.3 5.3c-.5 1.5-.8 2.7-1 3.5-.2.8-.3 1.6-.4 2.3-.1.7-.2 1.4-.2 2 0 .2 0 .4-.1.6v.2c-.1.9-.1 1.7-.1 2.4 0 .6.1 1 .1 1.5v.4l-4.5-6.5-35.1-9.9-7.8 2.5v-7.3c3.7-.7 7-4 8-8.3 1.3-5.7-1.6-11.2-6.5-12.4-.4-.1-.8-.1-1.2-.2.9-.2 2-.8 3.2-1.4zm42.3 239.5l-65.8-90.1v-159H200c-.9 0-1.7.1-2.5.2-.9.1-1.7.3-2.5.6-6.3 1.8-10.8 6.3-10.8 6.3v7.2c-1.1-.5-2.3-.6-3.5-.4-3.5.8-5.6 5-4.6 9.3 1 4.3 4.6 7.1 8 6.4v13.2l-.7-.2-9.7-3.1-33.5 9.4-35.4 50.5 34.9 45.3h18.4l-21.7-42 15.8-20.3 26.7 40.6L86 308.6l49.5-8 59.4-81.3 2.5-3.5 2.5-3.5 1.3-1.8v167.6h-1.3c-98.4 0-178.2-79.8-178.2-178.2 0-98.4 79.8-178.2 178.2-178.2h1.3v29.8c8.4-.3 17.2-3.3 17.2-3.3V65.8c.7-.3 1.5-.5 2.3-.5.4 0 .8 0 1.1.1 3.5.8 5.6 5 4.6 9.3-.9 3.8-3.9 6.5-7 6.5-.4 0-.7 0-1.1-.1v13.2l10.4-3.3 33.5 9.4 6.4 9.1 2 2.8 2 2.8 25 35.7-34.9 45.3h-18.4l21.7-42-4.4-5.6-1.7-2.2-1.7-2.2-8-10.3-26.7 40.6 4.7 6.7 1.5 2.1 1.5 2.1 85.4 123-49.5-7.7zm-34.8-122.5c-.6.6-1.3 1.1-1.9 1.7l-3.5-5.1 23.8-36.2 6.6 8.4c-.4.8-.9 1.6-1.3 2.4-6.8 11.6-15.3 21.2-23.7 28.8z\"\n        />\n      </svg>\n    </Layout.Content>\n  );\n}\n\nexport default Loading;\n","import React, { useCallback, useEffect } from 'react';\n\n// Design Resources\nimport { notification } from 'antd';\n// State\nimport useGlobalState from '../../states/useGlobalState';\n\nconst openNotification = ({ message, description, type = 'info' }, onClose) => {\n  notification[type ?? 'info']({\n    message: message ?? 'I suspect that...',\n    description: description ?? 'Something wrong might not be right',\n    duration: type === 'error' ? 0 : 10,\n    onClose: onClose,\n    placement: 'bottomLeft',\n  });\n};\n\nfunction Notification() {\n  const [notification, setNotification] = useGlobalState('notification');\n\n  const onClose = useCallback(() => {\n    setNotification({ message: null, description: null, type: 'info' });\n  }, [setNotification]);\n\n  useEffect(() => {\n    if (notification?.message) {\n      openNotification(notification, onClose);\n    }\n  }, [notification, onClose]);\n\n  return <span></span>;\n}\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport { HashRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\n\n// Design Resources\nimport { Layout } from 'antd';\n\n// Components\nimport Header from './global/Header';\n\n// Firebase\nimport { auth } from '../services/firebase';\n\n// Pages\nimport Admin from './Admin';\nimport Creator from './Creator';\nimport Distribute from './Distribute';\nimport Distributor from './Distributor';\nimport Groups from './Groups';\nimport Home from './Home';\nimport Login from './Login';\nimport Distribution from './Distribution';\n// Other Components\nimport Loading from './global/Loading';\nimport Notification from './global/Notification';\n\nfunction PrivateRoute({ component: Component, authenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        authenticated === true ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n        )\n      }\n    />\n  );\n}\n\nfunction PublicRoute({ component: Component, authenticated, ...rest }) {\n  const fromPath = rest?.location?.state?.from?.pathname ?? '/';\n  return (\n    <Route\n      {...rest}\n      render={(props) => (authenticated === false ? <Component {...props} /> : <Redirect to={fromPath} />)}\n    />\n  );\n}\n\nfunction App() {\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  useEffect(() => {\n    auth().onAuthStateChanged((user) => {\n      if (user) {\n        setIsLoading(false);\n        setIsAuthenticated(true);\n      } else {\n        setIsLoading(false);\n        setIsAuthenticated(false);\n      }\n    });\n  });\n\n  return (\n    <Layout className=\"app\">\n      <Router>\n        <Header isAuthenticated={isAuthenticated} />\n        {isLoading ? (\n          <Loading />\n        ) : (\n          <Switch>\n            <Route exact path=\"/\" component={Home}></Route>\n            <PrivateRoute path=\"/admin\" authenticated={isAuthenticated} component={Admin} />\n            <PrivateRoute path=\"/creator\" authenticated={isAuthenticated} component={Creator} />\n            <PrivateRoute path=\"/distribute\" authenticated={isAuthenticated} component={Distribute} />\n            <PrivateRoute path=\"/distribution\" authenticated={isAuthenticated} component={Distribution} />\n            <PrivateRoute path=\"/distributor\" authenticated={isAuthenticated} component={Distributor} />\n            <PrivateRoute path=\"/groups\" authenticated={isAuthenticated} component={Groups} />\n\n            <PublicRoute path=\"/login\" authenticated={isAuthenticated} component={Login}></PublicRoute>\n          </Switch>\n        )}\n        <Notification />\n      </Router>\n    </Layout>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './stylesheets/index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}